<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Das gro√üe Datebuch ‚ùÑÔ∏è</title>
    <meta name="description" content="Date-Ideen App f√ºr Nick & Solli - Kalender, Events & Reiseziele">
    <meta name="theme-color" content="#e8b4b8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Datebuch">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üíï</text></svg>">
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkRhcyBncm/Dn2UgRGF0ZWJ1Y2giLAogICJzaG9ydF9uYW1lIjogIkRhdGVidWNoIiwKICAic3RhcnRfdXJsIjogIi4iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiNmYWY4ZjUiLAogICJ0aGVtZV9jb2xvciI6ICIjZThiNGI4IiwKICAiaWNvbnMiOiBbXQp9">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/topojson-client@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/earcut@2.2.4/dist/earcut.min.js"></script>
    <!-- Leaflet f√ºr Karten -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        :root {
            --cream: #faf8f5;
            --warm-white: #f5f0e8;
            --sage: #8fbc8f;
            --sage-dark: #6b8e6b;
            --rose: #e8b4b8;
            --rose-dark: #d4949a;
            --rose-light: #fdf2f3;
            --gold: #d4a574;
            --text: #2d3436;
            --text-light: #636e72;
            --navy: #2c3e50;
            --ice-blue: #e8f4f8;
            --frost: rgba(255,255,255,0.85);
            --card-bg: white;
            --body-bg: linear-gradient(180deg, #e8f4f8 0%, var(--cream) 30%, var(--warm-white) 100%);
        }

        /* ============ DARK MODE ============ */
        [data-theme="dark"] {
            --cream: #1a1a2e;
            --warm-white: #16213e;
            --sage: #4a9c6d;
            --sage-dark: #3d8b5f;
            --rose: #c97b84;
            --rose-dark: #a85861;
            --rose-light: #2d2d3d;
            --gold: #d4a574;
            --text: #e8e8e8;
            --text-light: #a0a0a0;
            --navy: #e8e8e8;
            --ice-blue: #252540;
            --frost: rgba(30,30,50,0.9);
            --card-bg: #252540;
            --body-bg: linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f0f23 100%);
        }

        [data-theme="dark"] body {
            background: var(--body-bg);
        }

        [data-theme="dark"] .date-card,
        [data-theme="dark"] .modal-content,
        [data-theme="dark"] .combo-part-card,
        [data-theme="dark"] .autocomplete-dropdown {
            background: var(--card-bg);
        }

        [data-theme="dark"] .date-card-header {
            background: linear-gradient(135deg, #252540, #1a1a2e);
        }

        [data-theme="dark"] .book-cover {
            background: linear-gradient(145deg, #1a1a2e 0%, #0f0f23 50%, #050510 100%);
        }

        [data-theme="dark"] .category-header,
        [data-theme="dark"] .controls-section,
        [data-theme="dark"] .nav-tabs,
        [data-theme="dark"] .globe-section,
        [data-theme="dark"] .list-container,
        [data-theme="dark"] .memories-grid {
            background: var(--frost);
        }

        [data-theme="dark"] .nav-tab {
            background: var(--card-bg);
            color: var(--text);
        }

        [data-theme="dark"] .btn-secondary {
            background: var(--card-bg);
            color: var(--text);
        }

        [data-theme="dark"] .form-group input,
        [data-theme="dark"] .form-group select,
        [data-theme="dark"] .form-group textarea {
            background: var(--card-bg);
            color: var(--text);
            border-color: var(--ice-blue);
        }

        [data-theme="dark"] .event-location-info {
            background: var(--ice-blue);
        }

        [data-theme="dark"] .autocomplete-item:hover {
            background: var(--ice-blue);
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        /* Book Opening Animation */
        .book-intro {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(180deg, #e8f4f8 0%, var(--cream) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            perspective: 1500px;
        }
        .book-intro.hidden { display: none; }

        .book-3d {
            width: 380px;
            height: 520px;
            position: relative;
            transform-style: preserve-3d;
            animation: bookFloat 2s ease-in-out infinite;
            cursor: pointer;
        }
        @keyframes bookFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .book-spine {
            position: absolute;
            width: 40px;
            height: 100%;
            left: 0;
            background: linear-gradient(90deg, #8B4513, #A0522D, #8B4513);
            transform: rotateY(-90deg) translateZ(20px);
            border-radius: 3px 0 0 3px;
        }

        .book-cover-front {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(145deg, #4a5568, #2d3748);
            border-radius: 0 8px 8px 0;
            transform-origin: left center;
            transform: rotateY(0deg);
            transition: transform 1.2s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            padding: 30px;
            box-shadow: 5px 5px 20px rgba(0,0,0,0.3);
            border-left: 4px solid #8B4513;
        }
        .book-cover-front::before {
            content: '';
            position: absolute;
            top: 20px; bottom: 20px;
            left: 15px; right: 15px;
            border: 2px solid var(--gold);
            border-radius: 4px;
            opacity: 0.6;
        }

        .book-3d.opening .book-cover-front {
            transform: rotateY(-160deg);
        }

        .book-cover-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.2rem;
            text-align: center;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .book-cover-subtitle {
            font-size: 1rem;
            opacity: 0.8;
        }

        .book-cover-photo {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            border: 4px solid var(--gold);
            margin: 25px 0;
            object-fit: cover;
            object-position: center 20%;
        }

        .book-page {
            position: absolute;
            width: calc(100% - 5px);
            height: calc(100% - 10px);
            top: 5px;
            left: 5px;
            background: linear-gradient(90deg, #f5f0e8, #faf8f5);
            border-radius: 0 6px 6px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.2rem;
            color: var(--text);
            text-align: center;
            padding: 30px;
        }

        .open-book-btn {
            margin-top: 30px;
            padding: 12px 30px;
            background: var(--sage);
            color: white;
            border: none;
            border-radius: 25px;
            font-family: inherit;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(143, 188, 143, 0.4);
        }
        .open-book-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(143, 188, 143, 0.5);
        }

        /* Hamster Cursor f√ºr Solli */
        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(180deg, #e8f4f8 0%, var(--cream) 30%, var(--warm-white) 100%);
            color: var(--text);
            min-height: 100vh;
            cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='36' r='22' fill='%23f4d9a0'/%3E%3Ccircle cx='20' cy='20' r='10' fill='%23f4d9a0'/%3E%3Ccircle cx='44' cy='20' r='10' fill='%23f4d9a0'/%3E%3Ccircle cx='20' cy='20' r='6' fill='%23fce5c0'/%3E%3Ccircle cx='44' cy='20' r='6' fill='%23fce5c0'/%3E%3Ccircle cx='24' cy='32' r='3' fill='%23333'/%3E%3Ccircle cx='40' cy='32' r='3' fill='%23333'/%3E%3Ccircle cx='25' cy='31' r='1' fill='white'/%3E%3Ccircle cx='41' cy='31' r='1' fill='white'/%3E%3Cellipse cx='32' cy='40' rx='4' ry='3' fill='%23ffb6c1'/%3E%3Cpath d='M28 44 Q32 48 36 44' stroke='%23333' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3Ccircle cx='18' cy='40' r='6' fill='%23ffcccb' opacity='0.6'/%3E%3Ccircle cx='46' cy='40' r='6' fill='%23ffcccb' opacity='0.6'/%3E%3C/svg%3E") 16 16, auto;
        }

        /* Gr√∂√üerer Hamster f√ºr klickbare Elemente */
        a, button, .btn, .event-card, .calendar-day.has-events, .memory-item, .autocomplete-item, [onclick], input, textarea, select {
            cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='36' r='22' fill='%23f4d9a0'/%3E%3Ccircle cx='20' cy='20' r='10' fill='%23f4d9a0'/%3E%3Ccircle cx='44' cy='20' r='10' fill='%23f4d9a0'/%3E%3Ccircle cx='20' cy='20' r='6' fill='%23fce5c0'/%3E%3Ccircle cx='44' cy='20' r='6' fill='%23fce5c0'/%3E%3Ccircle cx='24' cy='32' r='3' fill='%23333'/%3E%3Ccircle cx='40' cy='32' r='3' fill='%23333'/%3E%3Ccircle cx='25' cy='31' r='1' fill='white'/%3E%3Ccircle cx='41' cy='31' r='1' fill='white'/%3E%3Cellipse cx='32' cy='40' rx='4' ry='3' fill='%23ffb6c1'/%3E%3Cpath d='M26 44 Q32 50 38 44' stroke='%23333' stroke-width='2' fill='none' stroke-linecap='round'/%3E%3Ccircle cx='18' cy='40' r='6' fill='%23ffcccb' opacity='0.6'/%3E%3Ccircle cx='46' cy='40' r='6' fill='%23ffcccb' opacity='0.6'/%3E%3Ctext x='32' y='58' text-anchor='middle' font-size='10' fill='%23e8b4b8'%3E‚ô•%3C/text%3E%3C/svg%3E") 20 20, auto !important;
        }
        
        .book-wrapper { max-width: 900px; margin: 0 auto; padding: 10px; }
        
        /* COVER */
        .book-cover {
            background: linear-gradient(145deg, #4a5568 0%, #2d3748 50%, #1a202c 100%);
            border-radius: 20px;
            padding: 50px 30px 100px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
            box-shadow: 0 25px 80px rgba(0,0,0,0.3);
            margin-bottom: 30px;
        }
        
        /* ICICLES - nur 2-3 St√ºck */
        .icicles {
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 80px;
            pointer-events: none;
        }
        
        .icicle {
            position: absolute;
            width: 0; height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top-style: solid;
            border-top-color: rgba(200, 230, 255, 0.9);
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
            animation: icicleGrow 1.5s ease-out forwards;
        }
        
        @keyframes icicleGrow {
            0% { border-top-width: 0; opacity: 0; }
            100% { border-top-width: var(--h); opacity: 1; }
        }
        
        /* SNOW */
        .particles {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            pointer-events: none;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            width: 4px; height: 4px;
            background: rgba(255,255,255,0.7);
            border-radius: 50%;
            animation: particleFall linear infinite;
        }
        
        @keyframes particleFall {
            0% { transform: translateY(-10px); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 0.8; }
            100% { transform: translateY(500px); opacity: 0; }
        }
        
        .cover-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2rem, 6vw, 3rem);
            font-weight: 600;
            margin-bottom: 8px;
            text-shadow: 0 3px 15px rgba(0,0,0,0.3);
            position: relative;
            z-index: 2;
        }
        
        .cover-subtitle {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 25px;
            position: relative;
            z-index: 2;
        }
        
        /* PHOTO WITH HEARTS */
        .cover-photo-frame {
            width: 160px;
            height: 160px;
            margin: 0 auto 25px;
            border-radius: 50%;
            border: 4px solid var(--gold);
            overflow: visible;
            position: relative;
            z-index: 2;
            box-shadow: 0 8px 30px rgba(0,0,0,0.3);
            cursor: pointer;
            background: var(--navy);
        }
        
        .cover-photo-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }
        
        .cover-photo-frame:hover img { transform: scale(1.08); }
        
        .hearts-container {
            position: absolute;
            top: -30px; left: -30px; right: -30px; bottom: -30px;
            pointer-events: none;
        }
        
        .floating-heart {
            position: absolute;
            font-size: 1rem;
            opacity: 0;
            animation: floatHeart 1.8s ease-out forwards;
        }
        
        @keyframes floatHeart {
            0% { transform: translateY(0) scale(0.5); opacity: 1; }
            100% { transform: translateY(-70px) scale(1.1); opacity: 0; }
        }
        
        .cover-names {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.6rem;
            font-style: italic;
            position: relative;
            z-index: 2;
        }
        
        /* WINTER SCENE */
        .winter-scene {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            height: 100px;
            pointer-events: auto;
        }
        
        .snow-ground {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            height: 30px;
            background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(240,248,255,0.8));
            border-radius: 100% 100% 0 0;
        }
        
        .snow-hill {
            position: absolute;
            bottom: 20px;
            left: 8%;
            width: 90px;
            height: 45px;
            background: rgba(255,255,255,0.9);
            border-radius: 50% 50% 0 0;
        }
        
        .person-solli {
            position: absolute;
            bottom: 55px;
            left: calc(8% + 30px);
            font-size: 1.5rem;
            animation: throwAction 3.5s ease-in-out infinite;
        }
        
        @keyframes throwAction {
            0%, 65%, 100% { transform: rotate(0deg); }
            70% { transform: rotate(-20deg); }
            75% { transform: rotate(15deg); }
        }
        
        .snowball-wrapper {
            position: absolute;
            bottom: 62px;
            left: calc(8% + 55px);
            opacity: 0;
            animation: snowballFly 3.5s ease-in-out infinite;
        }
        
        .snowball {
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 8px rgba(255,255,255,0.9);
        }
        
        .doofer-nick-label {
            position: absolute;
            bottom: 15px;
            left: -15px;
            font-size: 0.55rem;
            color: white;
            text-shadow: 0 1px 3px rgba(0,0,0,0.5);
            white-space: nowrap;
            font-weight: 600;
            opacity: 0;
            animation: labelAppear 3.5s ease-in-out infinite;
        }
        
        @keyframes labelAppear {
            0%, 73% { opacity: 0; }
            75%, 92% { opacity: 1; }
            95%, 100% { opacity: 0; }
        }
        
        @keyframes snowballFly {
            0%, 70% { opacity: 0; transform: translate(0, 0); }
            75% { opacity: 1; }
            90% { opacity: 1; transform: translate(var(--target-x, 70px), 20px); }
            95% { opacity: 0; transform: translate(calc(var(--target-x, 70px) + 10px), 25px); }
            100% { opacity: 0; }
        }
        
        .person-nick {
            position: absolute;
            bottom: 22px;
            left: calc(8% + 110px);
            font-size: 1.4rem;
            cursor: grab;
            user-select: none;
            transition: transform 0.1s;
            pointer-events: auto;
        }
        .person-nick:active { cursor: grabbing; }
        .person-nick.hit {
            animation: getHit 0.5s ease-out;
        }
        @keyframes getHit {
            0% { transform: rotate(0); }
            25% { transform: rotate(-15deg) translateX(-5px); }
            50% { transform: rotate(10deg) translateX(5px); }
            75% { transform: rotate(-5deg); }
            100% { transform: rotate(0); }
        }

        .icicle {
            cursor: pointer;
            transition: transform 0.2s;
            pointer-events: auto;
        }
        .icicle:hover { transform: scale(1.1); }
        .icicle.falling {
            animation: icicleFall 1s ease-in forwards !important;
        }
        @keyframes icicleFall {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            100% { transform: translateY(200px) rotate(20deg); opacity: 0; }
        }

        .snowman { position: absolute; bottom: 22px; right: 20%; font-size: 2rem; }
        .sled { position: absolute; bottom: 5px; right: 12%; font-size: 1.3rem; }
        .tree { position: absolute; bottom: 22px; font-size: 1.8rem; }
        .tree:nth-of-type(1) { left: 2%; }
        .tree:nth-of-type(2) { right: 2%; font-size: 2.2rem; }
        
        /* CONTROLS */
        .controls-section {
            background: var(--frost);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }
        
        .date-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
            justify-content: center;
        }
        
        .date-filter input[type="date"] {
            padding: 10px 14px;
            border: 2px solid var(--sage);
            border-radius: 10px;
            font-family: inherit;
            font-size: 1rem;
            background: white;
        }
        
        .btn {
            padding: 10px 18px;
            border: none;
            border-radius: 10px;
            font-family: inherit;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary { background: linear-gradient(135deg, var(--sage), var(--sage-dark)); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(143,188,143,0.4); }
        .btn-secondary { background: white; color: var(--text); border: 2px solid var(--sage); }
        .btn-roulette { background: linear-gradient(135deg, var(--rose), var(--rose-dark)); color: white; font-size: 1.05rem; }
        .btn-add { background: linear-gradient(135deg, var(--gold), #b8956a); color: white; }
        
        /* LOADING */
        .loading-indicator {
            text-align: center;
            padding: 40px;
            color: var(--text-light);
        }
        .loading-spinner {
            width: 40px; height: 40px;
            border: 3px solid var(--ice-blue);
            border-top-color: var(--sage);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        /* NAV */
        .nav-tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 15px;
            background: var(--frost);
            border-radius: 16px;
            margin-bottom: 20px;
            justify-content: center;
        }
        
        .nav-tab {
            padding: 10px 16px;
            background: white;
            border: 2px solid transparent;
            border-radius: 10px;
            font-family: inherit;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .nav-tab:hover:not(.active) { border-color: var(--ice-blue); background: var(--frost); }
        .nav-tab.active { background: var(--sage); color: white; border-color: var(--sage); }

        /* Feierabend Toggle */
        .feierabend-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 10px 15px;
            background: linear-gradient(135deg, var(--rose), var(--rose-dark));
            border-radius: 12px;
            margin-bottom: 15px;
            color: white;
            font-size: 0.9rem;
        }
        .feierabend-toggle select {
            padding: 6px 12px;
            border: none;
            border-radius: 8px;
            font-family: inherit;
            font-weight: 600;
            background: white;
            color: var(--text);
            cursor: pointer;
        }

        /* Side buttons (Favoriten, Nope, Eigene) - kompakter */
        .nav-tab-side { padding: 8px 10px; font-size: 1.1rem; }
        .nav-separator { color: var(--text-light); opacity: 0.4; margin: 0 4px; align-self: center; }
        
        /* SECTIONS */
        .category-section { display: none; animation: fadeIn 0.4s ease; }
        .category-section.active { display: block; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .category-header {
            text-align: center;
            padding: 25px 20px;
            background: var(--frost);
            border-radius: 16px;
            margin-bottom: 20px;
        }
        
        .category-header h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.8rem;
            color: var(--navy);
            margin-bottom: 6px;
        }
        
        .category-header p { color: var(--text-light); }
        
        /* DATE CARDS */
        .date-card {
            background: white;
            border-radius: 16px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }
        
        .date-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.12);
        }
        
        .date-card.excluded { display: none; }
        
        .date-card-header {
            padding: 16px 20px;
            background: linear-gradient(135deg, var(--ice-blue), var(--cream));
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .date-emoji { font-size: 1.6rem; }
        
        .date-title {
            flex: 1;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--navy);
            min-width: 180px;
        }
        
        .date-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .badge-event { background: linear-gradient(135deg, var(--rose), var(--rose-dark)); color: white; }
        .badge-free { background: linear-gradient(135deg, #48bb78, #38a169); color: white; }
        .badge-indoor { background: linear-gradient(135deg, #667eea, #764ba2); color: white; }

        /* ============ OPEN/CLOSED STATUS BADGES ============ */
        .open-status-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            font-size: 12px;
            font-weight: bold;
            margin-left: 8px;
            vertical-align: middle;
            cursor: help;
        }
        .open-status-badge.open {
            color: #22c55e;
            text-shadow: 0 0 4px rgba(34, 197, 94, 0.5);
        }
        .open-status-badge.closed {
            color: #ef4444;
            text-shadow: 0 0 4px rgba(239, 68, 68, 0.5);
        }
        .open-status-badge.unknown {
            color: #9ca3af;
            font-size: 10px;
        }

        .venue-hours {
            font-size: 0.75rem;
            color: var(--text-light);
            margin-top: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .venue-hours .hours-icon {
            font-size: 0.8rem;
        }

        .open-filter-toggle {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 14px;
            border-radius: 20px;
            background: var(--card-bg);
            border: 2px solid var(--sage);
            color: var(--text);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .open-filter-toggle:hover {
            background: var(--sage);
            color: white;
        }
        .open-filter-toggle.active {
            background: var(--sage);
            color: white;
        }

        .date-card-body { padding: 20px; }
        .date-description { color: var(--text-light); margin-bottom: 16px; line-height: 1.6; }
        
        .combo-parts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .combo-part-card {
            background: var(--ice-blue);
            border-radius: 12px;
            padding: 14px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .combo-part-card:hover { border-color: var(--sage); }
        
        .combo-part-header { display: flex; align-items: center; gap: 10px; margin-bottom: 6px; }
        
        .combo-part-num {
            width: 22px; height: 22px;
            background: var(--gold);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
        }
        
        .combo-part-title { font-weight: 600; color: var(--navy); }
        .combo-part-desc { font-size: 0.9rem; color: var(--text-light); }
        .combo-part-link { display: block; margin-top: 6px; font-size: 0.85rem; color: var(--sage-dark); font-weight: 500; }
        
        .thumbs-rating {
            display: flex;
            align-items: center;
            gap: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--ice-blue);
        }
        
        .thumbs-rating-label { color: var(--text-light); font-size: 0.9rem; }
        .thumbs-buttons { display: flex; gap: 8px; }
        
        .thumb-btn {
            width: 42px; height: 42px;
            border-radius: 50%;
            border: 2px solid var(--ice-blue);
            background: white;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .thumb-btn:hover { transform: scale(1.1); }
        .thumb-btn.selected { border-width: 3px; }
        .thumb-up.selected { background: var(--sage); border-color: var(--sage); }
        .thumb-down.selected { background: var(--rose); border-color: var(--rose); }
        
        /* MEMORIES */
        .memories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 12px;
            padding: 20px;
            background: var(--frost);
            border-radius: 16px;
        }
        
        .memory-item {
            aspect-ratio: 1;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease;
            position: relative;
            background: var(--ice-blue);
        }
        
        .memory-item:hover { transform: scale(1.05); }
        .memory-item img { width: 100%; height: 100%; object-fit: cover; }
        
        .memory-item .caption {
            position: absolute;
            bottom: 0; left: 0; right: 0;
            padding: 25px 8px 8px;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .memory-item .edit-note {
            position: absolute;
            top: 5px; right: 5px;
            background: rgba(255,255,255,0.9);
            border-radius: 50%;
            width: 24px; height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .memory-item:hover .edit-note { opacity: 1; }
        
        .add-memory {
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--ice-blue);
            border: 2px dashed var(--sage);
            font-size: 2rem;
            color: var(--sage);
        }
        
        /* GLOBE */
        .globe-section {
            background: var(--frost);
            border-radius: 16px;
            padding: 25px 20px;
            margin-bottom: 20px;
        }
        
        .globe-header { text-align: center; }
        .globe-header h2 { font-family: 'Cormorant Garamond', serif; font-size: 1.8rem; color: var(--navy); margin-bottom: 6px; }
        .globe-header p { color: var(--text-light); margin-bottom: 20px; }
        
        .globe-container { width: 100%; height: 380px; position: relative; }
        #globeCanvas { width: 100%; height: 100%; display: block; }

        .globe-controls {
            position: absolute;
            right: 10px;
            top: 10px;
            display: flex;
            flex-direction: column;
            gap: 6px;
            z-index: 10;
        }
        .globe-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 2px solid var(--sage);
            background: var(--frost);
            color: var(--sage-dark);
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        .globe-btn:hover {
            background: var(--sage);
            color: white;
            transform: scale(1.1);
        }
        .globe-btn.cities-btn {
            font-size: 1rem;
        }
        
        .globe-legend { display: flex; justify-content: center; gap: 25px; margin-top: 18px; }
        .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.9rem; }
        .legend-dot { width: 12px; height: 12px; border-radius: 50%; }
        .legend-dot.visited { background: var(--sage); }
        .legend-dot.wishlist { background: var(--rose); }
        .globe-instructions { color: var(--text-light); font-size: 0.85rem; margin-top: 12px; text-align: center; }
        
        /* MODALS */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal.active { display: flex; }
        
        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 480px;
            width: 100%;
            max-height: 85vh;
            overflow-y: auto;
            animation: modalIn 0.3s ease;
            position: relative;
        }
        
        @keyframes modalIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        .modal-close {
            position: absolute;
            top: 12px; right: 12px;
            width: 34px; height: 34px;
            border: none;
            background: var(--ice-blue);
            border-radius: 50%;
            font-size: 1.1rem;
            cursor: pointer;
            z-index: 10;
        }
        
        .modal-header { padding: 22px; text-align: center; border-bottom: 1px solid var(--ice-blue); }
        .modal-header h3 { font-family: 'Cormorant Garamond', serif; font-size: 1.5rem; color: var(--navy); }
        .modal-body { padding: 22px; }

        /* Date Navigation Buttons */
        .date-nav-btn {
            width: 36px; height: 36px;
            border: none;
            background: var(--sage);
            color: white;
            border-radius: 50%;
            font-size: 1.4rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        .date-nav-btn:hover { background: var(--rose); transform: scale(1.1); }
        
        /* ROULETTE */
        .roulette-result { text-align: center; }
        .roulette-emoji { font-size: 3.5rem; margin-bottom: 12px; }
        .roulette-emoji.spinning { animation: spinEmoji 0.5s ease-out; }
        @keyframes spinEmoji { from { transform: rotate(0deg); } to { transform: rotate(720deg); } }
        .roulette-title { font-family: 'Cormorant Garamond', serif; font-size: 1.6rem; color: var(--navy); margin-bottom: 18px; }
        .roulette-parts { display: flex; flex-direction: column; gap: 10px; margin-bottom: 18px; text-align: left; }
        .roulette-part { background: var(--ice-blue); border-radius: 10px; padding: 12px; }
        .roulette-part-title { font-weight: 600; color: var(--navy); margin-bottom: 4px; }
        .roulette-part-desc { color: var(--text-light); font-size: 0.9rem; }
        .roulette-actions { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
        
        /* FORM */
        .form-group { margin-bottom: 14px; }
        .form-group label { display: block; font-weight: 600; margin-bottom: 5px; color: var(--navy); }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 11px;
            border: 2px solid var(--ice-blue);
            border-radius: 10px;
            font-family: inherit;
            font-size: 1rem;
        }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { outline: none; border-color: var(--sage); }
        .form-group textarea { min-height: 70px; resize: vertical; }

        /* AUTOCOMPLETE */
        .autocomplete-dropdown {
            position: fixed;
            background: white;
            border: 2px solid var(--ice-blue);
            border-radius: 10px;
            max-height: 250px;
            overflow-y: auto;
            z-index: 10000;
            display: none;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            min-width: 280px;
        }
        .autocomplete-dropdown.active { display: block; }
        .autocomplete-item {
            padding: 10px 12px;
            cursor: pointer;
            border-bottom: 1px solid var(--ice-blue);
            transition: background 0.2s;
        }
        .autocomplete-item:last-child { border-bottom: none; }
        .autocomplete-item:hover { background: var(--frost); }
        .autocomplete-item .item-name { font-weight: 600; color: var(--navy); }
        .autocomplete-item .item-location { font-size: 0.8rem; color: var(--text-light); margin-top: 2px; }
        .autocomplete-item .item-type { font-size: 0.75rem; color: var(--rose); background: var(--blush); padding: 2px 8px; border-radius: 10px; margin-left: 8px; }
        .location-info-badge {
            margin-top: 8px;
            padding: 8px 12px;
            background: var(--frost);
            border-radius: 8px;
            font-size: 0.85rem;
            display: none;
        }
        .location-info-badge.active { display: block; }
        .location-info-badge .loc-name { font-weight: 600; color: var(--navy); }
        .location-info-badge .loc-address { color: var(--text-light); font-size: 0.8rem; }
        .location-info-badge .loc-district { display: inline-block; background: var(--sage); color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.7rem; margin-top: 4px; }

        /* LISTS */
        .list-container { background: var(--frost); border-radius: 16px; padding: 20px; }
        .empty-message { text-align: center; color: var(--text-light); padding: 35px 20px; }
        .list-item { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: white; border-radius: 10px; margin-bottom: 10px; }
        .restore-btn { padding: 6px 12px; background: var(--sage); color: white; border: none; border-radius: 6px; font-family: inherit; font-weight: 500; cursor: pointer; font-size: 0.85rem; }
        
        /* SETUP BOX */
        .setup-box {
            background: linear-gradient(135deg, #fff9e6, #fff3cd);
            border: 2px solid var(--gold);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 25px;
        }
        .setup-box h3 { color: var(--navy); margin-bottom: 15px; font-family: 'Cormorant Garamond', serif; font-size: 1.4rem; }
        .setup-box ol { margin-left: 20px; color: var(--text); line-height: 1.8; }
        .setup-box code { background: rgba(0,0,0,0.08); padding: 2px 6px; border-radius: 4px; font-size: 0.9rem; }
        .setup-box a { color: var(--sage-dark); font-weight: 600; }
        
        /* FOOTER */
        .book-footer { text-align: center; padding: 25px; color: var(--text-light); font-style: italic; }

        /* ============ STICKY NAV ============ */
        .nav-tabs.sticky {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            border-radius: 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            animation: slideDown 0.3s ease;
        }
        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
        .nav-spacer { display: none; height: 80px; }
        .nav-spacer.active { display: block; }

        /* ============ BACK TO TOP ============ */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--sage), var(--sage-dark));
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(143,188,143,0.4);
            z-index: 99;
        }
        .back-to-top.visible { opacity: 1; visibility: visible; }
        .back-to-top:hover { transform: translateY(-3px) scale(1.1); }

        /* ============ DARK MODE TOGGLE ============ */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: var(--frost);
            border: 2px solid var(--sage);
            border-radius: 50%;
            font-size: 1.4rem;
            cursor: pointer;
            z-index: 101;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .theme-toggle:hover { transform: scale(1.1); background: var(--sage); }
        [data-theme="dark"] .theme-toggle { background: var(--card-bg); border-color: var(--gold); }

        /* ============ SEARCH BAR ============ */
        .search-container {
            position: relative;
            margin-bottom: 15px;
        }
        .search-input {
            width: 100%;
            padding: 14px 20px 14px 50px;
            border: 2px solid var(--sage);
            border-radius: 25px;
            font-family: inherit;
            font-size: 1rem;
            background: var(--card-bg);
            color: var(--text);
            transition: all 0.3s ease;
        }
        .search-input:focus { outline: none; border-color: var(--rose); box-shadow: 0 0 0 3px rgba(232,180,184,0.2); }
        .search-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
            color: var(--text-light);
        }
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--card-bg);
            border: 2px solid var(--sage);
            border-radius: 16px;
            margin-top: 8px;
            max-height: 400px;
            overflow-y: auto;
            display: none;
            z-index: 100;
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }
        .search-results.active { display: block; }
        .search-result-item {
            padding: 12px 16px;
            border-bottom: 1px solid var(--ice-blue);
            cursor: pointer;
            transition: background 0.2s;
        }
        .search-result-item:hover { background: var(--ice-blue); }
        .search-result-item:last-child { border-bottom: none; }
        .search-result-category { font-size: 0.75rem; color: var(--rose); text-transform: uppercase; }

        /* ============ COUNTDOWN BADGE ============ */
        .countdown-badge {
            background: linear-gradient(135deg, #ff6b6b, #ee5a5a);
            color: white;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 700;
            animation: pulse 2s infinite;
        }
        .countdown-badge.soon { background: linear-gradient(135deg, #ffa502, #ff7f00); }
        .countdown-badge.today { background: linear-gradient(135deg, #ff4757, #ff3344); animation: pulse 1s infinite; }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* ============ PAST EVENT ============ */
        .date-card.past-event {
            opacity: 0.5;
            filter: grayscale(40%);
        }
        .date-card.past-event::after {
            content: 'Vorbei';
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--text-light);
            color: white;
            padding: 4px 10px;
            border-radius: 10px;
            font-size: 0.75rem;
        }
        .date-card { position: relative; }

        /* ============ LIGHTBOX ============ */
        .lightbox {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.95);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .lightbox.active { display: flex; }
        .lightbox img {
            max-width: 90vw;
            max-height: 80vh;
            object-fit: contain;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        .lightbox-caption {
            color: white;
            margin-top: 20px;
            font-size: 1.2rem;
            text-align: center;
        }
        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 2.5rem;
            color: white;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .lightbox-close:hover { transform: scale(1.2); }
        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 3rem;
            color: white;
            cursor: pointer;
            padding: 20px;
            transition: all 0.2s;
        }
        .lightbox-nav:hover { transform: translateY(-50%) scale(1.2); }
        .lightbox-prev { left: 20px; }
        .lightbox-next { right: 20px; }

        /* ============ KOMPAKTE WIDGETS BAR ============ */
        .widgets-bar {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            background: var(--frost);
            border-radius: 12px;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        .widget-mini {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 6px 10px;
            background: white;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text);
        }
        .widget-mini.widget-highlight {
            background: linear-gradient(135deg, var(--rose), var(--rose-dark));
            color: white;
        }
        .widget-mini.widget-btn {
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }
        .widget-mini.widget-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        .widget-mini.clickable {
            cursor: pointer;
        }
        .widget-mini.clickable:hover {
            transform: scale(1.05);
        }

        /* ============ WETTER DETAILS PANEL ============ */
        .weather-details {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            display: none;
        }
        .weather-details.visible {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        .weather-details-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        .weather-details-title {
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .weather-details-close {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1rem;
        }
        .weather-details-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        .weather-detail-item {
            background: rgba(255,255,255,0.15);
            border-radius: 10px;
            padding: 10px;
            text-align: center;
        }
        .weather-detail-label {
            font-size: 0.75rem;
            opacity: 0.85;
            margin-bottom: 4px;
        }
        .weather-detail-value {
            font-size: 1.1rem;
            font-weight: 600;
        }
        .weather-forecast {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(255,255,255,0.2);
        }
        .weather-forecast-title {
            font-size: 0.85rem;
            opacity: 0.85;
            margin-bottom: 8px;
        }
        .weather-hours {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 5px;
        }
        .weather-hour {
            flex-shrink: 0;
            text-align: center;
            padding: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            min-width: 50px;
        }
        .weather-hour-time {
            font-size: 0.7rem;
            opacity: 0.8;
        }
        .weather-hour-icon {
            font-size: 1.2rem;
            margin: 4px 0;
        }
        .weather-hour-temp {
            font-size: 0.85rem;
            font-weight: 600;
        }
        .weather-suggestion-box {
            margin-top: 12px;
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            padding: 10px;
            font-size: 0.9rem;
        }

        /* ============ ESSEN SUCHE & KOCHEN ============ */
        .food-options {
            background: var(--frost);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .food-search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 12px;
        }
        .food-search-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid var(--ice-blue);
            border-radius: 10px;
            font-family: inherit;
            font-size: 1rem;
        }
        .food-search-input:focus {
            outline: none;
            border-color: var(--sage);
        }
        .food-toggle {
            display: flex;
            gap: 8px;
            justify-content: center;
        }
        .food-toggle-btn {
            padding: 10px 20px;
            border: 2px solid var(--sage);
            background: white;
            border-radius: 10px;
            font-family: inherit;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .food-toggle-btn:hover {
            background: var(--ice-blue);
        }
        .food-toggle-btn.active {
            background: var(--sage);
            color: white;
        }
        .cook-intro {
            text-align: center;
            margin-bottom: 20px;
        }
        .cook-intro h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
            color: var(--navy);
            margin-bottom: 8px;
        }
        .recipe-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        .recipe-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }
        .recipe-card:hover {
            transform: translateY(-5px);
        }
        .recipe-image {
            height: 150px;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        .recipe-time {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
        }
        .recipe-content {
            padding: 15px;
        }
        .recipe-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--navy);
            margin-bottom: 8px;
        }
        .recipe-desc {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 12px;
        }
        .recipe-tags {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
            margin-bottom: 12px;
        }
        .recipe-tag {
            background: var(--ice-blue);
            color: var(--navy);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
        }
        .recipe-tag.vegan {
            background: #d4edda;
            color: #155724;
        }
        .recipe-link {
            display: inline-block;
            color: var(--sage);
            font-weight: 600;
            text-decoration: none;
        }
        .recipe-link:hover {
            text-decoration: underline;
        }
        .food-search-results {
            margin-bottom: 20px;
        }
        .food-result-item {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .food-result-info h4 {
            margin: 0 0 4px 0;
            color: var(--navy);
        }
        .food-result-info p {
            margin: 0;
            color: var(--text-light);
            font-size: 0.85rem;
        }

        /* ============ AI INSIGHTS PANEL ============ */
        .ai-insights-panel {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            animation: fadeIn 0.3s ease;
        }
        .ai-insights-panel.collapsed {
            display: none;
        }
        .ai-insights-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .ai-insights-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.4rem;
            font-weight: 600;
        }
        .ai-insights-close {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
        }
        .ai-section {
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
        }
        .ai-section-title {
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .ai-stat-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        .ai-stat {
            background: rgba(255,255,255,0.15);
            border-radius: 10px;
            padding: 12px;
            text-align: center;
        }
        .ai-stat-value {
            font-size: 1.5rem;
            font-weight: 700;
        }
        .ai-stat-label {
            font-size: 0.8rem;
            opacity: 0.85;
        }
        .ai-tag-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        .ai-tag {
            background: rgba(255,255,255,0.2);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
        }
        .ai-tag.highlight {
            background: rgba(255,255,255,0.4);
            font-weight: 600;
        }
        .ai-recommendation {
            background: rgba(255,255,255,0.2);
            border-radius: 12px;
            padding: 12px;
            margin-top: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .ai-recommendation:hover {
            background: rgba(255,255,255,0.3);
            transform: translateX(5px);
        }
        .ai-recommendation-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        .ai-recommendation-reason {
            font-size: 0.85rem;
            opacity: 0.9;
        }
        .ai-district-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }
        .ai-district-name {
            width: 100px;
            font-size: 0.85rem;
        }
        .ai-district-progress {
            flex: 1;
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            overflow: hidden;
        }
        .ai-district-fill {
            height: 100%;
            background: rgba(255,255,255,0.8);
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        .ai-district-count {
            width: 30px;
            text-align: right;
            font-size: 0.85rem;
        }

        /* ============ ACHIEVEMENTS (kollabierbar) ============ */
        .achievements-section {
            background: var(--frost);
            border-radius: 12px;
            padding: 15px;
            padding-top: 35px; /* Platz f√ºr Tooltips */
            margin-bottom: 10px;
            overflow: visible;
            transition: all 0.3s ease;
        }
        .achievements-section.collapsed {
            display: none;
        }
        .achievements-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        .achievement {
            width: 50px;
            height: 50px;
            background: var(--ice-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            position: relative;
            transition: all 0.3s ease;
        }
        .achievement.unlocked { background: linear-gradient(135deg, var(--gold), #c49660); }
        .achievement.locked { filter: grayscale(100%); opacity: 0.4; }
        .achievement:hover { transform: scale(1.15); }
        .achievement-tooltip {
            position: absolute;
            bottom: calc(100% + 8px);
            left: 50%;
            transform: translateX(-50%);
            background: var(--navy);
            color: white;
            padding: 6px 10px;
            border-radius: 8px;
            font-size: 0.75rem;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s;
            z-index: 1000;
            pointer-events: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        .achievement:hover .achievement-tooltip {
            opacity: 1;
            visibility: visible;
        }

        /* ============ STREAK TRACKER ============ */
        .streak-display {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background: linear-gradient(135deg, #ff9500, #ff7f00);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        .streak-fire { font-size: 1.5rem; animation: firePulse 0.5s infinite alternate; }
        @keyframes firePulse {
            from { transform: scale(1); }
            to { transform: scale(1.2); }
        }

        /* ============ MINI CALENDAR (kollabierbar) ============ */
        .mini-calendar {
            background: var(--frost);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }
        .mini-calendar.collapsed {
            display: none;
        }
        .mini-calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .mini-calendar-title { font-weight: 600; color: var(--navy); }
        .mini-calendar-nav { display: flex; gap: 5px; }
        .mini-calendar-nav button {
            width: 28px;
            height: 28px;
            border: none;
            background: var(--ice-blue);
            border-radius: 50%;
            cursor: pointer;
        }
        .mini-calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
            text-align: center;
        }
        .mini-calendar-day {
            padding: 8px 4px;
            border-radius: 8px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .mini-calendar-day.header { font-weight: 600; color: var(--text-light); font-size: 0.75rem; }
        .mini-calendar-day.other-month { color: var(--text-light); opacity: 0.4; }
        .mini-calendar-day.has-event { background: var(--rose); color: white; font-weight: 600; }
        .mini-calendar-day.today { border: 2px solid var(--sage); }
        .mini-calendar-day:hover:not(.header) { background: var(--ice-blue); }

        /* ============ BUDGET DISPLAY ============ */
        .budget-display {
            background: linear-gradient(135deg, var(--gold), #c49660);
            color: white;
            padding: 15px;
            border-radius: 12px;
            margin-top: 15px;
            text-align: center;
        }
        .budget-amount { font-size: 2rem; font-weight: 700; }
        .budget-label { font-size: 0.85rem; opacity: 0.9; }
        .budget-breakdown { display: flex; justify-content: center; gap: 20px; margin-top: 10px; font-size: 0.85rem; }

        /* ============ DATE HISTORY ============ */
        .date-history {
            background: var(--frost);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .date-history h3 {
            font-family: 'Cormorant Garamond', serif;
            color: var(--navy);
            margin-bottom: 15px;
        }
        .history-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--card-bg);
            border-radius: 10px;
            margin-bottom: 8px;
        }
        .history-emoji { font-size: 1.5rem; }
        .history-date { font-size: 0.8rem; color: var(--text-light); }

        /* ============ RESPONSIVE MOBILE ============ */
        @media (max-width: 600px) {
            .theme-toggle { top: 10px; right: 10px; width: 40px; height: 40px; font-size: 1.1rem; }
            .back-to-top { bottom: 20px; right: 20px; width: 45px; height: 45px; }
            .stats-grid { grid-template-columns: repeat(3, 1fr); gap: 8px; }
            .stat-value { font-size: 1.2rem; }
            .mini-calendar-day { padding: 6px 2px; font-size: 0.75rem; }
            .lightbox-nav { font-size: 2rem; padding: 10px; }
        }

        /* TOAST */
        .toast-notification {
            position: fixed;
            bottom: 25px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--sage);
            color: white;
            padding: 12px 22px;
            border-radius: 10px;
            font-weight: 500;
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
            z-index: 9999;
            animation: toastIn 0.3s ease, toastOut 0.3s ease 2s forwards;
        }
        
        @keyframes toastIn {
            from { opacity: 0; transform: translateX(-50%) translateY(20px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
        @keyframes toastOut { from { opacity: 1; } to { opacity: 0; } }
        
        /* DATE BUILDER */
        .date-builder-flow { display: flex; flex-direction: column; gap: 20px; }
        .date-builder-question {
            background: linear-gradient(135deg, var(--ice-blue), var(--cream));
            border-radius: 16px;
            padding: 20px;
            text-align: center;
        }
        .date-builder-question h4 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.4rem;
            color: var(--navy);
            margin-bottom: 16px;
        }
        .date-builder-options { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
        .date-option-btn {
            padding: 12px 20px;
            background: white;
            border: 2px solid var(--sage);
            border-radius: 12px;
            font-family: inherit;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .date-option-btn:hover { background: var(--sage); color: white; transform: translateY(-2px); }
        .date-option-btn.selected { background: var(--sage); color: white; }

        /* CATEGORY PILLS */
        .category-pills { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-bottom: 16px; }
        .category-pill {
            padding: 8px 16px;
            background: white;
            border: 2px solid var(--ice-blue);
            border-radius: 20px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .category-pill:hover { border-color: var(--sage); transform: translateY(-1px); }
        .category-pill.active { background: var(--sage); border-color: var(--sage); color: white; }
        .category-pill .pill-count {
            background: var(--rose);
            color: white;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 0.75rem;
            margin-left: 6px;
        }

        /* LEAFLET MAP */
        .map-container {
            height: 250px;
            border-radius: 12px;
            overflow: hidden;
            margin: 16px 0;
            border: 2px solid var(--ice-blue);
        }
        #dateBuilderMap { height: 100%; width: 100%; }

        /* EVENT CARD ENHANCEMENTS */
        .event-location-info {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
            padding: 10px;
            background: var(--ice-blue);
            border-radius: 10px;
            font-size: 0.9rem;
        }
        .event-location-info .location-icon { font-size: 1.2rem; }
        .event-link-btn {
            display: inline-block;
            padding: 8px 16px;
            background: linear-gradient(135deg, var(--sage), var(--sage-dark));
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.85rem;
            margin-top: 10px;
            transition: all 0.2s ease;
        }
        .event-link-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(143,188,143,0.4); }

        /* DATE SUMMARY */
        .date-summary {
            background: linear-gradient(135deg, var(--sage), var(--sage-dark));
            color: white;
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
        }
        .date-summary h4 { font-family: 'Cormorant Garamond', serif; font-size: 1.3rem; margin-bottom: 15px; }
        .date-summary-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        .date-summary-item:last-child { border-bottom: none; }
        .date-summary-item .step-num {
            width: 28px; height: 28px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        /* TRAVEL DIARY */
        .diary-section { margin-top: 20px; }
        .diary-entry {
            background: var(--ice-blue);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
        }
        .diary-entry-date {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-bottom: 8px;
        }
        .diary-entry-text {
            font-size: 0.95rem;
            line-height: 1.5;
            color: var(--text);
        }
        .diary-media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 8px;
            margin-top: 10px;
        }
        .diary-media-item {
            aspect-ratio: 1;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
        }
        .diary-media-item img, .diary-media-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .diary-add-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, var(--sage), var(--sage-dark));
            color: white;
            border: none;
            border-radius: 10px;
            font-family: inherit;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
        }
        .diary-add-btn:hover { opacity: 0.9; }
        .diary-form { margin-top: 15px; }
        .diary-form textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            border: 2px solid var(--ice-blue);
            border-radius: 10px;
            font-family: inherit;
            font-size: 0.95rem;
            resize: vertical;
            margin-bottom: 10px;
        }
        .diary-form textarea:focus { outline: none; border-color: var(--sage); }
        .diary-media-upload {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }
        .diary-upload-btn {
            padding: 10px 15px;
            background: var(--ice-blue);
            border: 2px dashed var(--sage);
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
        }
        .diary-upload-btn:hover { background: white; }

        /* Hamster-Cursor √úBERALL - keine Hand, kein Default! */
        * {
            cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='36' r='22' fill='%23f4d9a0'/%3E%3Ccircle cx='20' cy='20' r='10' fill='%23f4d9a0'/%3E%3Ccircle cx='44' cy='20' r='10' fill='%23f4d9a0'/%3E%3Ccircle cx='20' cy='20' r='6' fill='%23fce5c0'/%3E%3Ccircle cx='44' cy='20' r='6' fill='%23fce5c0'/%3E%3Ccircle cx='24' cy='32' r='3' fill='%23333'/%3E%3Ccircle cx='40' cy='32' r='3' fill='%23333'/%3E%3Ccircle cx='25' cy='31' r='1' fill='white'/%3E%3Ccircle cx='41' cy='31' r='1' fill='white'/%3E%3Cellipse cx='32' cy='40' rx='4' ry='3' fill='%23ffb6c1'/%3E%3Cpath d='M28 44 Q32 48 36 44' stroke='%23333' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3Ccircle cx='18' cy='40' r='6' fill='%23ffcccb' opacity='0.6'/%3E%3Ccircle cx='46' cy='40' r='6' fill='%23ffcccb' opacity='0.6'/%3E%3C/svg%3E") 16 16, auto !important;
        }

        /* MOBILE */
        @media (max-width: 600px) {
            /* Book intro mobile */
            .book-3d {
                width: 280px;
                height: 380px;
            }
            .book-cover-title { font-size: 1.6rem; }
            .book-cover-subtitle { font-size: 0.85rem; }
            .book-cover-photo {
                width: 110px;
                height: 110px;
            }
            .open-book-btn {
                padding: 10px 24px;
                font-size: 0.9rem;
            }
            .book-page { font-size: 1rem; padding: 20px; }

            /* Rest of mobile styles */
            .book-cover { padding: 35px 20px 90px; }
            .cover-title { font-size: 1.7rem; }
            .cover-photo-frame { width: 130px; height: 130px; }
            .nav-tabs { gap: 6px; padding: 10px; }
            .nav-tab { padding: 8px 12px; font-size: 0.8rem; }
            .date-title { font-size: 1.15rem; min-width: auto; }
            .combo-parts { grid-template-columns: 1fr; }
            .globe-container { height: 280px; }
            .roulette-actions { flex-direction: column; }
            .date-filter { flex-direction: column; }
            .map-container { height: 200px; }
            .feierabend-toggle { font-size: 0.85rem; padding: 8px 12px; }
        }
    </style>
</head>
<body>
    <!-- Theme Toggle (Dark Mode) -->
    <button class="theme-toggle" onclick="toggleTheme()" title="Dark Mode">üåô</button>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop" onclick="scrollToTop()">‚Üë</button>

    <!-- Lightbox for Memories -->
    <div class="lightbox" id="lightbox">
        <span class="lightbox-close" onclick="closeLightbox()">√ó</span>
        <span class="lightbox-nav lightbox-prev" onclick="navigateLightbox(-1)">‚Äπ</span>
        <span class="lightbox-nav lightbox-next" onclick="navigateLightbox(1)">‚Ä∫</span>
        <img id="lightboxImg" src="" alt="">
        <div class="lightbox-caption" id="lightboxCaption"></div>
    </div>

    <!-- Book Opening Animation -->
    <div class="book-intro" id="bookIntro">
        <div class="book-3d" id="book3d">
            <div class="book-spine"></div>
            <div class="book-page">
                <div style="font-size: 1.5rem;">
                    Ich freu mich drauf ‚ù§Ô∏è
                </div>
            </div>
            <div class="book-cover-front">
                <div class="book-cover-title">Das gro√üe Datebuch</div>
                <div class="book-cover-subtitle">Winter Edition 2025/26</div>
                <img src="memories/IMG_6446.jpg" alt="Nick & Solli" class="book-cover-photo">
                <button class="open-book-btn" id="openBookBtn">Aufschlagen</button>
            </div>
        </div>
    </div>

    <div class="book-wrapper">
        <div class="book-cover">
            <div class="icicles" id="icicles"></div>
            <div class="particles" id="particles"></div>
            
            <h1 class="cover-title">‚ùÑÔ∏è Das gro√üe Datebuch ‚ùÑÔ∏è</h1>
            <p class="cover-subtitle">Winter Edition 2025/26</p>
            
            <div class="cover-photo-frame" id="coverPhotoFrame">
                <div class="hearts-container" id="heartsContainer"></div>
                <img src="data:image/jpeg;base64,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" alt="Nick & Solli" id="coverPhoto">
            </div>
            
            <p class="cover-names">Nick & Solli üíï</p>
            
            <div class="winter-scene">
                <div class="snow-ground"></div>
                <div class="snow-hill"></div>
                <span class="person-solli">üë©</span>
                <div class="snowball-wrapper">
                    <div class="snowball"></div>
                    <span class="doofer-nick-label">doofer Nick</span>
                </div>
                <span class="person-nick"><svg viewBox="0 0 36 36" width="28" height="28"><circle cx="18" cy="18" r="12" fill="#FFDBB4"/><ellipse cx="18" cy="20" rx="3" ry="2" fill="#C4A57B"/><circle cx="14" cy="16" r="1.5" fill="#333"/><circle cx="22" cy="16" r="1.5" fill="#333"/><path d="M15 22 Q18 24 21 22" stroke="#333" stroke-width="1" fill="none"/><path d="M8 14 Q10 8 14 10 Q12 6 18 6 Q24 6 22 10 Q26 8 28 14 Q26 10 24 12 Q22 8 18 9 Q14 8 12 12 Q10 10 8 14" fill="#5C4033"/><path d="M7 16 Q8 12 10 14 Q9 10 12 12" fill="#5C4033"/><path d="M29 16 Q28 12 26 14 Q27 10 24 12" fill="#5C4033"/></svg></span>
                <span class="snowman">‚õÑ</span>
                <span class="sled">üõ∑</span>
                <span class="tree">üå≤</span>
                <span class="tree">üéÑ</span>
            </div>
        </div>
        
        <div class="controls-section">
            <div class="date-filter">
                <input type="date" id="globalDate">
                <button class="btn btn-primary" onclick="filterByDate()">üìÖ Events an diesem Tag</button>
                <button class="btn btn-roulette" onclick="spinRoulette()">üé∞ Zuf√§lliges Date</button>
                <button class="btn btn-add" onclick="openAddDateModal()">‚ûï Eigenes Date</button>
            </div>
        </div>
        
        <!-- Kompakte Widgets-Zeile -->
        <div class="widgets-bar">
            <!-- Wetter (mini, klickbar) -->
            <div class="widget-mini clickable" id="weatherWidget" onclick="toggleWeatherDetails()" title="Klick f√ºr Details">
                <span id="weatherIcon">‚òÄÔ∏è</span>
                <span id="weatherTemp">--¬∞</span>
            </div>

            <!-- Date Counter (mini) -->
            <div class="widget-mini widget-highlight" id="dateStats" title="Eure Dates">
                <span>üíï</span>
                <span id="dateCounter">0</span>
            </div>

            <!-- Streak (mini) -->
            <div class="widget-mini" id="streakDisplay" style="display:none;" title="Date-Streak">
                <span>üî•</span>
                <span id="streakCount">0</span>
            </div>

            <!-- Achievements Button -->
            <button class="widget-mini widget-btn" onclick="toggleAchievements()" title="Achievements">
                üèÜ <span id="achievementCount">0</span>
            </button>

            <!-- Kalender Button -->
            <button class="widget-mini widget-btn" onclick="toggleMiniCalendar()" title="Kalender">
                üìÖ
            </button>

            <!-- AI Insights Button -->
            <button class="widget-mini widget-btn" onclick="toggleAIInsights()" title="Eure Date-Vorlieben" style="background:linear-gradient(135deg, #a855f7, #6366f1);color:white;">
                ü§ñ
            </button>
        </div>

        <!-- Search Bar (kompakter) -->
        <div class="search-container">
            <span class="search-icon">üîç</span>
            <input type="text" class="search-input" id="globalSearch" placeholder="Suchen..." oninput="handleSearch(this.value)">
            <div class="search-results" id="searchResults"></div>
        </div>

        <!-- Wetter Details Panel (versteckt) -->
        <div class="weather-details" id="weatherDetails">
            <div class="weather-details-header">
                <div class="weather-details-title">
                    <span id="weatherDetailsIcon">‚òÄÔ∏è</span>
                    <span>Hamburg Wetter</span>
                </div>
                <button class="weather-details-close" onclick="toggleWeatherDetails()">√ó</button>
            </div>
            <div class="weather-details-grid">
                <div class="weather-detail-item">
                    <div class="weather-detail-label">Temperatur</div>
                    <div class="weather-detail-value" id="weatherDetailsTemp">--¬∞</div>
                </div>
                <div class="weather-detail-item">
                    <div class="weather-detail-label">Gef√ºhlt</div>
                    <div class="weather-detail-value" id="weatherDetailsFeels">--¬∞</div>
                </div>
                <div class="weather-detail-item">
                    <div class="weather-detail-label">Wind</div>
                    <div class="weather-detail-value" id="weatherDetailsWind">-- km/h</div>
                </div>
                <div class="weather-detail-item">
                    <div class="weather-detail-label">Luftfeuchtigkeit</div>
                    <div class="weather-detail-value" id="weatherDetailsHumidity">--%</div>
                </div>
            </div>
            <div class="weather-forecast">
                <div class="weather-forecast-title">N√§chste Stunden</div>
                <div class="weather-hours" id="weatherHours"></div>
            </div>
            <div class="weather-suggestion-box" id="weatherSuggestion">
                Lade Date-Vorschlag...
            </div>
        </div>

        <!-- AI Insights Panel (versteckt) -->
        <div class="ai-insights-panel collapsed" id="aiInsightsPanel">
            <div class="ai-insights-header">
                <div class="ai-insights-title">ü§ñ Eure Date-DNA</div>
                <button class="ai-insights-close" onclick="toggleAIInsights()">√ó</button>
            </div>
            <div class="ai-insights-content" id="aiInsightsContent">
                <p style="text-align:center;color:var(--text-light);">Analysiere eure Dates...</p>
            </div>
        </div>

        <!-- Mini Calendar (versteckt) -->
        <div class="mini-calendar collapsed" id="miniCalendar">
            <div class="mini-calendar-header">
                <div class="mini-calendar-title" id="calendarTitle">Dezember 2025</div>
                <div class="mini-calendar-nav">
                    <button onclick="changeCalendarMonth(-1)">‚Äπ</button>
                    <button onclick="changeCalendarMonth(1)">‚Ä∫</button>
                </div>
            </div>
            <div class="mini-calendar-grid" id="calendarGrid"></div>
        </div>

        <!-- Achievements (versteckt) -->
        <div class="achievements-section collapsed" id="achievementsSection">
            <div class="achievements-grid" id="achievementsGrid"></div>
        </div>

        <!-- Nav Spacer for sticky nav -->
        <div class="nav-spacer" id="navSpacer"></div>

        <!-- Kompaktes Men√º -->
        <nav class="nav-tabs" id="navTabs">
            <button class="nav-tab active" data-category="handwerk">üî®</button>
            <button class="nav-tab" data-category="aktiv">üèÉ‚Äç‚ôÄÔ∏è</button>
            <button class="nav-tab" data-category="wellness">üíÜ</button>
            <button class="nav-tab" data-category="comedy">üòÇ</button>
            <button class="nav-tab" data-category="essen">üçΩÔ∏è</button>
            <button class="nav-tab" data-category="shows">üé≠</button>
            <button class="nav-tab" data-category="travel">üåç</button>
            <button class="nav-tab" data-category="memories">üì∏</button>
            <span class="nav-separator">|</span>
            <button class="nav-tab nav-tab-side" data-category="liked">üëç</button>
            <button class="nav-tab nav-tab-side" data-category="nope">üëé</button>
            <button class="nav-tab nav-tab-side" data-category="custom">‚ú®</button>
        </nav>

        <!-- Feierabend Toggle -->
        <div class="feierabend-toggle" id="feierabendToggle">
            <span class="feierabend-label">Frei ab:</span>
            <select id="feierabendTime" onchange="saveFeierabendSetting()">
                <option value="18:00">18:00</option>
                <option value="17:00">17:00</option>
                <option value="ganztags">Ganztags</option>
            </select>
        </div>
        
        <div class="book-content">
            <!-- HANDWERK (1. Position) -->
            <section class="category-section active" id="handwerk">
                <div class="category-header">
                    <h2>üî® Handwerk</h2>
                    <p>Workshops & DIY</p>
                </div>
                <div id="handwerk-container">
                    <div class="loading-indicator">
                        <div class="loading-spinner"></div>
                        <p>Wird geladen...</p>
                    </div>
                </div>
            </section>

            <!-- AKTIV (2. Position) -->
            <section class="category-section" id="aktiv">
                <div class="category-header">
                    <h2>üèÉ‚Äç‚ôÄÔ∏è Aktiv</h2>
                    <p>Sport & Bewegung</p>
                </div>
                <div id="aktiv-container">
                    <p class="empty-message">Keine Aktiv-Angebote gefunden.</p>
                </div>
            </section>

            <!-- WELLNESS (3. Position) -->
            <section class="category-section" id="wellness">
                <div class="category-header">
                    <h2>üíÜ Wellness</h2>
                    <p>Spa, Sauna & Entspannung</p>
                </div>
                <div id="wellness-container">
                    <p class="empty-message">Keine Wellness-Angebote gefunden.</p>
                </div>
            </section>

            <!-- COMEDY (4. Position) -->
            <section class="category-section" id="comedy">
                <div class="category-header">
                    <h2>üòÇ Comedy</h2>
                    <p>Stand-up & Comedy-Shows</p>
                </div>
                <div id="comedy-container">
                    <p class="empty-message">Keine Comedy-Events gefunden.</p>
                </div>
            </section>

            <!-- ESSEN (5. Position) -->
            <section class="category-section" id="essen">
                <div class="category-header">
                    <h2>üçΩÔ∏è Essen</h2>
                    <p>Restaurants & kulinarische Erlebnisse</p>
                </div>

                <!-- Essen-Suche & Selberkochen Toggle -->
                <div class="food-options">
                    <div class="food-search-box">
                        <input type="text" id="foodSearchInput" placeholder="Was willst du essen? (z.B. Ramen, Pizza...)" class="food-search-input">
                        <button class="btn btn-primary" onclick="searchFood()">üîç Finden</button>
                    </div>
                    <div class="food-toggle">
                        <button class="food-toggle-btn active" onclick="showFoodMode('restaurant')">üçΩÔ∏è Restaurant</button>
                        <button class="food-toggle-btn" onclick="showFoodMode('cook')">üë®‚Äçüç≥ Selber kochen</button>
                    </div>
                </div>

                <!-- Restaurant-Ergebnisse -->
                <div id="food-restaurant-mode">
                    <div id="food-search-results" style="display:none;"></div>
                    <div id="essen-container">
                        <p class="empty-message">Keine Restaurant-Tipps gefunden.</p>
                    </div>
                </div>

                <!-- Selber Kochen Modus -->
                <div id="food-cook-mode" style="display:none;">
                    <div class="cook-intro">
                        <h3>üë®‚Äçüç≥ Date-Night Rezepte</h3>
                        <p>Zusammen kochen ist das beste Date! Hier sind unsere Favoriten:</p>
                    </div>
                    <div class="recipe-grid" id="recipeGrid"></div>
                </div>
            </section>

            <!-- SHOWS (6. Position - fusioniert Musical + Variet√© + Theater + Musik) -->
            <section class="category-section" id="shows">
                <div class="category-header">
                    <h2>üé≠ Shows & Konzerte</h2>
                    <p>Musicals, Theater, Variet√© & Live-Musik</p>
                </div>
                <div id="shows-container">
                    <p class="empty-message">Keine Shows gefunden.</p>
                </div>
            </section>

            <!-- MEMORIES -->
            <section class="category-section" id="memories">
                <div class="category-header">
                    <h2>üì∏ Unsere Erinnerungen</h2>
                    <p>Hier sammeln wir unsere sch√∂nsten Momente</p>
                </div>
                <div class="memories-grid" id="memoriesGrid"></div>
                <input type="file" id="memoryUploadInput" accept="image/*,video/*" style="display:none;" onchange="handleMemoryUpload(event)">
                <p style="text-align:center;margin-top:20px;color:var(--text-light);">üí° Klick auf ‚ûï um eigene Fotos/Videos hinzuzuf√ºgen ‚Ä¢ Klick auf ein Bild f√ºr Notizen</p>
            </section>
            
            <!-- TRAVEL -->
            <section class="category-section" id="travel">
                <div class="globe-section">
                    <div class="globe-header">
                        <h2>üåç Unsere Weltkarte</h2>
                        <p>Wo wir schon waren und wo wir noch hinwollen</p>
                    </div>

                    <!-- Travel Stats -->
                    <div class="date-stats" style="margin:15px 0;background:linear-gradient(135deg, #74b9ff, #0984e3);" id="travelStats">
                        <div style="display:flex;justify-content:space-around;flex-wrap:wrap;gap:15px;">
                            <div class="stat-item" style="background:rgba(255,255,255,0.2);flex:1;min-width:80px;">
                                <div class="stat-value" id="travelVisited">0</div>
                                <div class="stat-label">‚úàÔ∏è Besucht</div>
                            </div>
                            <div class="stat-item" style="background:rgba(255,255,255,0.2);flex:1;min-width:80px;">
                                <div class="stat-value" id="travelWishlist">0</div>
                                <div class="stat-label">üåü Wishlist</div>
                            </div>
                            <div class="stat-item" style="background:rgba(255,255,255,0.2);flex:1;min-width:80px;">
                                <div class="stat-value" id="travelDistance">0</div>
                                <div class="stat-label">üåç km gereist</div>
                            </div>
                        </div>
                    </div>

                    <div class="globe-container">
                        <canvas id="globeCanvas"></canvas>
                        <div class="globe-controls">
                            <button class="globe-btn" onclick="globeZoom(-1)" title="Reinzoomen">+</button>
                            <button class="globe-btn" onclick="globeZoom(1)" title="Rauszoomen">‚àí</button>
                            <button class="globe-btn cities-btn" onclick="showCities()" title="St√§dte zeigen">üèôÔ∏è</button>
                        </div>
                    </div>
                    <div class="globe-legend">
                        <div class="legend-item"><span class="legend-dot visited"></span><span>Waren wir schon</span></div>
                        <div class="legend-item"><span class="legend-dot wishlist"></span><span>Wollen wir hin</span></div>
                    </div>
                    <p class="globe-instructions">üí° Drehen mit der Maus/Finger ‚Ä¢ Klick auf Marker f√ºr Details</p>
                </div>
            </section>
            
            <!-- LIKED -->
            <section class="category-section" id="liked">
                <div class="category-header">
                    <h2>üëç Unsere Favoriten</h2>
                    <p>Dates, auf die wir Lust haben!</p>
                </div>
                <div class="list-container" id="likedList">
                    <p class="empty-message">Noch keine Favoriten! Bewerte Dates mit üëç</p>
                </div>
            </section>
            
            <!-- CUSTOM -->
            <section class="category-section" id="custom">
                <div class="category-header">
                    <h2>‚ú® Unsere eigenen Dates</h2>
                    <p>Hier erscheinen unsere selbst erstellten Date-Ideen!</p>
                    <button class="btn btn-add" style="margin-top:15px;" onclick="openAddDateModal()">‚ûï Neues Date hinzuf√ºgen</button>
                </div>
                <div class="list-container" id="customList">
                    <p class="empty-message">Noch keine eigenen Dates!</p>
                </div>
            </section>
            
            <!-- NOPE -->
            <section class="category-section" id="nope">
                <div class="category-header">
                    <h2>üëé Nope</h2>
                    <p>Diese Dates haben wir aussortiert</p>
                </div>
                <div class="list-container" id="dislikedList">
                    <p class="empty-message">Noch nichts aussortiert.</p>
                </div>
            </section>
            
        </div>
        
        <footer class="book-footer">
            <p>Mit ‚ùÑÔ∏è gemacht f√ºr uns ‚Ä¢ Winter 2025/26</p>
        </footer>
    </div>
    
    <!-- MODALS -->
    <div class="modal" id="rouletteModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeRoulette()">‚úï</button>
            <div class="modal-body">
                <div class="roulette-result">
                    <div class="roulette-emoji" id="rouletteEmoji">üé∞</div>
                    <h3 class="roulette-title" id="rouletteTitle">Zuf√§lliges Date</h3>
                    <div class="roulette-parts" id="rouletteParts"></div>
                    <div class="roulette-actions">
                        <button class="btn btn-primary" onclick="acceptRoulette()">üëç Ja!</button>
                        <button class="btn btn-roulette" onclick="spinRoulette()">üîÑ Nochmal</button>
                        <button class="btn btn-secondary" onclick="closeRoulette()">üëé Nein</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="addDateModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeAddDateModal()">‚úï</button>
            <div class="modal-header"><h3>‚ú® Eigenes Date hinzuf√ºgen</h3></div>
            <div class="modal-body">
                <form id="addDateForm">
                    <div class="form-group"><label>Titel *</label><input type="text" id="newDateTitle" required placeholder="z.B. Bouldern + Ramen"></div>
                    <div class="form-group"><label>Beschreibung</label><textarea id="newDateDesc" placeholder="Was macht dieses Date besonders?"></textarea></div>
                    <div class="form-group" style="position:relative;">
                        <label>Aktivit√§t üéØ</label>
                        <input type="text" id="newDatePart1" placeholder="Tippe zum Suchen..." autocomplete="off" oninput="showAutoComplete(this, 'activity')">
                        <div id="autocomplete1" class="autocomplete-dropdown"></div>
                        <div id="location1Info" class="location-info-badge"></div>
                    </div>
                    <div class="form-group" style="position:relative;">
                        <label>Restaurant üçΩÔ∏è</label>
                        <input type="text" id="newDatePart2" placeholder="Tippe zum Suchen..." autocomplete="off" oninput="showAutoComplete(this, 'restaurant')">
                        <div id="autocomplete2" class="autocomplete-dropdown"></div>
                        <div id="location2Info" class="location-info-badge"></div>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width:100%;">‚ú® Speichern</button>
                </form>
            </div>
        </div>
    </div>
    
    <div class="modal" id="memoryModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeMemoryModal()">‚úï</button>
            <div class="modal-header"><h3>üìù Erinnerung bearbeiten</h3></div>
            <div class="modal-body">
                <img id="memoryModalImg" style="width:100%;border-radius:12px;margin-bottom:15px;">
                <div class="form-group"><label>Untertitel</label><input type="text" id="memoryCaption" placeholder="z.B. Porto 2024"></div>
                <div class="form-group"><label>Was haben wir da erlebt?</label><textarea id="memoryNote" placeholder="Kurze Notiz..." style="min-height:60px;"></textarea></div>
                <button class="btn btn-primary" style="width:100%;" onclick="saveMemoryNote()">üíæ Speichern</button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="destinationPopup">
        <div class="modal-content" style="max-width:500px;">
            <button class="modal-close" onclick="closeDestinationPopup()">‚úï</button>
            <div style="padding:20px;">
                <h3 id="destPopupTitle" style="font-family:'Cormorant Garamond',serif;font-size:1.5rem;color:var(--navy);margin-bottom:10px;"></h3>
                <span id="destPopupStatus" style="display:inline-block;padding:5px 12px;border-radius:20px;font-size:0.8rem;font-weight:600;margin-bottom:15px;"></span>
                <div id="destPopupBody"></div>
                <!-- Diary Section -->
                <div id="destDiarySection" class="diary-section"></div>
                <!-- Hidden file input -->
                <input type="file" id="diaryMediaInput" accept="image/*,video/*" multiple style="display:none;" onchange="handleDiaryMedia(event)">
            </div>
        </div>
    </div>

    <!-- Events an diesem Tag Modal -->
    <div class="modal" id="dayEventsModal">
        <div class="modal-content" style="max-width:700px;">
            <button class="modal-close" onclick="closeDayEventsModal()">‚úï</button>
            <div class="modal-header" style="display:flex;align-items:center;justify-content:space-between;gap:10px;">
                <button class="date-nav-btn" onclick="navigateDayEvents(-1)" title="Vorheriger Tag">‚Äπ</button>
                <h3 id="dayEventsTitle" style="flex:1;text-align:center;margin:0;">üìÖ Events am ...</h3>
                <button class="date-nav-btn" onclick="navigateDayEvents(1)" title="N√§chster Tag">‚Ä∫</button>
            </div>
            <div class="modal-body" id="dayEventsBody" style="max-height:70vh;overflow-y:auto;">
                <!-- Kategorie-Filter Pills -->
                <div id="categoryPills" class="category-pills"></div>
                <!-- Karte -->
                <div class="map-container" id="mapContainer" style="display:none;">
                    <div id="dateBuilderMap"></div>
                </div>
                <!-- Events werden hier eingef√ºgt -->
                <div id="dayEventsList"></div>
            </div>
        </div>
    </div>

    <!-- Date Builder Modal -->
    <div class="modal" id="dateBuilderModal">
        <div class="modal-content" style="max-width:650px;">
            <button class="modal-close" onclick="closeDateBuilder()">‚úï</button>
            <div class="modal-header">
                <h3>Date zusammenstellen</h3>
            </div>
            <div class="modal-body" id="dateBuilderBody">
                <div class="date-builder-flow" id="dateBuilderFlow">
                    <!-- Flow wird dynamisch generiert -->
                </div>
            </div>
        </div>
    </div>

    <script>
        const STORAGE_KEY = 'datebuch_nick_solli_v9';
        
        // MEMORIES DATA
        const memoriesData = [
            { id: 'mem1', caption: 'Mit Teddy üß∏', image: 'memories/IMG_9423.jpg' },
            { id: 'mem2', caption: 'Porto üáµüáπ', image: 'memories/IMG_0276.jpg' },
            { id: 'mem3', caption: 'Radtour üö¥', image: 'memories/IMG_0508.JPG' },
            { id: 'mem4', caption: 'Waschb√§r-Vibes ü¶ù', image: 'memories/IMG_8518.jpg' },
            { id: 'mem5', caption: 'Sommer ‚òÄÔ∏è', image: 'memories/IMG_6589.jpg' },
            { id: 'mem6', caption: 'Heidelberg üè∞', image: 'memories/IMG_7378.jpg' },
            { id: 'mem7', caption: 'Natur üåø', image: 'memories/IMG_6446.jpg' },
            { id: 'mem8', caption: 'Chillen ü§ó', image: 'memories/IMG_4443.JPG' }
        ];
        
        // DESTINATIONS
        const destinations = {
            visited: [
                { name: 'Portugal', emoji: 'üáµüáπ', lat: 39.4, lon: -8.2 },
                { name: 'D√§nemark', emoji: 'üá©üá∞', lat: 56.3, lon: 9.5 },
                { name: 'Spanien', emoji: 'üá™üá∏', lat: 40.4, lon: -3.7 },
                { name: 'Frankreich', emoji: 'üá´üá∑', lat: 46.2, lon: 2.2 },
                { name: 'Deutschland', emoji: 'üá©üá™', lat: 51.2, lon: 10.5 }
            ],
            // St√§dte die wir besucht haben (werden bei Zoom sichtbar)
            visitedCities: [
                // Portugal
                { name: 'Lissabon', emoji: 'üèõÔ∏è', lat: 38.72, lon: -9.14, country: 'Portugal' },
                { name: 'Porto', emoji: 'üç∑', lat: 41.16, lon: -8.63, country: 'Portugal' },
                { name: 'Sintra', emoji: 'üè∞', lat: 38.80, lon: -9.39, country: 'Portugal' },
                // D√§nemark
                { name: 'Kopenhagen', emoji: 'üßú‚Äç‚ôÄÔ∏è', lat: 55.68, lon: 12.57, country: 'D√§nemark' },
                // Spanien
                { name: 'Barcelona', emoji: 'üé≠', lat: 41.39, lon: 2.17, country: 'Spanien' },
                { name: 'Madrid', emoji: 'üèüÔ∏è', lat: 40.42, lon: -3.70, country: 'Spanien' },
                // Frankreich
                { name: 'Paris', emoji: 'üóº', lat: 48.86, lon: 2.35, country: 'Frankreich' },
                { name: 'Lyon', emoji: 'üçΩÔ∏è', lat: 45.76, lon: 4.83, country: 'Frankreich' },
                // Deutschland
                { name: 'Hamburg', emoji: '‚öì', lat: 53.55, lon: 10.00, country: 'Deutschland' },
                { name: 'Berlin', emoji: 'üêª', lat: 52.52, lon: 13.40, country: 'Deutschland' },
                { name: 'M√ºnchen', emoji: 'ü•®', lat: 48.14, lon: 11.58, country: 'Deutschland' }
            ],
            wishlist: [
                { name: 'Ecuador', emoji: 'üá™üá®', lat: -1.8, lon: -78.2, reasons: ['üê¢ Galapagos-Inseln', 'üå¥ Amazonas-Dschungel', 'üèîÔ∏è Cotopaxi Vulkan'] },
                { name: 'Mexiko', emoji: 'üá≤üáΩ', lat: 23.6, lon: -102.5, reasons: ['üèä Cenoten schwimmen', 'üèõÔ∏è Chich√©n Itz√°', 'üåÆ Street Food'] },
                { name: 'Thailand', emoji: 'üáπüá≠', lat: 15.9, lon: 100.9, reasons: ['üçú Pad Thai everywhere', 'üèùÔ∏è Koh Lipe', 'üõï Tempel'] },
                { name: 'Marokko', emoji: 'üá≤üá¶', lat: 31.8, lon: -7.1, reasons: ['üèúÔ∏è Sahara-Nacht', 'üïå Medina Fes', 'ü´ñ Minztee'] },
                { name: 'Istanbul', emoji: 'üáπüá∑', lat: 41.0, lon: 29.0, reasons: ['üïå Hagia Sophia', 'üõí Gro√üer Basar', 'üåâ Bosporus'] }
            ]
        };

        // Zentrale Restaurant & Bar Datenbank mit Koordinaten (nur vegetarierfreundlich!)
        const venueDatabase = {
            restaurants: [
                // Innenstadt / Rathausmarkt
                { name: 'Caf√© Paris', type: 'Franz√∂sisch', address: 'Rathausstra√üe 4', coords: [53.5503, 9.9933], link: 'https://www.cafeparis.net/', veggie: true, hours: 'Mo-So 9-24h' },
                { name: 'Caf√© Leonar', type: 'J√ºdische K√ºche', address: 'Grindelhof 59', coords: [53.5678, 9.9833], link: 'https://www.cafe-leonar.de/', veggie: true, hours: 'Di-So 10-22h, Mo geschlossen' },
                { name: 'Wandrahm', type: 'Modern Europ√§isch', address: 'Am Sandtorkai 77', coords: [53.5433, 9.9892], link: '', veggie: true, hours: 'Di-Sa 12-22h' },
                // St. Pauli / Schanze
                { name: 'Tazzi Pizza', type: 'Beste Pizza St. Pauli', address: 'Reeperbahn 61', coords: [53.5494, 9.9611], link: 'https://www.tazzi-pizza.de/', veggie: true, hours: 'Mo-So 12-2h' },
                { name: 'Kleine Pause', type: 'Burger & Bowls', address: 'Friedrichstra√üe 25', coords: [53.5503, 9.9658], link: 'https://www.instagram.com/kleinepause_hamburg/', veggie: true, hours: 'Mo-Fr 12-22h, Sa-So 11-22h' },
                { name: 'Die Komb√ºse', type: 'Mexikanisch', address: 'Wohlwillstra√üe 20', coords: [53.5517, 9.9600], link: 'https://www.diekombuesehamburg.de/', veggie: true, hours: 'Mo-So 17-23h' },
                { name: 'Altes M√§dchen', type: 'Craft Beer & vegetarisch', address: 'Lagerstra√üe 28b', coords: [53.5636, 9.9628], link: 'https://www.altes-maedchen.com/', veggie: true, hours: 'Mo-Sa 12-24h, So 10-23h' },
                { name: 'Vincent Vegan', type: '100% Vegan Burger', address: 'Schulterblatt 31', coords: [53.5622, 9.9583], link: 'https://vincent-vegan.com/', veggie: true, hours: 'Mo-So 11-22h' },
                { name: 'Leaf', type: '100% Vegan', address: 'Beim Gr√ºnen J√§ger 14', coords: [53.5578, 9.9592], link: '', veggie: true, hours: 'Di-Sa 12-21h' },
                { name: 'Bidges & Sons', type: 'Veganer Brunch', address: 'Schulterblatt 1', coords: [53.5617, 9.9611], link: '', veggie: true, hours: 'Mo-Fr 9-18h, Sa-So 10-18h' },
                // Altona / Ottensen
                { name: 'Maquis', type: '100% Vegetarisch', address: 'Thedestra√üe 2', coords: [53.5519, 9.9347], link: 'https://www.maquis.de/', veggie: true, hours: 'Di-Sa 18-22h, So-Mo geschlossen' },
                { name: 'Froindlichst', type: '100% Vegan', address: 'Bahrenfelder Str. 131', coords: [53.5556, 9.9375], link: 'https://froindlichst.de/', veggie: true, hours: 'Mo-Sa 11-22h' },
                { name: 'Caf√© May', type: 'Fr√ºhst√ºck & Kuchen', address: 'Beim Gr√ºnen J√§ger 66', coords: [53.5572, 9.9544], link: '', veggie: true, hours: 'Mo-So 9-18h' },
                // Eppendorf / Winterhude
                { name: 'Mirou', type: 'Israelische Mezze', address: 'M√ºhlenkamp 43', coords: [53.5889, 10.0083], link: 'https://www.mirou-hamburg.de/', veggie: true, hours: 'Di-Sa 18-23h, So geschlossen' },
                { name: 'Tassajara', type: 'Vegan seit 1976', address: 'Eppendorfer Weg 47', coords: [53.5700, 9.9600], link: 'https://www.tassajara.de/', veggie: true, hours: 'Mo-So 11:30-22h' },
                { name: 'Happenpappen', type: 'Bio & Vegetarisch', address: 'Eppendorfer Weg 63', coords: [53.5711, 9.9583], link: '', veggie: true, hours: 'Mo-Fr 12-21h, Sa 10-21h' },
                // Karoviertel / Sternschanze
                { name: 'Cai Kitchen', type: '100% Vegan Sichuan', address: 'Glash√ºttenstr. 85a', coords: [53.5617, 9.9636], link: 'https://www.cai-kitchen.de/', veggie: true, hours: 'Mo-So 12-22h' },
                { name: 'Hatari', type: 'Srilankisches Curry', address: 'Schanzenstra√üe 2', coords: [53.5633, 9.9611], link: '', veggie: true, hours: 'Mo-So 12-23h' },
                { name: 'Mehl, Butter, Zucker', type: 'Caf√© & Kuchen', address: 'Bartelsstra√üe 26', coords: [53.5639, 9.9597], link: '', veggie: true, hours: 'Mi-So 10-18h' },
                { name: 'Nil', type: 'Sudanesisch Vegetarisch', address: 'Neuer Pferdemarkt 5', coords: [53.5569, 9.9619], link: '', veggie: true, hours: 'Di-So 12-22h' },
                // Grindel / Uni
                { name: 'Pony Bar', type: 'Bar & Essen', address: 'Allende-Platz 1', coords: [53.5669, 9.9850], link: '', veggie: true, hours: 'Mo-So 17-1h' },
                { name: 'Campus Suite', type: 'Caf√© & Bistro', address: 'Grindelallee 43', coords: [53.5672, 9.9842], link: '', veggie: true, hours: 'Mo-Fr 8-18h' },
                // HafenCity / Speicherstadt
                { name: 'Hobenk√∂√∂k', type: 'Regionale K√ºche', address: 'Stockmeyerstra√üe 43', coords: [53.5350, 10.0050], link: 'https://www.hobenkoeok.de/', veggie: true, hours: 'Di-Sa 12-22h, So-Mo geschlossen' },
                { name: 'Fleetschl√∂sschen', type: 'Caf√© Speicherstadt', address: 'Brooktorkai 17', coords: [53.5433, 10.0017], link: '', veggie: true, hours: 'Mo-So 10-18h' },
                // Barmbek / Uhlenhorst
                { name: 'Momo Ramen', type: 'Vegane Ramen-Option', address: 'M√ºhlenkamp 59', coords: [53.5883, 10.0075], link: '', veggie: true, hours: 'Mo-So 12-22h' },
                { name: 'Feldstern', type: 'Bio-Caf√©', address: 'Sternstra√üe 2', coords: [53.5856, 10.0039], link: '', veggie: true, hours: 'Mo-Fr 8-18h, Sa 9-16h' },
            ],
            bars: [
                // Innenstadt
                { name: 'Le Lion', type: 'Beste Cocktailbar', address: 'Rathausstra√üe 3', coords: [53.5503, 9.9930], link: 'https://www.lelion.net/', hours: 'Di-Sa 18-2h' },
                { name: 'Parlament', type: 'Weinbar', address: 'Rathausmarkt 1', coords: [53.5500, 9.9920], link: 'https://www.parlament-hamburg.de/', hours: 'Mo-Sa 17-24h' },
                { name: 'Boilerman Bar', type: 'Highballs', address: 'Eppendorfer Weg 211', coords: [53.5722, 9.9583], link: 'https://www.theboilerman.de/', hours: 'Di-Sa 19-2h' },
                // St. Pauli / Reeperbahn
                { name: 'Zum Silbersack', type: 'Kiez-Legende seit 1949', address: 'Silbersackstra√üe 9', coords: [53.5497, 9.9578], link: 'https://www.silbersack.de/', hours: 'Mo-So 20-5h' },
                { name: 'Clouds', type: 'Rooftop Bar', address: 'Reeperbahn 1', coords: [53.5494, 9.9606], link: 'https://clouds-hamburg.de/', hours: 'Mo-So 17-1h' },
                { name: 'Ritze', type: 'Boxkneipe', address: 'Reeperbahn 140', coords: [53.5489, 9.9539], link: 'https://www.ritze.de/', hours: 'Mo-So 21-5h' },
                { name: 'Astra Stube', type: 'Kultkneipe', address: 'Max-Brauer-Allee 200', coords: [53.5550, 9.9528], link: 'https://www.astrastube.de/', hours: 'Mo-So 19-3h' },
                { name: 'Komet', type: 'Indie-Bar', address: 'Erichstra√üe 11', coords: [53.5506, 9.9622], link: '', hours: 'Di-Sa 20-3h' },
                { name: 'Molotow', type: 'Club & Bar', address: 'Nobistor 14', coords: [53.5489, 9.9536], link: 'https://molotowclub.com/', hours: 'Mi-Sa 21-4h' },
                // Schanze / Karoviertel
                { name: 'Familieneck', type: 'Kultkneipe Schanze', address: 'Friedensallee 9', coords: [53.5611, 9.9600], link: '', hours: 'Mo-So 18-2h' },
                { name: 'Katze', type: 'Bar & Sp√§ti', address: 'Schulterblatt 63', coords: [53.5633, 9.9569], link: '', hours: 'Mo-So 17-3h' },
                { name: 'Goldfischglas', type: 'Gem√ºtliche Kneipe', address: 'Bartelsstra√üe 30', coords: [53.5636, 9.9594], link: '', hours: 'Di-So 19-2h' },
                { name: 'Zwick', type: 'Rock-Kneipe', address: 'Sternstra√üe 28', coords: [53.5628, 9.9558], link: '', hours: 'Mo-So 20-4h' },
                { name: 'Reh Bar', type: 'Kleine Cocktailbar', address: 'Juliusstra√üe 22', coords: [53.5617, 9.9564], link: '', hours: 'Di-Sa 19-1h' },
                // Eppendorf / Winterhude
                { name: 'Julep', type: 'Whiskey & Cocktails', address: 'Eppendorfer Weg 139', coords: [53.5700, 9.9650], link: 'https://www.instagram.com/julep_bar/', hours: 'Di-Sa 19-2h' },
                { name: 'Hadleys', type: 'Speakeasy', address: 'Beim Schlump 84a', coords: [53.5683, 9.9775], link: 'https://hadleys.de/', hours: 'Di-Sa 18-1h' },
                { name: 'Die Sch√∂ne', type: 'Bar & Caf√©', address: 'Barmbeker Str. 159', coords: [53.5800, 10.0050], link: '', hours: 'Mo-So 10-24h' },
                { name: 'Cascadas', type: 'Cocktails Eppendorf', address: 'Eppendorfer Landstr. 80', coords: [53.5856, 9.9958], link: '', hours: 'Mo-Sa 18-1h' },
                // Altona / Ottensen
                { name: 'Nachtasyl', type: 'Thalia Theater Bar', address: 'Alstertor 1', coords: [53.5522, 9.9986], link: '', hours: 'Di-Sa 17-24h' },
                { name: 'Elbschlosskeller', type: 'Legend√§re Kneipe', address: 'Elbberg 1', coords: [53.5469, 9.9328], link: '', hours: 'Mo-So 19-6h' },
                { name: 'Strandperle', type: 'Beach Bar', address: '√ñvelg√∂nne 60', coords: [53.5439, 9.9089], link: '', hours: 'Mo-So 10-22h (Sommer)' },
            ]
        };

        // ============ OPENSTREETMAP LIVE-DATEN ============
        const OSM_CACHE_KEY = 'datebuch_osm_venues';
        const OSM_CACHE_DURATION = 24 * 60 * 60 * 1000; // 24 Stunden
        let osmVenueData = { restaurants: [], bars: [], lastFetch: 0 };
        let showOnlyOpenVenues = false; // Filter-Toggle

        // OSM √ñffnungszeiten-Parser (vereinfacht)
        function parseOpeningHours(hoursString) {
            if (!hoursString) return null;

            // H√§ufige deutsche Formate
            const hourPatterns = [
                // "Mo-Fr 12-22h, Sa-So 11-22h"
                /([A-Za-z]{2})-([A-Za-z]{2})\s+(\d{1,2})[:h]?-?(\d{1,2})[:h]?/g,
                // "Di-Sa 18-23h"
                /([A-Za-z]{2})-([A-Za-z]{2})\s+(\d{1,2})[:.]?(\d{0,2})?-(\d{1,2})[:.]?(\d{0,2})?/g,
                // "Mo-So 9-24h"
                /([A-Za-z]{2})-([A-Za-z]{2})\s+(\d{1,2})-(\d{1,2})/g
            ];

            const dayMap = {
                'mo': 1, 'di': 2, 'mi': 3, 'do': 4, 'fr': 5, 'sa': 6, 'so': 0,
                'mon': 1, 'tue': 2, 'wed': 3, 'thu': 4, 'fri': 5, 'sat': 6, 'sun': 0
            };

            return hoursString.toLowerCase();
        }

        // Pr√ºfen ob Venue gerade offen ist
        function isVenueOpen(venue) {
            const hours = venue.hours || venue.opening_hours;
            if (!hours) return null; // Unbekannt

            const now = new Date();
            const day = now.getDay(); // 0=So, 1=Mo, ...
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();
            const currentTime = currentHour * 60 + currentMinute;

            const hoursLower = hours.toLowerCase();

            // Pr√ºfe auf "geschlossen" f√ºr heute
            const dayNames = ['so', 'mo', 'di', 'mi', 'do', 'fr', 'sa'];
            const todayName = dayNames[day];

            // Check if explicitly closed today
            if (hoursLower.includes(`${todayName} geschlossen`) ||
                hoursLower.includes(`${todayName}-${dayNames[(day+1)%7]} geschlossen`)) {
                return false;
            }

            // Parse time ranges
            const timeMatches = hours.match(/(\d{1,2})[:.]?(\d{0,2})?\s*[-‚Äì]\s*(\d{1,2})[:.]?(\d{0,2})?/g);
            if (!timeMatches) return null;

            // Einfache Pr√ºfung: Suche nach Tagesbereich der heute enth√§lt
            const dayRanges = {
                'mo-fr': [1,2,3,4,5],
                'mo-sa': [1,2,3,4,5,6],
                'mo-so': [0,1,2,3,4,5,6],
                'di-sa': [2,3,4,5,6],
                'di-so': [0,2,3,4,5,6],
                'sa-so': [0,6],
                'mo': [1], 'di': [2], 'mi': [3], 'do': [4], 'fr': [5], 'sa': [6], 'so': [0]
            };

            let isOpen = false;

            // Finde alle Tag-Zeit-Kombinationen
            for (const [range, days] of Object.entries(dayRanges)) {
                if (hoursLower.includes(range) && days.includes(day)) {
                    // Finde die Zeit nach diesem Tagesbereich
                    const regex = new RegExp(range + '\\s+(\\d{1,2})[:.]?(\\d{0,2})?\\s*[-‚Äì]\\s*(\\d{1,2})[:.]?(\\d{0,2})?', 'i');
                    const match = hours.match(regex);
                    if (match) {
                        const openHour = parseInt(match[1]);
                        const openMin = parseInt(match[2]) || 0;
                        const closeHour = parseInt(match[3]);
                        const closeMin = parseInt(match[4]) || 0;

                        const openTime = openHour * 60 + openMin;
                        let closeTime = closeHour * 60 + closeMin;

                        // Handle overnight (z.B. 18-2h)
                        if (closeTime < openTime) closeTime += 24 * 60;

                        if (currentTime >= openTime && currentTime <= closeTime) {
                            isOpen = true;
                            break;
                        }
                        // Nach Mitternacht Check
                        if (closeTime > 24*60 && currentTime + 24*60 <= closeTime && currentTime < closeHour * 60 + closeMin) {
                            isOpen = true;
                            break;
                        }
                    }
                }
            }

            return isOpen;
        }

        // Hole formatierte √ñffnungszeiten f√ºr Anzeige
        function getFormattedHours(venue) {
            const hours = venue.hours || venue.opening_hours;
            if (!hours) return null;

            // K√ºrze lange Strings
            if (hours.length > 40) {
                return hours.substring(0, 37) + '...';
            }
            return hours;
        }

        // Badge f√ºr √ñffnungsstatus
        function getOpenStatusBadge(venue) {
            const isOpen = isVenueOpen(venue);

            if (isOpen === null) {
                return '<span class="open-status-badge unknown" title="√ñffnungszeiten unbekannt">?</span>';
            } else if (isOpen) {
                return '<span class="open-status-badge open" title="Jetzt ge√∂ffnet">‚óè</span>';
            } else {
                return '<span class="open-status-badge closed" title="Geschlossen">‚óè</span>';
            }
        }

        // OSM Overpass API - Venues in Hamburg abrufen
        async function fetchOSMVenues() {
            // Pr√ºfe Cache
            const cached = localStorage.getItem(OSM_CACHE_KEY);
            if (cached) {
                try {
                    const data = JSON.parse(cached);
                    if (Date.now() - data.lastFetch < OSM_CACHE_DURATION) {
                        osmVenueData = data;
                        console.log('üó∫Ô∏è OSM-Daten aus Cache geladen:', osmVenueData.restaurants.length, 'Restaurants,', osmVenueData.bars.length, 'Bars');
                        mergeOSMWithLocal();
                        return;
                    }
                } catch (e) {
                    console.warn('OSM Cache ung√ºltig:', e);
                }
            }

            // Overpass API Query f√ºr Hamburg (vereinfacht)
            const overpassUrl = 'https://overpass-api.de/api/interpreter';
            const query = `
                [out:json][timeout:30];
                area["name"="Hamburg"]["admin_level"="4"]->.hamburg;
                (
                    node["amenity"~"restaurant|cafe"]["cuisine"~"vegetarian|vegan|organic"](area.hamburg);
                    node["amenity"="bar"]["opening_hours"](area.hamburg);
                    node["amenity"="pub"]["opening_hours"](area.hamburg);
                );
                out body;
            `;

            try {
                console.log('üåê Lade OSM-Daten f√ºr Hamburg...');
                const response = await fetch(overpassUrl, {
                    method: 'POST',
                    body: 'data=' + encodeURIComponent(query),
                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' }
                });

                if (!response.ok) throw new Error('OSM API Fehler: ' + response.status);

                const data = await response.json();

                // Parse OSM Daten
                osmVenueData.restaurants = [];
                osmVenueData.bars = [];

                data.elements.forEach(el => {
                    if (!el.tags?.name) return;

                    const venue = {
                        name: el.tags.name,
                        type: el.tags.cuisine || el.tags.amenity,
                        address: [el.tags['addr:street'], el.tags['addr:housenumber']].filter(Boolean).join(' ') || '',
                        coords: [el.lat, el.lon],
                        opening_hours: el.tags.opening_hours,
                        phone: el.tags.phone,
                        website: el.tags.website,
                        osm_id: el.id,
                        veggie: ['vegetarian', 'vegan', 'organic'].some(v =>
                            (el.tags.cuisine || '').toLowerCase().includes(v) ||
                            el.tags['diet:vegetarian'] === 'yes' ||
                            el.tags['diet:vegan'] === 'yes'
                        )
                    };

                    if (el.tags.amenity === 'bar' || el.tags.amenity === 'pub') {
                        osmVenueData.bars.push(venue);
                    } else {
                        osmVenueData.restaurants.push(venue);
                    }
                });

                osmVenueData.lastFetch = Date.now();

                // Cache speichern
                try {
                    localStorage.setItem(OSM_CACHE_KEY, JSON.stringify(osmVenueData));
                } catch (e) {
                    console.warn('Konnte OSM-Daten nicht cachen:', e);
                }

                console.log('‚úÖ OSM-Daten geladen:', osmVenueData.restaurants.length, 'Restaurants,', osmVenueData.bars.length, 'Bars');
                mergeOSMWithLocal();

            } catch (error) {
                console.warn('‚ö†Ô∏è OSM-Abruf fehlgeschlagen, nutze lokale Daten:', error);
            }
        }

        // Merge OSM-Daten mit lokaler Datenbank (lokale haben Priorit√§t)
        function mergeOSMWithLocal() {
            // Erweitere lokale Venues mit OSM-√ñffnungszeiten wenn vorhanden
            venueDatabase.restaurants.forEach(local => {
                const osmMatch = osmVenueData.restaurants.find(osm =>
                    osm.name.toLowerCase() === local.name.toLowerCase() ||
                    (osm.coords && local.coords &&
                     Math.abs(osm.coords[0] - local.coords[0]) < 0.001 &&
                     Math.abs(osm.coords[1] - local.coords[1]) < 0.001)
                );
                if (osmMatch && osmMatch.opening_hours && !local.hours) {
                    local.hours = osmMatch.opening_hours;
                }
            });

            venueDatabase.bars.forEach(local => {
                const osmMatch = osmVenueData.bars.find(osm =>
                    osm.name.toLowerCase() === local.name.toLowerCase() ||
                    (osm.coords && local.coords &&
                     Math.abs(osm.coords[0] - local.coords[0]) < 0.001 &&
                     Math.abs(osm.coords[1] - local.coords[1]) < 0.001)
                );
                if (osmMatch && osmMatch.opening_hours && !local.hours) {
                    local.hours = osmMatch.opening_hours;
                }
            });
        }

        // Toggle f√ºr "Nur offene Locations"
        function toggleOnlyOpenVenues() {
            showOnlyOpenVenues = !showOnlyOpenVenues;
            const btn = document.getElementById('openOnlyToggle');
            if (btn) {
                btn.classList.toggle('active', showOnlyOpenVenues);
                btn.innerHTML = showOnlyOpenVenues ? 'üü¢ Nur Offene' : '‚ö™ Alle zeigen';
            }
            // Refresh aktuelle Ansicht wenn Date Builder offen
            if (document.getElementById('dateBuilderModal')?.classList.contains('active')) {
                if (currentDatePlan.restaurant === null && currentDatePlan.wantFood) {
                    renderRestaurantSelection();
                } else if (currentDatePlan.bar === null && currentDatePlan.wantDrinks !== false) {
                    renderBarSelection();
                }
            }
        }

        // Distanz zwischen zwei Koordinaten berechnen (in km)
        function getDistanceKm(coords1, coords2) {
            if (!coords1 || !coords2) return Infinity;
            const R = 6371;
            const dLat = (coords2[0] - coords1[0]) * Math.PI / 180;
            const dLon = (coords2[1] - coords1[1]) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                      Math.cos(coords1[0] * Math.PI / 180) * Math.cos(coords2[0] * Math.PI / 180) *
                      Math.sin(dLon/2) * Math.sin(dLon/2);
            return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
        }

        // N√§chste Venues finden (sortiert nach Entfernung)
        function findNearbyVenues(venueCoords, type = 'restaurants', limit = 3) {
            if (!venueCoords) return [];
            const venues = venueDatabase[type] || [];
            return venues
                .map(v => ({ ...v, distance: getDistanceKm(venueCoords, v.coords) }))
                .sort((a, b) => a.distance - b.distance)
                .slice(0, limit);
        }

        // Default events (fallback wenn kein Sheet)
        const defaultEvents = [
            // ========== AUSSTELLUNG ==========
            { id: 'e1', emoji: 'üñºÔ∏è', title: 'Anders Zorn - Hamburger Kunsthalle', date: '2025-09-26', endDate: '2026-01-25', category: 'ausstellung', description: 'Erste gro√üe Werkschau des schwedischen Impressionisten. √úber 150 Exponate!', location: 'Glockengie√üerwall', part1Title: 'Kunsthalle', part1Desc: 'Di-So 10-18h, Do bis 21h', part2Title: 'Danach: Caf√© Paris', part2Desc: 'Croques Madame, franz√∂sisches Flair' },
            { id: 'e2', emoji: 'üé¨', title: 'Ho Tzu Nyen - Time & the Tiger', date: '2025-11-21', endDate: '2026-04-12', category: 'ausstellung', description: 'Immersive Multimedia-Installationen in der Galerie der Gegenwart', location: 'Hamburger Kunsthalle', part1Title: 'Galerie der Gegenwart', part1Desc: 'Mythische Erz√§hlungen, Video, Musik', part2Title: 'Danach: Maquis', part2Desc: '100% vegetarisch, Bio-Produkte' },
            { id: 'e3', emoji: 'üì∏', title: 'Philip Montgomery - American Mirror', date: '2025-11-27', endDate: '2026-03-29', category: 'ausstellung', description: 'Dokumentarfotografie √ºber Amerika', location: 'PHOXXI Deichtorhallen', part1Title: 'PHOXXI', part1Desc: 'Deichtorstr. 1-2', part2Title: 'Danach: Oberhafenkantine', part2Desc: 'Authentisches Hafenflair' },
            { id: 'e4', emoji: 'üçΩÔ∏è', title: 'Daniel Spoerri - Ich liebe Widerspr√ºche', date: '2025-10-28', endDate: '2026-05-03', category: 'ausstellung', description: 'Objektkunst des 2024 verstorbenen K√ºnstlers', location: 'Deichtorhallen', part1Title: 'Halle f√ºr aktuelle Kunst', part1Desc: 'Tableaux-pi√®ges (Fallenbilder)', part2Title: 'Danach: Cai Kitchen', part2Desc: 'Vegane Sichuan-K√ºche' },

            // ========== ERLEBNIS ==========
            { id: 'e6', emoji: 'üåå', title: 'Port des Lumi√®res - Klimt & Hundertwasser', date: '2025-04-01', endDate: '2026-12-31', category: 'erlebnis', description: 'Immersive Licht- und Klanginstallation auf 1.700 qm', location: '√úberseequartier', part1Title: 'Port des Lumi√®res', part1Desc: '80 Beamer, 50 Audiopunkte', part2Title: 'Danach: Hobenk√∂√∂k', part2Desc: 'Regionale K√ºche in der HafenCity' },
            { id: 'e18', emoji: 'üö¢', title: 'Titanic: Eine Immersive Reise', date: '2025-11-05', endDate: '2026-06-30', category: 'erlebnis', description: '300 originale Fundst√ºcke, VR-Tauchgang zum Wrack', location: 'Hamburg (Ort tba)', part1Title: 'Titanic Ausstellung', part1Desc: 'VR-Experience inklusive', part2Title: 'Danach: Fischereihafen', part2Desc: 'Fischbr√∂tchen am Hafen' },
            { id: 'e10', emoji: 'üé¨', title: 'Abaton Kino-Abend', date: '2025-12-01', endDate: '2026-12-31', category: 'erlebnis', description: 'Hamburgs sch√∂nstes Programmkino! Art-D√©co-Saal, OmU-Filme', location: 'Allende-Platz 3, Grindel', part1Title: 'Abaton Kino', part1Desc: 'Saal 1 ist legend√§r!', part2Title: 'Danach: Pony Bar', part2Desc: 'Gem√ºtliche Bar ums Eck' },
            { id: 'e11', emoji: 'üåå', title: 'Planetarium Hamburg', date: '2025-12-01', endDate: '2026-12-31', category: 'erlebnis', description: 'Sternenhimmel im Wasserturm! Musikshows, Astronomie', location: 'Stadtpark', part1Title: 'Planetarium', part1Desc: 'Pink Floyd, Beatles, Klassik-Shows', part2Title: 'Danach: Caf√© Liebermann', part2Desc: 'Kaffee und Kuchen' },
            { id: 'e19', emoji: 'üé≠', title: 'PALAZZO Extravaganza', date: '2025-11-01', endDate: '2026-03-31', category: 'erlebnis', description: 'Akrobatik, Comedy, Live-Musik + Haute Cuisine von Cornelia Poletto', location: 'Spiegelpalast', part1Title: 'PALAZZO', part1Desc: '4-Gang-Men√º + Show', part2Title: '', part2Desc: '' },
            { id: 'e20', emoji: 'üé™', title: 'Winterdom', date: '2025-11-07', endDate: '2025-12-07', category: 'erlebnis', description: 'Fahrgesch√§fte, Gl√ºhwein, Lebkuchenherzen', location: 'Heiligengeistfeld', part1Title: 'Winterdom', part1Desc: 'Abends am sch√∂nsten!', part2Title: 'Danach: Vincent Vegan', part2Desc: 'Vegane Burger Schanze' },

            // ========== MUSIK ==========
            { id: 'dez03-selig', emoji: 'üé∏', title: 'Selig - 30 Jahre Jubil√§um', date: '2025-12-03', endDate: '', category: 'musik', description: 'Hamburger Kultband feiert 30 Jahre! "Ohne Dich", "Bruderlos" - G√§nsehaut garantiert!', location: 'Fabrik, Barnerstr. 36', part1Title: 'Fabrik Hamburg', part1Desc: 'Einlass 19h, Beginn 20h - ca. 50‚Ç¨', part2Title: 'Vorher: Maquis', part2Desc: 'Vegetarisch in Altona, 5 Min entfernt' },
            { id: 'dez03-emel', emoji: 'üé§', title: 'Emel - MRA Tour', date: '2025-12-03', endDate: '', category: 'musik', description: 'Feministisches Manifest als audiovisuelle Konzertshow - Tunesische S√§ngerin mit Beats, Licht & Videos', location: 'Kampnagel, Jarrestra√üe 20', part1Title: 'Kampnagel KMH', part1Desc: 'Beginn 20:30h', part2Title: 'Vorher: Mirou', part2Desc: 'Israelische Mezze in Winterhude' },

            // ========== AKTIV ==========
            { id: 'e12', emoji: 'üßó‚Äç‚ôÄÔ∏è', title: 'Bouldern lernen', date: '2025-12-01', endDate: '2026-12-31', category: 'aktiv', description: 'Anf√§ngerkurs zusammen machen! Klettern ohne Seil', location: 'Nordwandhalle / Flash', part1Title: 'Nordwandhalle', part1Desc: 'Anf√§ngerkurs 2h, Schuhe inklusive', part2Title: 'Danach: Hatari', part2Desc: 'Srilankisches Curry' },
            { id: 'e13', emoji: 'üèä‚Äç‚ôÄÔ∏è', title: 'Holthusenbad + Sauna', date: '2025-12-01', endDate: '2026-12-31', category: 'aktiv', description: 'Hamburgs sch√∂nstes Hallenbad! Jugendstil von 1914', location: 'Goernestra√üe 21', part1Title: 'Holthusenbad', part1Desc: '25m-Becken, verschiedene Saunen', part2Title: 'Danach: Mirou', part2Desc: 'Israelische Mezze' },

            // ========== WELLNESS ==========
            { id: 'e14', emoji: 'üíÜ‚Äç‚ôÄÔ∏è', title: 'Wellnest Spa', date: '2025-12-01', endDate: '2026-12-31', category: 'wellness', description: 'Private Spa-Suite nur f√ºr uns! Whirlpool, Sauna', location: 'verschiedene Standorte', part1Title: 'Wellnest Spa', part1Desc: 'Private Suite f√ºr 2', part2Title: 'Danach: Tassajara', part2Desc: 'Vegetarisch seit 1976' },

            // ========== ESSEN ==========
            { id: 'e15', emoji: 'üåø', title: 'Maquis Restaurant', date: '2025-12-01', endDate: '2026-12-31', category: 'essen', description: '100% vegetarisch! W√∂chentlich wechselnde Karte, Bio', location: 'Thedestra√üe 2, Altona', part1Title: 'Maquis', part1Desc: '3-Gang-Men√º, hausgemachtes Eis', part2Title: '', part2Desc: '' },
            { id: 'e16', emoji: 'ü•ü', title: 'Cai Kitchen', date: '2025-12-01', endDate: '2026-12-31', category: 'essen', description: '100% vegan! Authentische Sichuan-K√ºche', location: 'Glash√ºttenstr. 85a, Karoviertel', part1Title: 'Cai Kitchen', part1Desc: 'Dan Dan Nudeln, Dumplings', part2Title: '', part2Desc: '' },
            { id: 'e17', emoji: 'üßÜ', title: 'Mirou', date: '2025-12-01', endDate: '2026-12-31', category: 'essen', description: 'Israelische Mezze zum Teilen!', location: 'M√ºhlenkamp 43', part1Title: 'Mirou', part1Desc: 'Hummus, Falafel, Pitabrot', part2Title: '', part2Desc: '' },

            // ========== HANDWERK ==========
            { id: 'hw1', emoji: 'üß∂', title: 'Strickkurs f√ºr Anf√§nger', date: '2025-12-01', endDate: '2026-12-31', category: 'handwerk', description: 'Stricken lernen! Maschen anschlagen, rechte & linke Maschen, erstes Projekt (Schal/Stirnband)', location: 'Seemannsgarn, Eimsb√ºttel', part1Title: 'Seemannsgarn', part1Desc: '45‚Ç¨, 3h Workshop, Wolle inkl.', part2Title: 'Danach: Caf√© May', part2Desc: 'Kuchen im Eimsb√ºttel' },
            { id: 'hw2', emoji: 'üß∂', title: 'Strick und Gl√ºck - Workshop', date: '2025-12-01', endDate: '2026-12-31', category: 'handwerk', description: 'Gem√ºtlicher Strickkurs in Hamburg-Mitte. F√ºr Anf√§nger, eigenes Tempo!', location: 'Strick und Gl√ºck, Hamburg-Mitte', part1Title: 'Strick und Gl√ºck', part1Desc: '45‚Ç¨ inkl. Wolle, 3h Kurs', part2Title: 'Danach: Bulle Burger', part2Desc: 'Burger nebenan' },
            { id: 'hw3', emoji: 'üßµ', title: 'N√§hkurs f√ºr Anf√§nger', date: '2025-12-01', endDate: '2026-12-31', category: 'handwerk', description: 'N√§hen lernen! N√§hmaschine bedienen, Stoffe zuschneiden, erstes Kissen oder Tasche', location: 'Erbsenprinzessin, Ottensen', part1Title: 'Kreativwerkstatt', part1Desc: 'Kleine Gruppen, individuelle Betreuung', part2Title: 'Danach: Ahoi Steffen', part2Desc: 'Fischbr√∂tchen in Ottensen' },
            { id: 'hw4', emoji: 'üßµ', title: 'COKO Nahtstelle - N√§hkurs', date: '2025-12-01', endDate: '2026-12-31', category: 'handwerk', description: 'Exklusive N√§hkurse in Bramfeld, max. 4 Teilnehmer. Professionelle Fertigungstechniken!', location: 'Nahtstelle Hamburg, Bramfeld', part1Title: 'Nahtstelle Hamburg', part1Desc: 'Einzeln oder Kleingruppe', part2Title: 'Danach: Shiso Burger', part2Desc: 'Asian-Style Burger' },
            { id: 'hw5', emoji: 'üè∫', title: 'T√∂pferkurs an der Drehscheibe', date: '2025-12-01', endDate: '2026-12-31', category: 'handwerk', description: 'T√∂pfern lernen! Ton formen, Gef√§√üe drehen, sp√§ter glasieren', location: 'Studio Amun oder Unser Atelier', part1Title: 'Studio Amun', part1Desc: '2-3h, ca. 80-100‚Ç¨, Material inkl.', part2Title: 'Danach: Cai Kitchen', part2Desc: 'Vegane Dumplings zur St√§rkung' },
            { id: 'hw6', emoji: 'üíç', title: 'Goldschmiedekurs - eigenen Ring fertigen', date: '2025-12-01', endDate: '2026-12-31', category: 'handwerk', description: 'Eigenen Schmuck herstellen! S√§gen, Feilen, L√∂ten lernen. Silberring als erstes Projekt.', location: 'Astrid Eckert Goldschmiede, Bahrenfeld', part1Title: 'Goldschmiedekurs', part1Desc: 'ab 90‚Ç¨, Silberring selbst machen', part2Title: 'Danach: Cai Kitchen', part2Desc: 'Vegane Sichuan-K√ºche' },
            { id: 'hw7', emoji: 'ü™µ', title: 'Holz-Workshop: Schneidebrett', date: '2025-12-01', endDate: '2026-12-31', category: 'handwerk', description: 'Eigenes Schneidebrett aus Edelholz bauen! Traditionelle Tischlerei kennenlernen', location: '√Ñrmel Hoch, Hamburg', part1Title: '√Ñrmel Hoch', part1Desc: 'Tischlermeister leitet an', part2Title: 'Danach: Bidges & Sons', part2Desc: 'Veganer Brunch' },
            { id: 'hw8', emoji: 'üõπ', title: 'Balance Board bauen', date: '2025-12-01', endDate: '2026-12-31', category: 'handwerk', description: 'Eigenes Balance Board aus Holz bauen! Surf-Fitness-Training', location: '√Ñrmel Hoch, Hamburg', part1Title: '√Ñrmel Hoch', part1Desc: 'Komplett selbst gebaut', part2Title: 'Danach: Cai Kitchen', part2Desc: 'Vegane Sichuan-K√ºche' },
            { id: 'hw9', emoji: 'ü™ë', title: 'Grundkurs Tischlern (Wochenende)', date: '2025-12-01', endDate: '2026-12-31', category: 'handwerk', description: 'Holzbearbeitung lernen! Tablett oder Rahmen bauen - Hobby-Kurs, kein Bildungsurlaub', location: 'Von Frauenhand / Tischler-Akademie', part1Title: 'Wochenend-Workshop', part1Desc: 'Sa+So, 12h Kurszeit, ca. 250‚Ç¨', part2Title: 'Danach: Altes M√§dchen', part2Desc: 'Craft Beer & Burger' },
            { id: 'hw10', emoji: 'üõ∂', title: 'Minicruiser Skateboard bauen', date: '2025-12-01', endDate: '2026-12-31', category: 'handwerk', description: 'Eigenes Skateboard (Pennyboard-Style) aus Holz! Formverleimung, Schleifen, Lackieren', location: '√Ñrmel Hoch, Hamburg', part1Title: '√Ñrmel Hoch', part1Desc: 'Kompletter Board-Bau', part2Title: 'Danach: Hatari', part2Desc: 'Srilankisches Curry' },
        ];
        
        let allEvents = [];
        let currentMemoryId = null;

        // ============ BOOK OPENING ============
        function openBook() {
            const book = document.getElementById('book3d');
            const intro = document.getElementById('bookIntro');

            book.classList.add('opening');

            // Wait for book to open (1.2s) + show message for 2s, then fade out
            setTimeout(() => {
                intro.style.opacity = '0';
                intro.style.transition = 'opacity 0.5s ease';

                setTimeout(() => {
                    intro.classList.add('hidden');
                    // Save that user has seen the intro
                    const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
                    saved.hasSeenIntro = true;
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
                }, 500);
            }, 3200); // 1.2s open + 2s display message
        }

        function checkIntro() {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            if (saved.hasSeenIntro) {
                document.getElementById('bookIntro').classList.add('hidden');
            }
        }

        // ============ INIT ============
        document.addEventListener('DOMContentLoaded', function() {
            checkIntro();
            loadTheme(); // Dark Mode laden

            // Book opening - button and whole book clickable
            const openBtn = document.getElementById('openBookBtn');
            const book3d = document.getElementById('book3d');
            if (openBtn) openBtn.addEventListener('click', openBook);
            if (book3d) book3d.addEventListener('click', openBook);

            createIcicles();
            createParticles();
            setupHearts();
            setupNavigation();
            setupDraggableNick();
            renderMemories();
            loadProgress();
            loadEvents();
            loadFeierabendSetting();
            document.getElementById('globalDate').valueAsDate = new Date();

            // Sheet ID aus Storage laden
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            if (saved.sheetId) {
                document.getElementById('sheetIdInput').value = saved.sheetId;
            }

            // Neue Features initialisieren
            setupStickyNav();
            setupBackToTop();
            initMiniCalendar();
            initAchievements();
            updateDateStats();
            updateStreak();
            loadWeather();

            // OSM Live-Daten f√ºr Restaurants/Bars laden (im Hintergrund)
            fetchOSMVenues();
        });

        // ============ FEIERABEND ============
        function loadFeierabendSetting() {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const feierabend = saved.feierabend || '18:00';
            document.getElementById('feierabendTime').value = feierabend;
        }

        function saveFeierabendSetting() {
            const feierabend = document.getElementById('feierabendTime').value;
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            saved.feierabend = feierabend;
            localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
            const labels = {'18:00': 'Normal (ab 18 Uhr)', '17:00': 'Fr√ºher (ab 17 Uhr)', 'ganztags': 'Frei!'};
            showToast(labels[feierabend] || feierabend);
        }

        function getFeierabendTime() {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            return saved.feierabend || '18:00';
        }

        function isDateTimeSuitable(eventTime) {
            const feierabend = getFeierabendTime();
            if (feierabend === 'ganztags') return true;
            if (!eventTime) return true;

            // Parse event time (format: "19:30" or "18:00-22:00")
            const timeMatch = eventTime.match(/(\d{1,2}):(\d{2})/);
            if (!timeMatch) return true;

            const eventHour = parseInt(timeMatch[1]);
            const feierabendHour = parseInt(feierabend.split(':')[0]);

            return eventHour >= feierabendHour;
        }
        
        // ============ ICICLES - nur 1 rechts ============
        function createIcicles() {
            const c = document.getElementById('icicles');
            if (!c) return;
            // Nur 1 Eiszapfen rechts - klickbar!
            const ic = document.createElement('div');
            ic.className = 'icicle';
            ic.style.setProperty('--h', '55px');
            ic.style.borderTopWidth = '55px';
            ic.style.left = '92%';
            ic.title = 'Klick mich!';
            ic.onclick = () => dropIcicle(ic);
            c.appendChild(ic);
        }

        // Eiszapfen f√§llt und regeneriert sich
        function dropIcicle(ic) {
            if (ic.classList.contains('falling')) return;
            ic.classList.add('falling');
            showToast('üíé Platsch!');

            // Nach 1s entfernen und nach 15s regenerieren
            setTimeout(() => {
                ic.style.display = 'none';
                ic.classList.remove('falling');
                ic.style.borderTopWidth = '0';

                setTimeout(() => {
                    ic.style.display = '';
                    ic.style.borderTopWidth = '55px';
                    showToast('‚ùÑÔ∏è Eiszapfen nachgewachsen!');
                }, 15000);
            }, 1000);
        }

        // ============ DRAGGABLE NICK ============
        let nickDragData = { isDragging: false, startX: 0, startLeft: 0 };
        let nickPosition = 110; // Standard-Offset vom linken Rand (in px)

        function setupDraggableNick() {
            const nick = document.querySelector('.person-nick');
            const snowballWrapper = document.querySelector('.snowball-wrapper');
            if (!nick) return;

            // Touch events f√ºr Mobile
            nick.addEventListener('touchstart', (e) => {
                e.preventDefault();
                nickDragData.isDragging = true;
                nickDragData.startX = e.touches[0].clientX;
                nickDragData.startLeft = nickPosition;
            }, { passive: false });

            nick.addEventListener('touchmove', (e) => {
                if (!nickDragData.isDragging) return;
                e.preventDefault();
                const deltaX = e.touches[0].clientX - nickDragData.startX;
                nickPosition = Math.max(80, Math.min(200, nickDragData.startLeft + deltaX));
                nick.style.left = `calc(8% + ${nickPosition}px)`;
                updateSnowballTarget();
            }, { passive: false });

            nick.addEventListener('touchend', () => {
                nickDragData.isDragging = false;
            });

            // Mouse events f√ºr Desktop
            nick.addEventListener('mousedown', (e) => {
                e.preventDefault();
                nickDragData.isDragging = true;
                nickDragData.startX = e.clientX;
                nickDragData.startLeft = nickPosition;
                document.addEventListener('mousemove', handleNickDrag);
                document.addEventListener('mouseup', stopNickDrag);
            });

            // Schneeball trifft Nick Animation starten
            setInterval(() => {
                nick.classList.add('hit');
                setTimeout(() => nick.classList.remove('hit'), 500);
            }, 3500);
        }

        function handleNickDrag(e) {
            if (!nickDragData.isDragging) return;
            const deltaX = e.clientX - nickDragData.startX;
            nickPosition = Math.max(80, Math.min(200, nickDragData.startLeft + deltaX));
            const nick = document.querySelector('.person-nick');
            if (nick) {
                nick.style.left = `calc(8% + ${nickPosition}px)`;
            }
            updateSnowballTarget();
        }

        function stopNickDrag() {
            nickDragData.isDragging = false;
            document.removeEventListener('mousemove', handleNickDrag);
            document.removeEventListener('mouseup', stopNickDrag);
        }

        function updateSnowballTarget() {
            // Berechne die Schneeball-Flugbahn basierend auf Nicks Position
            const snowball = document.querySelector('.snowball');
            if (!snowball) return;

            // Der Schneeball fliegt von Solli (links) zu Nick
            // Standard Nick ist bei 110px, Schneeball fliegt 70px
            const baseTarget = 70;
            const offset = nickPosition - 110;
            const newTarget = baseTarget + offset;

            // Update die CSS Custom Property f√ºr die Animation
            snowball.style.setProperty('--target-x', `${newTarget}px`);
        }
        
        // ============ PARTICLES ============
        function createParticles() {
            const c = document.getElementById('particles');
            if (!c) return;
            for (let i = 0; i < 25; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.left = Math.random() * 100 + '%';
                p.style.animationDuration = (8 + Math.random() * 12) + 's';
                p.style.animationDelay = (Math.random() * 10) + 's';
                c.appendChild(p);
            }
        }
        
        // ============ HEARTS ============
        function setupHearts() {
            const frame = document.getElementById('coverPhotoFrame');
            const cont = document.getElementById('heartsContainer');
            if (!frame || !cont) return;
            let interval;
            function createHeart() {
                const h = document.createElement('div');
                h.className = 'floating-heart';
                h.textContent = ['üíï', '‚ù§Ô∏è', 'üíñ', 'üíó'][Math.floor(Math.random() * 4)];
                h.style.left = (Math.random() * 100) + '%';
                h.style.top = (Math.random() * 100) + '%';
                cont.appendChild(h);
                setTimeout(() => h.remove(), 2000);
            }
            frame.addEventListener('mouseenter', () => interval = setInterval(createHeart, 150));
            frame.addEventListener('mouseleave', () => clearInterval(interval));
            frame.addEventListener('touchstart', () => interval = setInterval(createHeart, 150));
            frame.addEventListener('touchend', () => clearInterval(interval));
        }
        
        // ============ NAV ============
        // Kategorien, bei denen "Solli hat frei ab" angezeigt werden soll
        const feierabendCategories = ['handwerk', 'aktiv', 'wellness', 'comedy', 'essen', 'shows'];

        function setupNavigation() {
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    const cat = tab.dataset.category;
                    const wasActive = tab.classList.contains('active');

                    // Wenn bereits aktiv, schlie√üe die Kategorie (gehe zur ersten)
                    if (wasActive) {
                        // Erste Kategorie aktivieren (handwerk)
                        const firstTab = document.querySelector('.nav-tab[data-category="handwerk"]');
                        if (firstTab && firstTab !== tab) {
                            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                            firstTab.classList.add('active');
                            document.querySelectorAll('.category-section').forEach(s => s.classList.remove('active'));
                            document.getElementById('handwerk')?.classList.add('active');
                            const feierabendToggle = document.getElementById('feierabendToggle');
                            if (feierabendToggle) feierabendToggle.style.display = 'flex';
                        }
                        return;
                    }

                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    document.querySelectorAll('.category-section').forEach(s => s.classList.remove('active'));
                    document.getElementById(cat)?.classList.add('active');
                    if (cat === 'travel') setTimeout(initGlobe, 150);

                    // Feierabend-Toggle nur f√ºr bestimmte Kategorien anzeigen
                    const feierabendToggle = document.getElementById('feierabendToggle');
                    if (feierabendToggle) {
                        feierabendToggle.style.display = feierabendCategories.includes(cat) ? 'flex' : 'none';
                    }

                    updateLists();
                });
            });
        }
        
        // ============ GOOGLE SHEETS ============
        function saveSheetId() {
            const sheetId = document.getElementById('sheetIdInput').value.trim();
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            saved.sheetId = sheetId;
            localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
            loadEvents();
            showToast('üíæ Sheet-ID gespeichert!');
        }
        
        // Dedupliziert Events basierend auf ID und Titel+Location+Datum Kombination
        function deduplicateEvents(events) {
            const seen = new Map();
            const duplicates = [];

            events.forEach(event => {
                // Prim√§rer Key: ID
                if (seen.has(event.id)) {
                    duplicates.push(event.id);
                    return;
                }

                // Sekund√§rer Key: Titel + Location + Datum (f√ºr Events ohne einzigartige ID)
                const contentKey = `${event.title}|${event.location}|${event.date}`.toLowerCase();
                if (seen.has(contentKey)) {
                    duplicates.push(`${event.title} (${event.date})`);
                    return;
                }

                seen.set(event.id, true);
                seen.set(contentKey, true);
            });

            if (duplicates.length > 0) {
                console.warn('‚ö†Ô∏è Duplikate gefunden und entfernt:', duplicates);
            }

            // Entferne Duplikate und gib einzigartige Events zur√ºck
            const uniqueIds = new Set();
            const uniqueContentKeys = new Set();

            return events.filter(event => {
                if (uniqueIds.has(event.id)) return false;

                const contentKey = `${event.title}|${event.location}|${event.date}`.toLowerCase();
                if (uniqueContentKeys.has(contentKey)) return false;

                uniqueIds.add(event.id);
                uniqueContentKeys.add(contentKey);
                return true;
            });
        }

        async function loadEvents() {
            // Loading-Anzeige in allen Containern
            const categories = ['handwerk', 'aktiv', 'wellness', 'comedy', 'essen', 'shows'];
            categories.forEach(cat => {
                const container = document.getElementById(`${cat}-container`);
                if (container) {
                    container.innerHTML = '<div class="loading-indicator"><div class="loading-spinner"></div><p>Wird geladen...</p></div>';
                }
            });

            try {
                // Events aus events.json laden (GitHub Pages)
                const response = await fetch('events.json');
                const data = await response.json();

                const rawEvents = data.events || [];
                allEvents = deduplicateEvents(rawEvents);

                const removedCount = rawEvents.length - allEvents.length;
                if (removedCount > 0) {
                    console.log(`üßπ ${removedCount} Duplikate entfernt. ${allEvents.length} Events √ºbrig.`);
                }

                renderCategoryEvents();
                // Toast entfernt - stilles Laden
            } catch (error) {
                console.error('Fehler beim Laden der Events:', error);
                // Fallback zu Default-Events
                allEvents = deduplicateEvents(defaultEvents);
                renderCategoryEvents();
                // Toast entfernt - stilles Laden
            }
        }
        
        // Rendert alle Events in ihre jeweiligen Kategorie-Container
        function renderCategoryEvents() {
            const categories = ['handwerk', 'aktiv', 'wellness', 'comedy', 'essen', 'shows'];
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const ratings = saved.ratings || {};

            categories.forEach(category => {
                const container = document.getElementById(`${category}-container`);
                if (!container) return;

                // Events dieser Kategorie filtern (Aussortierte + vergangene ausblenden)
                // "shows" = musical + variete + theater + musik fusioniert
                const activeEvents = getActiveEvents(ratings);
                let categoryEvents;
                if (category === 'shows') {
                    categoryEvents = activeEvents.filter(e =>
                        ['musical', 'variete', 'theater', 'musik'].includes(e.category)
                    );
                } else {
                    categoryEvents = activeEvents.filter(e =>
                        e.category === category
                    );
                }

                if (categoryEvents.length === 0) {
                    container.innerHTML = `<p class="empty-message">Keine ${getCategoryName(category)} gefunden.</p>`;
                    return;
                }

                container.innerHTML = categoryEvents.map(e => renderEventCard(e, ratings, true)).join('');
            });
        }

        // Hilfsfunktion: Kategorie-Name f√ºr leere Meldungen
        function getCategoryName(category) {
            const names = {
                shows: 'Shows & Konzerte',
                comedy: 'Comedy-Events',
                wellness: 'Wellness-Angebote',
                aktiv: 'Aktiv-Angebote',
                handwerk: 'Handwerk-Workshops',
                essen: 'Restaurant-Tipps'
            };
            return names[category] || 'Events';
        }

        // Rendert eine einzelne Event-Karte
        function renderEventCard(e, ratings, showDateBuilder = false) {
            const isLiked = ratings[e.id]?.liked;
            const badge = getBadge(e);

            // Location-Info HTML
            const locationHtml = e.location ? `
                <div class="event-location-info">
                    <div>
                        <strong>${e.location}</strong>
                        ${e.address ? `<br><small style="color:var(--text-light)">${e.address}</small>` : ''}
                        ${e.time ? `<br><small>${e.time}</small>` : ''}
                        ${e.price ? `<small style="margin-left:10px">${e.price}</small>` : ''}
                    </div>
                </div>
            ` : '';

            // Treatment f√ºr Wellness
            const treatmentHtml = e.treatment ? `
                <div style="background:linear-gradient(135deg, var(--rose), var(--rose-dark)); color:white; padding:10px; border-radius:8px; margin-top:10px; font-size:0.9rem;">
                    <strong>Empfohlenes Treatment:</strong><br>
                    ${e.treatment}
                </div>
            ` : '';

            // Link-Button
            const linkHtml = e.link ? `
                <a href="${e.link}" target="_blank" rel="noopener" class="event-link-btn">Tickets / Buchen</a>
            ` : '';

            // Date Builder Button
            const dateBuilderBtn = showDateBuilder ? `
                <button class="btn btn-add" style="margin-top:10px; width:100%;" onclick="startDateBuilder('${e.id}')">
                    Date zusammenstellen
                </button>
            ` : '';

            return `
            <article class="date-card" data-date-id="${e.id}">
                <div class="date-card-header">
                    <span class="date-emoji">${e.emoji || 'üìÖ'}</span>
                    <h3 class="date-title">${e.title}</h3>
                    ${badge}
                </div>
                <div class="date-card-body">
                    <p class="date-description">${e.description || ''}</p>
                    ${locationHtml}
                    ${treatmentHtml}
                    ${e.part1Title ? `
                    <div class="combo-parts">
                        <div class="combo-part-card">
                            <div class="combo-part-header">
                                <span class="combo-part-num">1</span>
                                <span class="combo-part-title">${e.part1Title}</span>
                            </div>
                            <div class="combo-part-desc">${e.part1Desc || ''}</div>
                        </div>
                        ${e.part2Title ? `
                        <div class="combo-part-card">
                            <div class="combo-part-header">
                                <span class="combo-part-num">2</span>
                                <span class="combo-part-title">${e.part2Title}</span>
                            </div>
                            <div class="combo-part-desc">${e.part2Desc || ''}</div>
                        </div>
                        ` : ''}
                    </div>
                    ` : ''}
                    ${linkHtml}
                    ${dateBuilderBtn}
                    <div class="thumbs-rating">
                        <div class="thumbs-rating-label">Wollen wir hin?</div>
                        <div class="thumbs-buttons">
                            <button class="thumb-btn thumb-up ${isLiked ? 'selected' : ''}" onclick="rateEvent('${e.id}', 'up')">üëç</button>
                            <button class="thumb-btn thumb-down" onclick="rateEvent('${e.id}', 'down')">üëé</button>
                        </div>
                    </div>
                </div>
            </article>
            `;
        }
        
        function getBadge(event) {
            if (!event.date) return '';
            const end = event.endDate ? new Date(event.endDate) : null;
            if (end) {
                return `<span class="date-badge badge-event">Bis ${end.toLocaleDateString('de-DE', { day: 'numeric', month: 'short' })}</span>`;
            }
            const d = new Date(event.date);
            return `<span class="date-badge badge-event">${d.toLocaleDateString('de-DE', { day: 'numeric', month: 'short' })}</span>`;
        }

        // Pr√ºft ob ein Event vergangen ist (Datum liegt in der Vergangenheit)
        function isEventPast(event) {
            if (!event.date) return false;
            const today = new Date();
            today.setHours(0, 0, 0, 0);

            // Bei Dauerevents: pr√ºfe ob endDate vergangen ist
            const endDate = event.endDate ? new Date(event.endDate) : new Date(event.date);
            endDate.setHours(23, 59, 59, 999); // Ende des Tages

            return endDate < today;
        }

        // Filtert vergangene und disliked Events aus
        function getActiveEvents(ratings = {}) {
            return allEvents.filter(e => !isEventPast(e) && !ratings[e.id]?.disliked);
        }
        
        function rateEvent(id, type) {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            if (!saved.ratings) saved.ratings = {};
            
            if (type === 'up') {
                saved.ratings[id] = { liked: true, disliked: false };
                showToast('üëç Favorit!');
            } else {
                saved.ratings[id] = { liked: false, disliked: true };
                showToast('üëé Aussortiert');
            }
            
            localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
            renderCategoryEvents();
            updateLists();
        }

        // ============ DATE FILTER ============
        function filterByDate() {
            const val = document.getElementById('globalDate').value;
            if (!val) {
                showToast('üìÖ Bitte Datum w√§hlen');
                return;
            }
            // Zeigt Events f√ºr dieses Datum in einem Popup
            showEventsForDate(val);
        }

        // ============ DAY EVENTS MODAL ============
        let currentDayEvents = [];
        let currentFilterCategory = 'all';
        let dayEventsMap = null;
        let currentSelectedDateStr = null; // Speichert das ausgew√§hlte Datum

        function showEventsForDate(dateStr) {
            currentSelectedDateStr = dateStr; // Datum speichern
            const date = new Date(dateStr);
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const ratings = saved.ratings || {};

            // Events filtern, die an diesem Datum aktiv sind (vergangene ausblenden)
            const activeEvents = getActiveEvents(ratings);
            currentDayEvents = activeEvents.filter(e => {
                const start = new Date(e.date);
                const end = e.endDate ? new Date(e.endDate) : start;
                return date >= start && date <= end;
            });

            // Modal-Titel setzen
            const formattedDate = date.toLocaleDateString('de-DE', {
                weekday: 'long',
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            });
            document.getElementById('dayEventsTitle').textContent = `üìÖ Events am ${formattedDate}`;

            // Kategorie-Pills und Events rendern
            currentFilterCategory = 'all';
            renderCategoryPillsAndEvents(ratings);

            // Modal √∂ffnen
            document.getElementById('dayEventsModal').classList.add('active');
            showToast(`üìÖ ${currentDayEvents.length} Events gefunden`);

            // Karte initialisieren wenn Events mit Koordinaten existieren
            setTimeout(() => initDayEventsMap(), 200);
        }

        function renderCategoryPillsAndEvents(ratings) {
            const pillsContainer = document.getElementById('categoryPills');
            const listContainer = document.getElementById('dayEventsList');

            if (currentDayEvents.length === 0) {
                pillsContainer.innerHTML = '';
                document.getElementById('mapContainer').style.display = 'none';
                listContainer.innerHTML = `
                    <div style="text-align:center;padding:40px 20px;">
                        <span style="font-size:3rem;">üò¢</span>
                        <p style="margin-top:15px;color:var(--text-light);">Keine Events an diesem Tag gefunden.</p>
                        <p style="color:var(--text-light);font-size:0.9rem;">Probier ein anderes Datum!</p>
                    </div>
                `;
                return;
            }

            // Kategorien z√§hlen
            const categoryCounts = {};
            currentDayEvents.forEach(e => {
                categoryCounts[e.category] = (categoryCounts[e.category] || 0) + 1;
            });

            // Kategorie-Namen und Emojis
            const categoryInfo = {
                musical: { name: 'Musical', emoji: 'üé≠' },
                variete: { name: 'Variet√©', emoji: 'üé™' },
                theater: { name: 'Theater', emoji: 'üé¨' },
                comedy: { name: 'Comedy', emoji: 'üòÇ' },
                musik: { name: 'Musik', emoji: 'üé∏' },
                wellness: { name: 'Wellness', emoji: 'üíÜ' },
                aktiv: { name: 'Aktiv', emoji: 'üèÉ' },
                handwerk: { name: 'Handwerk', emoji: 'üé®' },
                essen: { name: 'Essen', emoji: 'üçΩÔ∏è' }
            };

            // Pills rendern (nur wenn mehr als 3 Events)
            if (currentDayEvents.length > 3) {
                let pillsHtml = `<div class="category-pill ${currentFilterCategory === 'all' ? 'active' : ''}" onclick="filterDayEvents('all')">
                    Alle <span class="pill-count">${currentDayEvents.length}</span>
                </div>`;

                Object.keys(categoryCounts).forEach(cat => {
                    const info = categoryInfo[cat] || { name: cat, emoji: 'üìÖ' };
                    pillsHtml += `<div class="category-pill ${currentFilterCategory === cat ? 'active' : ''}" onclick="filterDayEvents('${cat}')">
                        ${info.emoji} ${info.name} <span class="pill-count">${categoryCounts[cat]}</span>
                    </div>`;
                });
                pillsContainer.innerHTML = pillsHtml;
            } else {
                pillsContainer.innerHTML = '';
            }

            // Events filtern
            const filteredEvents = currentFilterCategory === 'all'
                ? currentDayEvents
                : currentDayEvents.filter(e => e.category === currentFilterCategory);

            // Events rendern mit Date Builder Button
            listContainer.innerHTML = filteredEvents.map(e => renderEventCard(e, ratings, true)).join('');
        }

        function filterDayEvents(category) {
            currentFilterCategory = category;
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const ratings = saved.ratings || {};
            renderCategoryPillsAndEvents(ratings);
            updateDayEventsMap();
        }

        function initDayEventsMap() {
            const eventsWithCoords = currentDayEvents.filter(e => e.coords && e.coords.length === 2);
            if (eventsWithCoords.length === 0) {
                document.getElementById('mapContainer').style.display = 'none';
                return;
            }

            document.getElementById('mapContainer').style.display = 'block';

            // Alte Karte entfernen
            if (dayEventsMap) {
                dayEventsMap.remove();
                dayEventsMap = null;
            }

            // Neue Karte erstellen
            dayEventsMap = L.map('dateBuilderMap').setView([53.5511, 9.9937], 12);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap'
            }).addTo(dayEventsMap);

            updateDayEventsMap();
        }

        function updateDayEventsMap() {
            if (!dayEventsMap) return;

            // Alte Marker entfernen
            dayEventsMap.eachLayer(layer => {
                if (layer instanceof L.Marker) dayEventsMap.removeLayer(layer);
            });

            // Gefilterte Events mit Koordinaten
            const filteredEvents = currentFilterCategory === 'all'
                ? currentDayEvents
                : currentDayEvents.filter(e => e.category === currentFilterCategory);

            const eventsWithCoords = filteredEvents.filter(e => e.coords && e.coords.length === 2);
            const bounds = [];

            eventsWithCoords.forEach(e => {
                const marker = L.marker(e.coords).addTo(dayEventsMap);
                const linkHtml = e.link ? `<br><a href="${e.link}" target="_blank" style="color:var(--sage);font-weight:600;">üéüÔ∏è Mehr Info</a>` : '';
                marker.bindPopup(`<strong>${e.emoji} ${e.title}</strong><br>${e.location || ''}<br><small>${e.time || ''} - ${e.price || ''}</small>${linkHtml}`);
                bounds.push(e.coords);
            });

            if (bounds.length > 0) {
                dayEventsMap.fitBounds(bounds, { padding: [20, 20] });
            }
        }

        function closeDayEventsModal() {
            document.getElementById('dayEventsModal').classList.remove('active');
            if (dayEventsMap) {
                dayEventsMap.remove();
                dayEventsMap = null;
            }
        }

        // Navigiert zum vorherigen/n√§chsten Tag
        function navigateDayEvents(direction) {
            if (!currentSelectedDateStr) return;

            const currentDate = new Date(currentSelectedDateStr);
            currentDate.setDate(currentDate.getDate() + direction);

            const newDateStr = currentDate.toISOString().split('T')[0];
            showEventsForDate(newDateStr);

            // Mini-Kalender aktualisieren
            document.getElementById('globalDate').value = newDateStr;
        }

        // ============ ROULETTE ============
        function spinRoulette() {
            const modal = document.getElementById('rouletteModal');
            const emoji = document.getElementById('rouletteEmoji');
            const title = document.getElementById('rouletteTitle');
            const parts = document.getElementById('rouletteParts');

            modal.classList.add('active');
            emoji.classList.add('spinning');
            parts.innerHTML = '';
            title.textContent = 'Drehe...';

            setTimeout(() => {
                emoji.classList.remove('spinning');

                // Nur Events mit Restaurant f√ºr vollst√§ndige Date-Ideen (vergangene ausblenden)
                const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
                const ratings = saved.ratings || {};
                const activeEvents = getActiveEvents(ratings);
                const available = activeEvents.filter(e =>
                    e.restaurant &&
                    e.restaurant.name &&
                    e.vorher_nachher !== 'Komplett' // Events wo Essen schon dabei ist, ausschlie√üen
                );

                if (available.length === 0) {
                    title.textContent = 'Keine Events mehr!';
                    parts.innerHTML = '<p>Alle Events aussortiert.</p>';
                    return;
                }

                const event = available[Math.floor(Math.random() * available.length)];
                const r = event.restaurant;
                const isVorher = event.vorher_nachher === 'Vorher';

                emoji.textContent = event.emoji || 'üéØ';
                title.textContent = 'Wie w√§r\'s mit...';

                // Zeige immer Aktivit√§t + Restaurant als Paar
                const activityPart = `
                    <div class="roulette-part">
                        <div class="roulette-part-title">${event.emoji} ${event.title}</div>
                        <div class="roulette-part-desc">
                            ${event.location}${event.time ? ' ‚Ä¢ ' + event.time : ''}${event.price ? ' ‚Ä¢ ' + event.price : ''}
                        </div>
                    </div>
                `;

                const restaurantPart = `
                    <div class="roulette-part">
                        <div class="roulette-part-title">üçΩÔ∏è ${r.name}</div>
                        <div class="roulette-part-desc">
                            ${r.type || ''}${r.address ? ' ‚Ä¢ ' + r.address : ''}
                        </div>
                    </div>
                `;

                // Reihenfolge basierend auf vorher/nachher
                if (isVorher) {
                    parts.innerHTML = `
                        <p style="text-align:center;font-size:0.9rem;opacity:0.8;margin-bottom:15px;">Erst gem√ºtlich essen, dann Action!</p>
                        ${restaurantPart}
                        ${activityPart}
                    `;
                } else {
                    parts.innerHTML = `
                        <p style="text-align:center;font-size:0.9rem;opacity:0.8;margin-bottom:15px;">Erst Action, dann gem√ºtlich essen!</p>
                        ${activityPart}
                        ${restaurantPart}
                    `;
                }
            }, 550);
        }
        
        function acceptRoulette() { closeRoulette(); showToast('üéâ Viel Spa√ü!'); }
        function closeRoulette() { document.getElementById('rouletteModal').classList.remove('active'); }
        
        // ============ MEMORIES ============
        function renderMemories() {
            const grid = document.getElementById('memoriesGrid');
            if (!grid) return;
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            grid.innerHTML = '';

            // Render preset memories
            memoriesData.forEach((mem, i) => {
                const savedMem = saved.memories?.[mem.id] || {};
                const div = document.createElement('div');
                div.className = 'memory-item';
                div.innerHTML = `
                    <img src="${mem.image || mem.src}" alt="${savedMem.caption || mem.caption}" onclick="openMemoryModal('${mem.id}', ${i})">
                    <span class="caption">${savedMem.caption || mem.caption}</span>
                `;
                grid.appendChild(div);
            });

            // Render user-uploaded memories
            const userMemories = saved.userMemories || [];
            userMemories.forEach((mem, i) => {
                const div = document.createElement('div');
                div.className = 'memory-item';
                div.innerHTML = `
                    <img src="${mem.image}" alt="${mem.caption}" onclick="openUserMemoryModal(${i})">
                    <span class="caption">${mem.caption}</span>
                `;
                grid.appendChild(div);
            });

            // Add button for new uploads
            const addDiv = document.createElement('div');
            addDiv.className = 'memory-item add-memory';
            addDiv.innerHTML = '‚ûï';
            addDiv.onclick = () => document.getElementById('memoryUploadInput').click();
            grid.appendChild(addDiv);
        }

        function openUserLightbox(index) {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const userMemories = saved.userMemories || [];
            const mem = userMemories[index];
            if (!mem) return;

            document.getElementById('lightboxImg').src = mem.image;
            document.getElementById('lightboxCaption').textContent = mem.caption;
            document.getElementById('lightbox').classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function openMemoryModal(id, index) {
            currentMemoryId = id;
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const savedMem = saved.memories?.[id] || {};
            const mem = memoriesData[index];
            document.getElementById('memoryModalImg').src = mem.image || mem.src;
            document.getElementById('memoryCaption').value = savedMem.caption || mem.caption;
            document.getElementById('memoryNote').value = savedMem.note || '';
            document.getElementById('memoryModal').classList.add('active');
        }
        
        function closeMemoryModal() { document.getElementById('memoryModal').classList.remove('active'); }
        
        function saveMemoryNote() {
            const caption = document.getElementById('memoryCaption').value;
            const note = document.getElementById('memoryNote').value;
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            if (!saved.memories) saved.memories = {};
            saved.memories[currentMemoryId] = { caption, note };
            localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
            renderMemories();
            closeMemoryModal();
            showToast('üíæ Gespeichert!');
        }

        // User memory upload functions
        let currentUserMemoryIndex = null;

        function handleMemoryUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            // Check file type
            if (!file.type.startsWith('image/') && !file.type.startsWith('video/')) {
                showToast('‚ùå Nur Bilder und Videos erlaubt!');
                return;
            }

            // Check file size (max 10MB)
            if (file.size > 10 * 1024 * 1024) {
                showToast('‚ùå Datei zu gro√ü! Max. 10MB');
                return;
            }

            const reader = new FileReader();
            reader.onload = (e) => {
                const caption = prompt('Gib deiner Erinnerung einen Namen:', 'Neue Erinnerung') || 'Neue Erinnerung';

                const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
                if (!saved.userMemories) saved.userMemories = [];

                saved.userMemories.push({
                    image: e.target.result,
                    caption: caption,
                    note: '',
                    isVideo: file.type.startsWith('video/'),
                    uploadedAt: new Date().toISOString()
                });

                localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
                renderMemories();
                showToast('üì∏ Erinnerung hinzugef√ºgt!');
            };
            reader.readAsDataURL(file);
            event.target.value = ''; // Reset input
        }

        function openUserMemoryModal(index) {
            currentUserMemoryIndex = index;
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const mem = saved.userMemories[index];

            document.getElementById('memoryModalImg').src = mem.image;
            document.getElementById('memoryCaption').value = mem.caption;
            document.getElementById('memoryNote').value = mem.note || '';

            // Show delete button for user memories
            let deleteBtn = document.getElementById('deleteMemoryBtn');
            if (!deleteBtn) {
                deleteBtn = document.createElement('button');
                deleteBtn.id = 'deleteMemoryBtn';
                deleteBtn.className = 'btn btn-secondary';
                deleteBtn.style.cssText = 'background:#e74c3c;margin-top:10px;';
                deleteBtn.textContent = 'üóëÔ∏è L√∂schen';
                deleteBtn.onclick = deleteUserMemory;
                document.querySelector('#memoryModal .modal-body').appendChild(deleteBtn);
            }
            deleteBtn.style.display = 'block';

            document.getElementById('memoryModal').classList.add('active');
            currentMemoryId = null; // Mark as user memory
        }

        function deleteUserMemory() {
            if (currentUserMemoryIndex === null) return;
            if (!confirm('Diese Erinnerung wirklich l√∂schen?')) return;

            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            saved.userMemories.splice(currentUserMemoryIndex, 1);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));

            closeMemoryModal();
            renderMemories();
            showToast('üóëÔ∏è Gel√∂scht!');
            currentUserMemoryIndex = null;
        }

        // Override saveMemoryNote to handle user memories
        const originalSaveMemoryNote = saveMemoryNote;
        saveMemoryNote = function() {
            if (currentUserMemoryIndex !== null) {
                const caption = document.getElementById('memoryCaption').value;
                const note = document.getElementById('memoryNote').value;
                const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
                saved.userMemories[currentUserMemoryIndex].caption = caption;
                saved.userMemories[currentUserMemoryIndex].note = note;
                localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
                renderMemories();
                closeMemoryModal();
                showToast('üíæ Gespeichert!');
                currentUserMemoryIndex = null;
            } else {
                originalSaveMemoryNote();
            }
        };

        // Hide delete button when opening preset memories
        const originalOpenMemoryModal = openMemoryModal;
        openMemoryModal = function(id, index) {
            const deleteBtn = document.getElementById('deleteMemoryBtn');
            if (deleteBtn) deleteBtn.style.display = 'none';
            currentUserMemoryIndex = null;
            originalOpenMemoryModal(id, index);
        };
        
        // ============ CUSTOM DATES ============
        function openAddDateModal() {
            document.getElementById('addDateModal').classList.add('active');
            // Reset location info badges
            document.getElementById('location1Info').classList.remove('active');
            document.getElementById('location2Info').classList.remove('active');
        }
        function closeAddDateModal() {
            document.getElementById('addDateModal').classList.remove('active');
            document.getElementById('addDateForm').reset();
            document.getElementById('autocomplete1').classList.remove('active');
            document.getElementById('autocomplete2').classList.remove('active');
            document.getElementById('location1Info').classList.remove('active');
            document.getElementById('location2Info').classList.remove('active');
        }

        // Autocomplete-Daten aus den Events extrahieren
        function getAutocompleteData() {
            const activities = [];
            const restaurants = [];
            const seenActivities = new Set();
            const seenRestaurants = new Set();

            allEvents.forEach(e => {
                // Aktivit√§ten (Locations)
                if (e.location && !seenActivities.has(e.location)) {
                    seenActivities.add(e.location);
                    const district = extractDistrict(e.address);
                    activities.push({
                        name: e.location,
                        address: e.address || '',
                        district: district,
                        type: e.category,
                        emoji: e.emoji
                    });
                }

                // Restaurants
                if (e.restaurant && e.restaurant.name && !seenRestaurants.has(e.restaurant.name)) {
                    seenRestaurants.add(e.restaurant.name);
                    const district = extractDistrict(e.restaurant.address);
                    restaurants.push({
                        name: e.restaurant.name,
                        address: e.restaurant.address || '',
                        district: district,
                        type: e.restaurant.type || 'Restaurant'
                    });
                }

                // Bars auch als Restaurants anbieten
                if (e.bar && e.bar.name && !seenRestaurants.has(e.bar.name)) {
                    seenRestaurants.add(e.bar.name);
                    const district = extractDistrict(e.bar.address);
                    restaurants.push({
                        name: e.bar.name,
                        address: e.bar.address || '',
                        district: district,
                        type: e.bar.type || 'Bar'
                    });
                }
            });

            return { activities, restaurants };
        }

        // Stadtteil aus Adresse extrahieren
        function extractDistrict(address) {
            if (!address) return '';
            const districts = ['St. Pauli', 'Schanze', 'Sternschanze', 'Altona', 'Ottensen', 'Eimsb√ºttel', 'Eppendorf', 'Winterhude', 'HafenCity', 'Harburg', 'Barmbek', 'St. Georg', 'Rotherbaum', 'Neustadt', 'Altstadt'];
            for (const d of districts) {
                if (address.toLowerCase().includes(d.toLowerCase())) return d;
            }
            // PLZ-basierte Zuordnung
            const plzMatch = address.match(/\b(20|21|22)\d{3}\b/);
            if (plzMatch) {
                const plz = plzMatch[0];
                if (plz.startsWith('203')) return 'St. Pauli';
                if (plz.startsWith('205')) return 'Rotherbaum';
                if (plz.startsWith('207')) return 'Altona';
                if (plz.startsWith('209')) return 'St. Georg';
                if (plz.startsWith('224')) return 'Eppendorf';
                if (plz.startsWith('227')) return 'Altona';
            }
            return '';
        }

        // Autocomplete anzeigen
        function showAutoComplete(input, type) {
            const query = input.value.toLowerCase().trim();
            const dropdownId = input.id === 'newDatePart1' ? 'autocomplete1' : 'autocomplete2';
            const otherDropdownId = input.id === 'newDatePart1' ? 'autocomplete2' : 'autocomplete1';
            const dropdown = document.getElementById(dropdownId);
            const otherDropdown = document.getElementById(otherDropdownId);
            const locInfoId = input.id === 'newDatePart1' ? 'location1Info' : 'location2Info';

            // Schlie√üe das andere Dropdown
            otherDropdown.classList.remove('active');

            if (query.length < 2) {
                dropdown.classList.remove('active');
                return;
            }

            const data = getAutocompleteData();
            const items = type === 'activity' ? data.activities : data.restaurants;

            const matches = items.filter(item =>
                item.name.toLowerCase().includes(query) ||
                (item.type && item.type.toLowerCase().includes(query)) ||
                (item.district && item.district.toLowerCase().includes(query))
            ).slice(0, 8);

            if (matches.length === 0) {
                dropdown.classList.remove('active');
                return;
            }

            dropdown.innerHTML = matches.map(item => `
                <div class="autocomplete-item" onclick="selectAutocomplete('${input.id}', '${item.name.replace(/'/g, "\\'")}', '${item.address.replace(/'/g, "\\'")}', '${item.district}', '${item.type || ''}')">
                    <div>
                        <span class="item-name">${item.emoji ? item.emoji + ' ' : ''}${item.name}</span>
                        ${item.type ? `<span class="item-type">${item.type}</span>` : ''}
                    </div>
                    <div class="item-location">${item.address}${item.district ? ' ‚Ä¢ ' + item.district : ''}</div>
                </div>
            `).join('');

            // Position das Dropdown unter dem Input (fixed positioning)
            const rect = input.getBoundingClientRect();
            dropdown.style.top = (rect.bottom + 2) + 'px';
            dropdown.style.left = rect.left + 'px';
            dropdown.style.width = rect.width + 'px';

            dropdown.classList.add('active');
        }

        // Autocomplete-Auswahl
        function selectAutocomplete(inputId, name, address, district, type) {
            const input = document.getElementById(inputId);
            input.value = name;

            const dropdownId = inputId === 'newDatePart1' ? 'autocomplete1' : 'autocomplete2';
            const locInfoId = inputId === 'newDatePart1' ? 'location1Info' : 'location2Info';

            document.getElementById(dropdownId).classList.remove('active');

            // Location-Info anzeigen
            const locInfo = document.getElementById(locInfoId);
            if (address || district) {
                locInfo.innerHTML = `
                    <div class="loc-name">${name}</div>
                    ${address ? `<div class="loc-address">${address}</div>` : ''}
                    ${district ? `<span class="loc-district">${district}</span>` : ''}
                `;
                locInfo.classList.add('active');
            }
        }

        // Dropdown schlie√üen bei Klick au√üerhalb
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.form-group')) {
                document.querySelectorAll('.autocomplete-dropdown').forEach(d => d.classList.remove('active'));
            }
        });
        
        document.getElementById('addDateForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            const title = document.getElementById('newDateTitle').value;
            const desc = document.getElementById('newDateDesc').value;
            const part1 = document.getElementById('newDatePart1').value;
            const part2 = document.getElementById('newDatePart2').value;
            const id = 'custom-' + Date.now();
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            if (!saved.customDates) saved.customDates = [];
            saved.customDates.push({ id, title, desc, part1, part2 });
            localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
            closeAddDateModal();
            showToast('‚ú® Date gespeichert!');
            document.querySelector('[data-category="custom"]').click();
            updateLists();
        });
        
        // ============ LISTS ============
        function updateLists() {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const ratings = saved.ratings || {};
            const customDates = saved.customDates || [];
            
            // Favoriten
            const likedList = document.getElementById('likedList');
            const liked = allEvents.filter(e => ratings[e.id]?.liked);
            likedList.innerHTML = liked.length ? liked.map(e => `
                <div class="list-item"><span>üëç ${e.title}</span></div>
            `).join('') : '<p class="empty-message">Noch keine Favoriten! Bewerte Dates mit üëç</p>';
            
            // Nope
            const dislikedList = document.getElementById('dislikedList');
            const disliked = allEvents.filter(e => ratings[e.id]?.disliked);
            dislikedList.innerHTML = disliked.length ? disliked.map(e => `
                <div class="list-item">
                    <span>üëé ${e.title}</span>
                    <button class="restore-btn" onclick="restoreEvent('${e.id}')">‚Ü©Ô∏è</button>
                </div>
            `).join('') : '<p class="empty-message">Noch nichts aussortiert.</p>';
            
            // Eigene
            const customList = document.getElementById('customList');
            customList.innerHTML = customDates.length ? customDates.map(d => `
                <div class="list-item">
                    <span>‚ú® ${d.title}</span>
                    <button class="restore-btn" style="background:var(--rose);" onclick="deleteCustom('${d.id}')">üóëÔ∏è</button>
                </div>
            `).join('') : '<p class="empty-message">Noch keine eigenen Dates!</p>';
        }
        
        function restoreEvent(id) {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            if (saved.ratings?.[id]) {
                delete saved.ratings[id];
                localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
                renderCategoryEvents();
                updateLists();
                showToast('‚ú® Zur√ºckgeholt!');
            }
        }
        
        function deleteCustom(id) {
            if (!confirm('Date wirklich l√∂schen?')) return;
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            saved.customDates = (saved.customDates || []).filter(d => d.id !== id);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
            updateLists();
            showToast('üóëÔ∏è Gel√∂scht');
        }
        
        // ============ SAVE/LOAD ============
        function loadProgress() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) updateLists();
        }
        
        // ============ DATE BUILDER ============
        let currentDatePlan = {
            activity: null,
            selectedDate: null, // Das tats√§chlich ausgew√§hlte Datum
            wantFood: null,
            foodTiming: null,
            restaurant: null,
            wantDrinks: null,
            bar: null
        };

        function startDateBuilder(eventId) {
            const event = allEvents.find(e => e.id === eventId);
            if (!event) return;

            // Verwende das ausgew√§hlte Datum, oder das Event-Datum als Fallback
            const dateToUse = currentSelectedDateStr || event.date;

            currentDatePlan = {
                activity: event,
                selectedDate: dateToUse,
                wantFood: null,
                foodTiming: null,
                restaurant: null,
                wantDrinks: null,
                bar: null
            };

            // Date Builder Modal √∂ffnen
            document.getElementById('dateBuilderModal').classList.add('active');
            renderDateBuilderStep1();
        }

        function renderDateBuilderStep1() {
            const flow = document.getElementById('dateBuilderFlow');
            const e = currentDatePlan.activity;

            flow.innerHTML = `
                <div class="date-builder-question">
                    <h4>üéØ Deine Aktivit√§t</h4>
                    <div style="background:white;padding:15px;border-radius:12px;text-align:left;">
                        <strong>${e.emoji} ${e.title}</strong><br>
                        <small style="color:var(--text-light)">${e.location || ''} ${e.time ? '‚Ä¢ ' + e.time : ''}</small>
                    </div>
                </div>

                <div class="date-builder-question">
                    <h4>üçΩÔ∏è Das k√∂nnte sp√§t werden, wollen wir vorher etwas essen gehen?</h4>
                    <div class="date-builder-options">
                        <button class="date-option-btn" onclick="setWantFood(true)">Ja, klar! üòã</button>
                        <button class="date-option-btn" onclick="setWantFood(false)">Nein, diesmal nicht</button>
                    </div>
                </div>
            `;
        }

        function setWantFood(want) {
            currentDatePlan.wantFood = want;
            if (want) {
                // Automatisch Vorher/Nachher aus Event-Daten setzen
                const defaultTiming = currentDatePlan.activity.vorher_nachher || 'Nachher';
                currentDatePlan.foodTiming = defaultTiming.toLowerCase();
                // Restaurant-Auswahl zeigen statt direkt setzen
                renderRestaurantSelection();
            } else {
                renderDateBuilderStep2();
            }
        }

        function renderRestaurantSelection() {
            const flow = document.getElementById('dateBuilderFlow');
            const e = currentDatePlan.activity;

            // Finde nahegelegene Restaurants (basierend auf Event-Koordinaten)
            let nearbyRestaurants = findNearbyVenues(e.coords, 'restaurants', 6);

            // Filter: Nur offene anzeigen wenn Toggle aktiv
            if (showOnlyOpenVenues) {
                nearbyRestaurants = nearbyRestaurants.filter(r => isVenueOpen(r) !== false);
            }
            nearbyRestaurants = nearbyRestaurants.slice(0, 3);

            // Fallback: Event-Restaurant verwenden wenn vorhanden, oder erstes aus der Liste
            if (nearbyRestaurants.length === 0 && e.restaurant) {
                nearbyRestaurants.push(e.restaurant);
            }

            const restaurantOptionsHtml = nearbyRestaurants.map((r, i) => {
                const statusBadge = getOpenStatusBadge(r);
                const hours = getFormattedHours(r);
                const hoursHtml = hours ? `<div class="venue-hours"><span class="hours-icon">üïê</span> ${hours}</div>` : '';

                return `
                <div class="venue-option" onclick="selectRestaurant(${i})" style="background:white;padding:15px;border-radius:12px;margin-bottom:10px;cursor:pointer;border:2px solid transparent;transition:all 0.2s;" data-index="${i}">
                    <div style="display:flex;align-items:center;justify-content:space-between;">
                        <strong>üçΩÔ∏è ${r.name}</strong>
                        <span>${statusBadge}${r.distance ? `<span style="color:var(--sage-dark);font-size:0.85rem;margin-left:8px;">${(r.distance * 1000).toFixed(0)}m</span>` : ''}</span>
                    </div>
                    <small style="color:var(--text-light)">${r.type || ''}</small><br>
                    <small>${r.address || ''}</small>
                    ${hoursHtml}
                    ${r.link ? `<a href="${r.link}" target="_blank" style="color:var(--sage-dark);font-size:0.85rem;display:block;margin-top:4px;" onclick="event.stopPropagation()">‚Üí Zum Restaurant</a>` : ''}
                </div>
            `}).join('') || '<p style="color:var(--text-light)">Keine Restaurants in der N√§he gefunden</p>';

            // Speichere die Optionen f√ºr sp√§ter
            currentDatePlan.restaurantOptions = nearbyRestaurants;

            flow.innerHTML = `
                <div class="date-builder-question">
                    <h4>üéØ Deine Aktivit√§t</h4>
                    <div style="background:white;padding:15px;border-radius:12px;text-align:left;">
                        <strong>${e.emoji} ${e.title}</strong><br>
                        <small style="color:var(--text-light)">${e.location || ''}</small>
                    </div>
                </div>

                <div class="date-builder-question">
                    <h4>üçΩÔ∏è W√§hle ein Restaurant (${currentDatePlan.foodTiming})</h4>
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
                        <p style="font-size:0.9rem;color:var(--text-light);margin:0;">In der N√§he von ${e.location || 'deiner Aktivit√§t'}:</p>
                        <button id="openOnlyToggle" class="open-filter-toggle ${showOnlyOpenVenues ? 'active' : ''}" onclick="toggleOnlyOpenVenues()">
                            ${showOnlyOpenVenues ? 'üü¢ Nur Offene' : '‚ö™ Alle zeigen'}
                        </button>
                    </div>
                    ${restaurantOptionsHtml}
                    <button class="date-option-btn" style="margin-top:10px;width:100%;" onclick="skipRestaurant()">√úberspringen</button>
                </div>
            `;
        }

        function selectRestaurant(index) {
            const r = currentDatePlan.restaurantOptions[index];
            currentDatePlan.restaurant = r;

            // Highlight selected option
            document.querySelectorAll('.venue-option').forEach((el, i) => {
                el.style.borderColor = i === index ? 'var(--sage)' : 'transparent';
            });

            // Kurze Verz√∂gerung f√ºr visuelles Feedback, dann weiter
            setTimeout(() => renderBarSelection(), 300);
        }

        function skipRestaurant() {
            currentDatePlan.wantFood = false;
            currentDatePlan.restaurant = null;
            renderBarSelection();
        }

        function renderBarSelection() {
            const flow = document.getElementById('dateBuilderFlow');
            const e = currentDatePlan.activity;
            const r = currentDatePlan.restaurant;

            // Finde nahegelegene Bars (mehr Optionen!)
            let nearbyBars = findNearbyVenues(e.coords, 'bars', 8);

            // Filter: Nur offene anzeigen wenn Toggle aktiv
            if (showOnlyOpenVenues) {
                nearbyBars = nearbyBars.filter(b => isVenueOpen(b) !== false);
            }
            nearbyBars = nearbyBars.slice(0, 5);

            // Speichere die Optionen f√ºr sp√§ter
            currentDatePlan.barOptions = nearbyBars;
            currentDatePlan.selectedBars = []; // Array f√ºr Mehrfachauswahl

            const restaurantInfo = r ? `
                <div style="background:white;padding:12px;border-radius:10px;margin-top:8px;text-align:left;">
                    <small style="color:var(--sage-dark)">üçΩÔ∏è ${currentDatePlan.foodTiming}</small><br>
                    <strong>${r.name}</strong>
                </div>
            ` : '';

            const barOptionsHtml = nearbyBars.map((b, i) => {
                const statusBadge = getOpenStatusBadge(b);
                const hours = getFormattedHours(b);
                const hoursHtml = hours ? `<div class="venue-hours"><span class="hours-icon">üïê</span> ${hours}</div>` : '';

                return `
                <div class="venue-option bar-option" onclick="toggleBarSelection(${i})" style="background:white;padding:15px;border-radius:12px;margin-bottom:10px;cursor:pointer;border:2px solid transparent;transition:all 0.2s;" data-index="${i}">
                    <div style="display:flex;align-items:center;gap:10px;">
                        <span class="bar-checkbox" style="width:22px;height:22px;border:2px solid var(--rose);border-radius:4px;display:flex;align-items:center;justify-content:center;flex-shrink:0;"></span>
                        <div style="flex:1;">
                            <div style="display:flex;align-items:center;justify-content:space-between;">
                                <strong>üç∏ ${b.name}</strong>
                                <span>${statusBadge}${b.distance ? `<span style="color:var(--rose-dark);font-size:0.85rem;margin-left:8px;">${(b.distance * 1000).toFixed(0)}m</span>` : ''}</span>
                            </div>
                            <small style="color:var(--text-light)">${b.type || ''}</small><br>
                            <small>${b.address || ''}</small>
                            ${hoursHtml}
                            ${b.link ? `<a href="${b.link}" target="_blank" style="color:var(--rose-dark);font-size:0.85rem;display:block;margin-top:4px;" onclick="event.stopPropagation()">‚Üí Zur Bar</a>` : ''}
                        </div>
                    </div>
                </div>
            `}).join('') || '<p style="color:var(--text-light)">Keine Bars in der N√§he gefunden</p>';

            flow.innerHTML = `
                <div class="date-builder-question">
                    <h4>üéØ Dein bisheriger Plan</h4>
                    <div style="background:white;padding:15px;border-radius:12px;text-align:left;">
                        <strong>${e.emoji} ${e.title}</strong><br>
                        <small style="color:var(--text-light)">${e.location || ''}</small>
                    </div>
                    ${restaurantInfo}
                </div>

                <div class="date-builder-question">
                    <h4>üç∏ Bars f√ºr danach? (mehrere m√∂glich)</h4>
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;">
                        <p style="font-size:0.9rem;color:var(--text-light);margin:0;">W√§hle eine oder mehrere Bars aus:</p>
                        <button id="openOnlyToggle" class="open-filter-toggle ${showOnlyOpenVenues ? 'active' : ''}" onclick="toggleOnlyOpenVenues()">
                            ${showOnlyOpenVenues ? 'üü¢ Nur Offene' : '‚ö™ Alle zeigen'}
                        </button>
                    </div>
                    ${barOptionsHtml}
                    <div style="display:flex;gap:10px;margin-top:15px;">
                        <button class="date-option-btn" style="flex:1;" onclick="confirmBarSelection()">Weiter</button>
                        <button class="date-option-btn" style="flex:1;opacity:0.7;" onclick="skipBar()">Ohne Bar</button>
                    </div>
                </div>
            `;
        }

        function toggleBarSelection(index) {
            const selectedIndex = currentDatePlan.selectedBars.indexOf(index);
            if (selectedIndex > -1) {
                // Bereits ausgew√§hlt -> entfernen
                currentDatePlan.selectedBars.splice(selectedIndex, 1);
            } else {
                // Neu hinzuf√ºgen
                currentDatePlan.selectedBars.push(index);
            }

            // UI aktualisieren
            document.querySelectorAll('.bar-option').forEach((el, i) => {
                const isSelected = currentDatePlan.selectedBars.includes(i);
                el.style.borderColor = isSelected ? 'var(--rose)' : 'transparent';
                el.style.background = isSelected ? 'var(--rose-light, #fdf2f3)' : 'white';
                const checkbox = el.querySelector('.bar-checkbox');
                if (checkbox) {
                    checkbox.innerHTML = isSelected ? '‚úì' : '';
                    checkbox.style.background = isSelected ? 'var(--rose)' : 'transparent';
                    checkbox.style.color = 'white';
                }
            });
        }

        function confirmBarSelection() {
            if (currentDatePlan.selectedBars.length > 0) {
                // Bars in der Reihenfolge der Auswahl speichern
                currentDatePlan.bars = currentDatePlan.selectedBars.map(i => currentDatePlan.barOptions[i]);
                currentDatePlan.bar = currentDatePlan.bars[0]; // Erste Bar f√ºr Kompatibilit√§t
                currentDatePlan.wantDrinks = true;
            } else {
                currentDatePlan.bars = [];
                currentDatePlan.bar = null;
                currentDatePlan.wantDrinks = false;
            }
            renderDateBuilderSummary();
        }

        function skipBar() {
            currentDatePlan.wantDrinks = false;
            currentDatePlan.bar = null;
            currentDatePlan.bars = [];
            renderDateBuilderSummary();
        }

        function renderDateBuilderStep2() {
            // Wenn kein Essen gew√ºnscht, direkt zur Bar-Auswahl
            renderBarSelection();
        }

        let datePlanMap = null;

        function renderDateBuilderSummary() {
            const flow = document.getElementById('dateBuilderFlow');
            const e = currentDatePlan.activity;
            const r = currentDatePlan.restaurant;
            const bars = currentDatePlan.bars || (currentDatePlan.bar ? [currentDatePlan.bar] : []);

            let steps = [];
            let stepNum = 1;

            // Aktivit√§t und Essen in richtiger Reihenfolge
            if (currentDatePlan.wantFood && currentDatePlan.foodTiming === 'vorher' && r) {
                steps.push({ num: stepNum++, emoji: 'üçΩÔ∏è', title: r.name, sub: r.type || '', link: r.link, coords: r.coords });
            }

            steps.push({ num: stepNum++, emoji: e.emoji, title: e.title, sub: e.location + (e.time ? ' ‚Ä¢ ' + e.time : ''), link: e.link, coords: e.coords });

            if (currentDatePlan.wantFood && currentDatePlan.foodTiming === 'nachher' && r) {
                steps.push({ num: stepNum++, emoji: 'üçΩÔ∏è', title: r.name, sub: r.type || '', link: r.link, coords: r.coords });
            }

            // Alle ausgew√§hlten Bars hinzuf√ºgen
            if (currentDatePlan.wantDrinks && bars.length > 0) {
                bars.forEach(b => {
                    steps.push({ num: stepNum++, emoji: 'üç∏', title: b.name, sub: b.type || '', link: b.link, coords: b.coords });
                });
            }

            const stepsHtml = steps.map(s => `
                <div class="date-summary-item">
                    <span class="step-num">${s.num}</span>
                    <div style="flex:1;">
                        ${s.link
                            ? `<a href="${s.link}" target="_blank" style="color:white;text-decoration:none;"><strong>${s.emoji} ${s.title}</strong></a>`
                            : `<strong>${s.emoji} ${s.title}</strong>`
                        }<br>
                        <small style="opacity:0.8">${s.sub}</small>
                    </div>
                </div>
            `).join('');

            // Budget berechnen
            const budget = calculateDateBudget(e, r, bars);
            const budgetHtml = `
                <div class="budget-display">
                    <div class="budget-label">üí∞ Gesch√§tztes Budget</div>
                    <div class="budget-amount">${budget.min}‚Ç¨ - ${budget.max}‚Ç¨</div>
                    <div class="budget-breakdown">
                        <span>üéØ Event: ~${budget.activity}‚Ç¨</span>
                        ${r ? `<span>üçΩÔ∏è Essen: ~${budget.food}‚Ç¨</span>` : ''}
                        ${bars.length > 0 ? `<span>üç∏ Drinks: ~${budget.drinks}‚Ç¨</span>` : ''}
                    </div>
                </div>
            `;

            // Pr√ºfen ob Koordinaten vorhanden sind f√ºr die Karte
            const stepsWithCoords = steps.filter(s => s.coords && s.coords.length === 2);
            const mapHtml = stepsWithCoords.length > 0 ? `
                <div style="margin-top:20px;">
                    <h5 style="margin-bottom:10px;color:var(--text);">Dein Date auf der Karte</h5>
                    <div id="datePlanMapContainer" style="height:200px;border-radius:12px;overflow:hidden;"></div>
                </div>
            ` : '';

            flow.innerHTML = `
                <div class="date-summary">
                    <h4>Euer perfektes Date!</h4>
                    ${stepsHtml}
                </div>

                ${budgetHtml}
                ${mapHtml}

                <p style="text-align:center;font-size:1.1rem;margin:25px 0;color:var(--rose);">Ich freu mich drauf!</p>

                <div style="display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:20px;">
                    <button class="btn btn-primary" onclick="addDateToCalendar()" style="background:var(--sage);">In Kalender</button>
                    <button class="btn btn-primary" onclick="shareDateViaWhatsApp()" style="background:#25D366;">WhatsApp</button>
                    <button class="btn btn-primary" onclick="openTransitConnection()" style="background:#4285F4;">üöá Route ab Arbeit</button>
                    <button class="btn btn-secondary" onclick="markDateDone('${e.id}')" title="Als erledigt markieren">‚úÖ Gemacht!</button>
                </div>

                <div style="display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-top:15px;">
                    <button class="btn btn-primary" onclick="closeDateBuilder()">Fertig!</button>
                    <button class="btn btn-secondary" onclick="startDateBuilder('${e.id}')">Nochmal planen</button>
                </div>
            `;

            // Karte initialisieren wenn Koordinaten vorhanden
            if (stepsWithCoords.length > 0) {
                setTimeout(() => initDatePlanMap(steps), 100);
            }

            showToast('Date geplant!');
        }

        // Budget-Berechnung
        function calculateDateBudget(event, restaurant, bars) {
            let activityCost = 0;

            // Event-Preis parsen
            if (event.price) {
                const priceMatch = event.price.match(/(\d+)/);
                if (priceMatch) activityCost = parseInt(priceMatch[1]) * 2; // F√ºr 2 Personen
            }

            // Sch√§tzungen basierend auf Kategorie
            if (activityCost === 0) {
                const categoryPrices = {
                    'wellness': 100,
                    'musical': 180,
                    'theater': 80,
                    'variete': 120,
                    'comedy': 60,
                    'aktiv': 40,
                    'handwerk': 90,
                    'essen': 0,
                    'musik': 50,
                    'erlebnis': 60
                };
                activityCost = categoryPrices[event.category] || 50;
            }

            // Restaurant: ca. 30-50‚Ç¨ pro Person
            const foodCost = restaurant ? 70 : 0;

            // Bars: ca. 20-30‚Ç¨ pro Bar
            const drinksCost = bars.length * 25;

            const total = activityCost + foodCost + drinksCost;

            return {
                activity: activityCost,
                food: foodCost,
                drinks: drinksCost,
                min: Math.round(total * 0.8),
                max: Math.round(total * 1.3)
            };
        }

        // Date als erledigt markieren
        function markDateDone(eventId) {
            addToDateHistory(eventId);
            showToast('‚úÖ Date zur History hinzugef√ºgt!');
            closeDateBuilder();
        }

        function initDatePlanMap(steps) {
            const container = document.getElementById('datePlanMapContainer');
            if (!container) return;

            // Alte Karte entfernen
            if (datePlanMap) {
                datePlanMap.remove();
                datePlanMap = null;
            }

            const stepsWithCoords = steps.filter(s => s.coords && s.coords.length === 2);
            if (stepsWithCoords.length === 0) return;

            // Karte erstellen
            datePlanMap = L.map('datePlanMapContainer').setView(stepsWithCoords[0].coords, 14);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap'
            }).addTo(datePlanMap);

            // Marker f√ºr jeden Schritt hinzuf√ºgen
            const bounds = [];
            const markerColors = ['#8fbc8f', '#e8b4b8', '#d4a574', '#6b8e6b'];

            stepsWithCoords.forEach((s, i) => {
                const color = markerColors[i % markerColors.length];
                const icon = L.divIcon({
                    className: 'custom-marker',
                    html: `<div style="background:${color};color:white;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:14px;border:2px solid white;box-shadow:0 2px 5px rgba(0,0,0,0.3);">${s.num}</div>`,
                    iconSize: [28, 28],
                    iconAnchor: [14, 14]
                });

                const marker = L.marker(s.coords, { icon }).addTo(datePlanMap);
                marker.bindPopup(`<strong>${s.emoji} ${s.title}</strong><br><small>${s.sub}</small>`);
                bounds.push(s.coords);
            });

            // Verbindungslinie zeichnen
            if (stepsWithCoords.length > 1) {
                const coords = stepsWithCoords.map(s => s.coords);
                L.polyline(coords, { color: '#e8b4b8', weight: 3, opacity: 0.7, dashArray: '10, 10' }).addTo(datePlanMap);
            }

            // Karte auf alle Marker zoomen
            if (bounds.length > 1) {
                datePlanMap.fitBounds(bounds, { padding: [30, 30] });
            }
        }

        function closeDateBuilder() {
            document.getElementById('dateBuilderModal').classList.remove('active');
        }

        function addDateToCalendar() {
            const e = currentDatePlan.activity;
            const r = currentDatePlan.restaurant;
            const bars = currentDatePlan.bars || (currentDatePlan.bar ? [currentDatePlan.bar] : []);

            // Verwende das ausgew√§hlte Datum (nicht das Event-Startdatum!)
            const eventDate = new Date(currentDatePlan.selectedDate || e.date);
            const year = eventDate.getFullYear();
            const month = String(eventDate.getMonth() + 1).padStart(2, '0');
            const day = String(eventDate.getDate()).padStart(2, '0');

            // Build description
            let description = `Date mit Solli\\n\\n`;
            let stepNum = 1;

            if (currentDatePlan.wantFood && currentDatePlan.foodTiming === 'vorher' && r) {
                description += `${stepNum}. ${r.name}${r.type ? ' (' + r.type + ')' : ''}\\n`;
                stepNum++;
            }

            description += `${stepNum}. ${e.title}\\n   ${e.location}${e.time ? '\\n   ' + e.time : ''}${e.price ? '\\n   ' + e.price : ''}\\n`;
            stepNum++;

            if (currentDatePlan.wantFood && currentDatePlan.foodTiming === 'nachher' && r) {
                description += `${stepNum}. ${r.name}${r.type ? ' (' + r.type + ')' : ''}\\n`;
                stepNum++;
            }

            // Alle ausgew√§hlten Bars hinzuf√ºgen
            if (currentDatePlan.wantDrinks && bars.length > 0) {
                bars.forEach(b => {
                    description += `${stepNum}. ${b.name}${b.type ? ' (' + b.type + ')' : ''}\\n`;
                    stepNum++;
                });
            }

            description += `\\nIch freu mich drauf!`;

            // Create ICS file
            const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Datebuch//Nick & Solli//DE
BEGIN:VEVENT
DTSTART:${year}${month}${day}T180000
DTEND:${year}${month}${day}T230000
SUMMARY:Date: ${e.title}
DESCRIPTION:${description}
LOCATION:${e.location}${e.address ? ', ' + e.address : ''}
END:VEVENT
END:VCALENDAR`;

            const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `date-${e.title.replace(/[^a-zA-Z0-9]/g, '-')}.ics`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showToast('üìÖ Kalender-Datei erstellt!');
        }

        function shareDateViaWhatsApp() {
            const e = currentDatePlan.activity;
            const r = currentDatePlan.restaurant;
            const bars = currentDatePlan.bars || (currentDatePlan.bar ? [currentDatePlan.bar] : []);

            // Verwende das ausgew√§hlte Datum (nicht das Event-Startdatum!)
            const eventDate = new Date(currentDatePlan.selectedDate || e.date);
            const dateStr = eventDate.toLocaleDateString('de-DE', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' });

            let message = `*Unser Date am ${dateStr}*\n\n`;
            let stepNum = 1;

            if (currentDatePlan.wantFood && currentDatePlan.foodTiming === 'vorher' && r) {
                message += `${stepNum}. *${r.name}*${r.type ? ' (' + r.type + ')' : ''}\n`;
                stepNum++;
            }

            message += `${stepNum}. *${e.title}*\n`;
            message += `   ${e.location}`;
            if (e.address) message += `\n   ${e.address}`;
            if (e.time) message += `\n   ${e.time}`;
            if (e.price) message += `\n   ${e.price}`;
            message += '\n';
            stepNum++;

            if (currentDatePlan.wantFood && currentDatePlan.foodTiming === 'nachher' && r) {
                message += `${stepNum}. *${r.name}*${r.type ? ' (' + r.type + ')' : ''}\n`;
                stepNum++;
            }

            // Alle ausgew√§hlten Bars hinzuf√ºgen
            if (currentDatePlan.wantDrinks && bars.length > 0) {
                bars.forEach(b => {
                    message += `${stepNum}. *${b.name}*${b.type ? ' (' + b.type + ')' : ''}\n`;
                    stepNum++;
                });
            }

            message += `\nIch freu mich drauf!`;

            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');

            showToast('üì± WhatsApp ge√∂ffnet!');
        }

        // ============ √ñPNV VERBINDUNG (Google Maps) ============
        function openTransitConnection() {
            const e = currentDatePlan.activity;
            const r = currentDatePlan.restaurant;
            const foodTiming = currentDatePlan.foodTiming;

            // Sollis Arbeitsadresse
            const startAddress = "Stadtdeich 5, 20097 Hamburg";

            // Bestimme das erste Ziel (Restaurant vorher oder Aktivit√§t)
            let firstDestination;
            if (currentDatePlan.wantFood && foodTiming === 'vorher' && r) {
                firstDestination = r.address || r.name + ", Hamburg";
            } else {
                firstDestination = e.address || e.location + ", Hamburg";
            }

            // Google Maps URL mit √ñPNV-Modus (travelmode=transit)
            const mapsUrl = `https://www.google.com/maps/dir/${encodeURIComponent(startAddress)}/${encodeURIComponent(firstDestination)}/?travelmode=transit`;

            window.open(mapsUrl, '_blank');
            showToast('üöá √ñPNV-Route ge√∂ffnet!');
        }

        // ============ TOAST ============
        function showToast(msg) {
            document.querySelector('.toast-notification')?.remove();
            const t = document.createElement('div');
            t.className = 'toast-notification';
            t.textContent = msg;
            document.body.appendChild(t);
            setTimeout(() => t.remove(), 2400);
        }
        
        // ============ DESTINATION POPUP ============
        let currentDestination = null;

        function openDestinationPopup(dest, isVisited) {
            currentDestination = { ...dest, isVisited };

            document.getElementById('destPopupTitle').textContent = dest.emoji + ' ' + dest.name;
            const status = document.getElementById('destPopupStatus');
            status.textContent = isVisited ? '‚úì Waren wir schon' : 'üåü Wollen wir hin';
            status.style.background = isVisited ? 'var(--sage)' : 'var(--rose)';
            status.style.color = 'white';

            let body = isVisited ? `<p style="margin-top:15px;">Unsere gemeinsame Erinnerung!</p>` : '';
            if (!isVisited && dest.reasons) {
                body = '<div style="margin-top:15px;">' + dest.reasons.map(r => `
                    <div style="display:flex;align-items:center;gap:10px;margin-bottom:10px;padding:10px;background:var(--ice-blue);border-radius:8px;">
                        <span style="font-size:1.3rem;">${r.substring(0,2)}</span>
                        <span>${r.substring(2).trim()}</span>
                    </div>
                `).join('') + '</div>';
            }
            document.getElementById('destPopupBody').innerHTML = body;

            // Render diary section
            renderDiarySection(dest.name, isVisited);

            document.getElementById('destinationPopup').classList.add('active');
        }

        // ============ TRAVEL DIARY ============
        function renderDiarySection(destName, isVisited) {
            const section = document.getElementById('destDiarySection');
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const diaries = saved.travelDiaries || {};
            const entries = diaries[destName] || [];

            let html = '<h4 style="font-family:\'Cormorant Garamond\',serif;font-size:1.2rem;color:var(--navy);margin-bottom:15px;">üìî Reisetagebuch</h4>';

            if (entries.length > 0) {
                html += entries.map((entry, index) => `
                    <div class="diary-entry">
                        <div class="diary-entry-date">${new Date(entry.date).toLocaleDateString('de-DE', { day: 'numeric', month: 'long', year: 'numeric' })}</div>
                        <div class="diary-entry-text">${entry.text}</div>
                        ${entry.media && entry.media.length > 0 ? `
                            <div class="diary-media-grid">
                                ${entry.media.map((m, i) => `
                                    <div class="diary-media-item" onclick="viewMedia('${m}')">
                                        ${m.startsWith('data:video') ?
                                            `<video src="${m}"></video>` :
                                            `<img src="${m}" alt="Foto">`}
                                    </div>
                                `).join('')}
                            </div>
                        ` : ''}
                        <button onclick="deleteDiaryEntry('${destName}', ${index})" style="background:none;border:none;color:var(--text-light);font-size:0.8rem;margin-top:8px;">üóëÔ∏è L√∂schen</button>
                    </div>
                `).join('');
            } else {
                html += `<p style="color:var(--text-light);font-size:0.9rem;text-align:center;padding:20px;">Noch keine Eintr√§ge. ${isVisited ? 'Erz√§hlt von eurer Reise!' : 'Notiert eure Pl√§ne!'}</p>`;
            }

            html += `
                <div id="diaryForm" style="display:none;" class="diary-form">
                    <textarea id="diaryText" placeholder="${isVisited ? 'Was habt ihr erlebt? Was war besonders sch√∂n?' : 'Was wollt ihr dort machen? Notizen...'}"></textarea>
                    <div class="diary-media-upload">
                        <label class="diary-upload-btn" onclick="document.getElementById('diaryMediaInput').click()">
                            üì∑ Fotos/Videos hinzuf√ºgen
                        </label>
                        <div id="mediaPreview" style="display:flex;gap:5px;flex-wrap:wrap;"></div>
                    </div>
                    <div style="display:flex;gap:10px;">
                        <button class="btn btn-primary" style="flex:1;" onclick="saveDiaryEntry('${destName}')">üíæ Speichern</button>
                        <button class="btn btn-secondary" onclick="toggleDiaryForm()">Abbrechen</button>
                    </div>
                </div>
                <button class="diary-add-btn" id="addDiaryBtn" onclick="toggleDiaryForm()">
                    ‚úèÔ∏è Neuer Eintrag
                </button>
            `;

            section.innerHTML = html;
        }

        let pendingMedia = [];

        function toggleDiaryForm() {
            const form = document.getElementById('diaryForm');
            const btn = document.getElementById('addDiaryBtn');
            if (form.style.display === 'none') {
                form.style.display = 'block';
                btn.style.display = 'none';
                pendingMedia = [];
                document.getElementById('mediaPreview').innerHTML = '';
            } else {
                form.style.display = 'none';
                btn.style.display = 'flex';
            }
        }

        function handleDiaryMedia(event) {
            const files = event.target.files;
            const preview = document.getElementById('mediaPreview');

            Array.from(files).forEach(file => {
                const reader = new FileReader();
                reader.onload = (e) => {
                    pendingMedia.push(e.target.result);
                    const isVideo = file.type.startsWith('video');
                    preview.innerHTML += `
                        <div style="width:60px;height:60px;border-radius:6px;overflow:hidden;">
                            ${isVideo ? `<video src="${e.target.result}" style="width:100%;height:100%;object-fit:cover;"></video>` :
                                       `<img src="${e.target.result}" style="width:100%;height:100%;object-fit:cover;">`}
                        </div>
                    `;
                };
                reader.readAsDataURL(file);
            });
        }

        function saveDiaryEntry(destName) {
            const text = document.getElementById('diaryText').value.trim();
            if (!text) {
                showToast('üìù Bitte Text eingeben');
                return;
            }

            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            if (!saved.travelDiaries) saved.travelDiaries = {};
            if (!saved.travelDiaries[destName]) saved.travelDiaries[destName] = [];

            saved.travelDiaries[destName].push({
                date: new Date().toISOString(),
                text: text,
                media: pendingMedia
            });

            localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
            document.getElementById('diaryText').value = '';
            pendingMedia = [];
            renderDiarySection(destName, currentDestination?.isVisited);
            showToast('üìî Eintrag gespeichert!');
        }

        function deleteDiaryEntry(destName, index) {
            if (!confirm('Eintrag wirklich l√∂schen?')) return;

            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            if (saved.travelDiaries && saved.travelDiaries[destName]) {
                saved.travelDiaries[destName].splice(index, 1);
                localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
                renderDiarySection(destName, currentDestination?.isVisited);
                showToast('üóëÔ∏è Gel√∂scht');
            }
        }

        function viewMedia(src) {
            // Simple fullscreen view
            const overlay = document.createElement('div');
            overlay.style.cssText = 'position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.9);z-index:2000;display:flex;align-items:center;justify-content:center;';
            overlay.onclick = () => overlay.remove();

            if (src.startsWith('data:video')) {
                const video = document.createElement('video');
                video.src = src;
                video.controls = true;
                video.autoplay = true;
                video.style.maxWidth = '90%';
                video.style.maxHeight = '90%';
                overlay.appendChild(video);
            } else {
                const img = document.createElement('img');
                img.src = src;
                img.style.maxWidth = '90%';
                img.style.maxHeight = '90%';
                img.style.objectFit = 'contain';
                overlay.appendChild(img);
            }

            document.body.appendChild(overlay);
        }
        
        function closeDestinationPopup() { document.getElementById('destinationPopup').classList.remove('active'); }
        
        // Modal close handlers
        ['rouletteModal', 'destinationPopup', 'addDateModal', 'memoryModal', 'dayEventsModal', 'dateBuilderModal'].forEach(id => {
            document.getElementById(id)?.addEventListener('click', e => {
                if (e.target === e.currentTarget) document.getElementById(id).classList.remove('active');
            });
        });
        
        // ============ 3D GLOBE ============
        let scene, camera, renderer, globeGroup, globeInitialized = false;
        let isDragging = false, prevMouse = { x: 0, y: 0 };
        
        function updateTravelStats() {
            const visitedEl = document.getElementById('travelVisited');
            const wishlistEl = document.getElementById('travelWishlist');
            const distanceEl = document.getElementById('travelDistance');

            if (visitedEl) visitedEl.textContent = destinations.visited.length;
            if (wishlistEl) wishlistEl.textContent = destinations.wishlist.length;

            // Gesch√§tzte Distanz berechnen (Hamburg als Ausgangspunkt)
            const hamburg = { lat: 53.55, lon: 10.0 };
            let totalDistance = 0;
            destinations.visited.forEach(dest => {
                totalDistance += haversineDistance(hamburg.lat, hamburg.lon, dest.lat, dest.lon);
            });
            // Hin- und R√ºckflug
            totalDistance *= 2;

            if (distanceEl) {
                if (totalDistance > 1000) {
                    distanceEl.textContent = Math.round(totalDistance / 1000) + 'k';
                } else {
                    distanceEl.textContent = Math.round(totalDistance);
                }
            }
        }

        function haversineDistance(lat1, lon1, lat2, lon2) {
            const R = 6371; // km
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                      Math.sin(dLon/2) * Math.sin(dLon/2);
            return R * 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
        }

        function initGlobe() {
            if (globeInitialized) return;
            updateTravelStats(); // Update stats when globe initializes
            const canvas = document.getElementById('globeCanvas');
            if (!canvas) return;
            const cont = canvas.parentElement;
            const w = cont.clientWidth, h = cont.clientHeight;
            
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(45, w / h, 0.1, 1000);
            camera.position.z = 2.8;
            
            renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
            renderer.setSize(w, h);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            
            globeGroup = new THREE.Group();
            scene.add(globeGroup);

            // Ocean sphere (soft light blue - clearly water)
            const globeGeo = new THREE.SphereGeometry(1, 64, 64);
            const globeMat = new THREE.MeshPhongMaterial({ color: 0x8ec8e8, emissive: 0x4a8ab0, shininess: 20 });
            globeGroup.add(new THREE.Mesh(globeGeo, globeMat));

            // Glow effect (subtle warm glow)
            const glowMat = new THREE.MeshBasicMaterial({ color: 0xf5e6d3, transparent: true, opacity: 0.1, side: THREE.BackSide });
            globeGroup.add(new THREE.Mesh(new THREE.SphereGeometry(1.08, 32, 32), glowMat));

            scene.add(new THREE.AmbientLight(0xffffff, 0.6));
            const dir = new THREE.DirectionalLight(0xffffff, 0.9);
            dir.position.set(5, 3, 5);
            scene.add(dir);

            // Load GeoJSON countries
            loadCountryBorders();

            addMarkers();
            
            // Controls
            canvas.addEventListener('mousedown', e => { isDragging = true; prevMouse = { x: e.clientX, y: e.clientY }; });
            canvas.addEventListener('mouseup', () => isDragging = false);
            canvas.addEventListener('mouseleave', () => isDragging = false);
            canvas.addEventListener('mousemove', e => {
                if (isDragging) {
                    globeGroup.rotation.y += (e.clientX - prevMouse.x) * 0.005;
                    globeGroup.rotation.x += (e.clientY - prevMouse.y) * 0.005;
                    globeGroup.rotation.x = Math.max(-Math.PI/2, Math.min(Math.PI/2, globeGroup.rotation.x));
                }
                prevMouse = { x: e.clientX, y: e.clientY };
            });
            
            canvas.addEventListener('touchstart', e => { e.preventDefault(); isDragging = true; prevMouse = { x: e.touches[0].clientX, y: e.touches[0].clientY }; }, { passive: false });
            canvas.addEventListener('touchmove', e => {
                e.preventDefault();
                if (isDragging && e.touches.length === 1) {
                    globeGroup.rotation.y += (e.touches[0].clientX - prevMouse.x) * 0.005;
                    globeGroup.rotation.x += (e.touches[0].clientY - prevMouse.y) * 0.005;
                    globeGroup.rotation.x = Math.max(-Math.PI/2, Math.min(Math.PI/2, globeGroup.rotation.x));
                    prevMouse = { x: e.touches[0].clientX, y: e.touches[0].clientY };
                }
            }, { passive: false });
            canvas.addEventListener('touchend', () => isDragging = false);

            // Zoom mit Mausrad - SCHNELLER!
            canvas.addEventListener('wheel', e => {
                e.preventDefault();
                const zoomSpeed = 0.005; // 5x schneller als vorher
                camera.position.z += e.deltaY * zoomSpeed;
                camera.position.z = Math.max(1.2, Math.min(5, camera.position.z)); // N√§her ranzoomen erlaubt
                updateMarkersForZoom();
            }, { passive: false });

            // Pinch-Zoom f√ºr Mobile
            let initialPinchDistance = 0;
            let initialCameraZ = 2.8;
            canvas.addEventListener('touchstart', e => {
                if (e.touches.length === 2) {
                    const dx = e.touches[0].clientX - e.touches[1].clientX;
                    const dy = e.touches[0].clientY - e.touches[1].clientY;
                    initialPinchDistance = Math.sqrt(dx * dx + dy * dy);
                    initialCameraZ = camera.position.z;
                }
            }, { passive: true });

            canvas.addEventListener('touchmove', e => {
                if (e.touches.length === 2) {
                    const dx = e.touches[0].clientX - e.touches[1].clientX;
                    const dy = e.touches[0].clientY - e.touches[1].clientY;
                    const currentDistance = Math.sqrt(dx * dx + dy * dy);
                    const scale = initialPinchDistance / currentDistance;
                    camera.position.z = Math.max(1.2, Math.min(5, initialCameraZ * scale));
                    updateMarkersForZoom();
                }
            }, { passive: true });

            // Marker click handler function (shared between mouse and touch)
            function handleMarkerClick(clientX, clientY) {
                const rect = canvas.getBoundingClientRect();
                const mouse = new THREE.Vector2(((clientX - rect.left) / rect.width) * 2 - 1, -((clientY - rect.top) / rect.height) * 2 + 1);
                const raycaster = new THREE.Raycaster();
                raycaster.setFromCamera(mouse, camera);
                const markers = globeGroup.children.filter(c => c.userData.destination);
                const intersects = raycaster.intersectObjects(markers);
                if (intersects.length > 0) openDestinationPopup(intersects[0].object.userData.destination, intersects[0].object.userData.isVisited);
            }

            canvas.addEventListener('click', e => handleMarkerClick(e.clientX, e.clientY));

            // Mobile touch support for markers
            let touchStartTime = 0;
            let touchStartPos = { x: 0, y: 0 };
            canvas.addEventListener('touchstart', e => {
                touchStartTime = Date.now();
                touchStartPos = { x: e.touches[0].clientX, y: e.touches[0].clientY };
            }, { passive: true });

            canvas.addEventListener('touchend', e => {
                // Only trigger if it was a tap (short duration, minimal movement)
                const touchDuration = Date.now() - touchStartTime;
                if (touchDuration < 300 && e.changedTouches.length > 0) {
                    const touch = e.changedTouches[0];
                    const dx = touch.clientX - touchStartPos.x;
                    const dy = touch.clientY - touchStartPos.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    if (distance < 20) { // Tap threshold
                        handleMarkerClick(touch.clientX, touch.clientY);
                    }
                }
            }, { passive: true });
            
            function animate() { requestAnimationFrame(animate); renderer.render(scene, camera); }
            animate();
            globeInitialized = true;
        }
        
        function latLonToVector3(lat, lon, r) {
            const phi = (90 - lat) * Math.PI / 180, theta = (lon + 180) * Math.PI / 180;
            return new THREE.Vector3(-r * Math.sin(phi) * Math.cos(theta), r * Math.cos(phi), r * Math.sin(phi) * Math.sin(theta));
        }

        // More vibrant pastel colors for better country differentiation
        const pastelColors = [
            // Warm peachy tones
            0xF4D4C4, // Peach
            0xE8C4B8, // Apricot
            0xF0E0D4, // Blush
            // Sage/mint tones (but not visited green)
            0xC5D4C0, // Soft sage
            0xB8D0C0, // Mint cream
            0xD4E0D4, // Pale green
            // Warm beiges with more saturation
            0xE8D5B7, // Sand
            0xDEC9A8, // Light tan
            0xD4B896, // Warm beige
            // Lavender/dusty pink tones
            0xE0D4E8, // Lavender
            0xE8D4E0, // Dusty pink
            0xD4C4D8, // Mauve light
            // Golden/yellow tones
            0xF0E4C8, // Vanilla
            0xE8DCC0, // Buttermilk
            0xD8C8A8, // Wheat
            // Terra cotta tones
            0xD4B4A8, // Terra cotta light
            0xC8A898, // Adobe
        ];

        // Besuchte L√§nder gr√ºn f√§rben! (ISO 3166-1 numeric codes)
        const visitedCountryCodes = [
            '620', // Portugal
            '208', // D√§nemark (Denmark)
            '724', // Spanien (Spain)
            '250', // Frankreich (France)
            '276'  // Deutschland (Germany)
        ];
        const visitedColor = 0x8fbc8f; // Sage green - wie die visited marker

        // Load country borders from GeoJSON
        async function loadCountryBorders() {
            try {
                // Use Natural Earth data via GitHub - more reliable
                const response = await fetch('https://cdn.jsdelivr.net/npm/world-atlas@2/countries-50m.json');
                const topology = await response.json();

                // Convert TopoJSON to GeoJSON features
                const countries = topojson.feature(topology, topology.objects.countries);

                // Draw each country with a pastel fill and border
                countries.features.forEach((country, index) => {
                    // Check if country was visited - use green!
                    // Convert to string for comparison (TopoJSON IDs can be numbers)
                    const countryId = String(country.id);
                    const isVisited = visitedCountryCodes.includes(countryId);
                    const fillColor = isVisited ? visitedColor : pastelColors[index % pastelColors.length];

                    // Draw filled country (visited countries slightly higher so they stand out)
                    drawFilledCountry(country.geometry, fillColor, isVisited ? 1.004 : 1.002);

                    // Draw border
                    const borderMaterial = new THREE.LineBasicMaterial({
                        color: 0xffffff,
                        transparent: true,
                        opacity: 0.4
                    });
                    drawGeoJSONFeature(country.geometry, borderMaterial, 1.006);
                });

            } catch (error) {
                console.error('Failed to load country borders:', error);
                // Fallback: draw simplified continents manually
                drawSimplifiedContinents();
            }
        }

        // Draw filled country on the globe using improved triangulation
        function drawFilledCountry(geometry, color, radius) {
            if (!geometry) return;

            const material = new THREE.MeshBasicMaterial({
                color: color,
                transparent: true,
                opacity: 0.85,
                side: THREE.DoubleSide
            });

            // Check if polygon crosses the antimeridian
            const crossesAntimeridian = (coords) => {
                for (let i = 0; i < coords.length - 1; i++) {
                    if (Math.abs(coords[i + 1][0] - coords[i][0]) > 170) return true;
                }
                return false;
            };

            // Simplify polygon to reduce complexity for problematic shapes
            const simplifyPolygon = (coords, tolerance = 0.5) => {
                if (coords.length < 10) return coords;
                const simplified = [coords[0]];
                for (let i = 1; i < coords.length - 1; i++) {
                    const prev = simplified[simplified.length - 1];
                    const curr = coords[i];
                    const dist = Math.sqrt(Math.pow(curr[0] - prev[0], 2) + Math.pow(curr[1] - prev[1], 2));
                    if (dist > tolerance) {
                        simplified.push(curr);
                    }
                }
                simplified.push(coords[coords.length - 1]);
                return simplified;
            };

            const drawSinglePolygon = (coords, mat, rad) => {
                if (coords.length < 3) return;

                // Skip antimeridian-crossing polygons
                if (crossesAntimeridian(coords)) return;

                // Simplify very complex polygons
                let processedCoords = coords.length > 100 ? simplifyPolygon(coords, 1.0) : coords;
                if (processedCoords.length < 3) return;

                try {
                    // Flatten coordinates for earcut
                    const flatCoords = [];
                    processedCoords.forEach(([lon, lat]) => {
                        flatCoords.push(lon, lat);
                    });

                    // Triangulate
                    const indices = earcut(flatCoords, null, 2);

                    if (indices.length === 0) {
                        drawPolygonFallback(processedCoords, mat, rad);
                        return;
                    }

                    const geo = new THREE.BufferGeometry();
                    const vertices = [];

                    for (let i = 0; i < indices.length; i += 3) {
                        const i0 = indices[i];
                        const i1 = indices[i + 1];
                        const i2 = indices[i + 2];

                        if (i0 >= processedCoords.length || i1 >= processedCoords.length || i2 >= processedCoords.length) {
                            continue;
                        }

                        const v0 = latLonToVector3(processedCoords[i0][1], processedCoords[i0][0], rad);
                        const v1 = latLonToVector3(processedCoords[i1][1], processedCoords[i1][0], rad);
                        const v2 = latLonToVector3(processedCoords[i2][1], processedCoords[i2][0], rad);

                        vertices.push(v0.x, v0.y, v0.z);
                        vertices.push(v1.x, v1.y, v1.z);
                        vertices.push(v2.x, v2.y, v2.z);
                    }

                    if (vertices.length === 0) {
                        drawPolygonFallback(processedCoords, mat, rad);
                        return;
                    }

                    geo.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));
                    geo.computeVertexNormals();
                    globeGroup.add(new THREE.Mesh(geo, mat));
                } catch (e) {
                    drawPolygonFallback(processedCoords, mat, rad);
                }
            };

            // Fallback: triangle fan from centroid
            const drawPolygonFallback = (coords, mat, rad) => {
                if (coords.length < 3) return;

                let sumLon = 0, sumLat = 0;
                coords.forEach(([lon, lat]) => {
                    sumLon += lon;
                    sumLat += lat;
                });
                const cx = sumLon / coords.length;
                const cy = sumLat / coords.length;
                const centroidVec = latLonToVector3(cy, cx, rad);

                const geo = new THREE.BufferGeometry();
                const vertices = [];

                for (let i = 0; i < coords.length; i++) {
                    const [lon1, lat1] = coords[i];
                    const [lon2, lat2] = coords[(i + 1) % coords.length];

                    const v1 = latLonToVector3(lat1, lon1, rad);
                    const v2 = latLonToVector3(lat2, lon2, rad);

                    vertices.push(centroidVec.x, centroidVec.y, centroidVec.z);
                    vertices.push(v1.x, v1.y, v1.z);
                    vertices.push(v2.x, v2.y, v2.z);
                }

                geo.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));
                geo.computeVertexNormals();
                globeGroup.add(new THREE.Mesh(geo, mat));
            };

            if (geometry.type === 'Polygon') {
                if (geometry.coordinates[0]) drawSinglePolygon(geometry.coordinates[0], material, radius);
            } else if (geometry.type === 'MultiPolygon') {
                geometry.coordinates.forEach(polygon => {
                    if (polygon[0]) drawSinglePolygon(polygon[0], material, radius);
                });
            }
        }

        // Draw GeoJSON geometry on the globe (borders)
        function drawGeoJSONFeature(geometry, material, radius) {
            if (!geometry) return;

            const drawPolygon = (coords) => {
                const points = [];
                coords.forEach(([lon, lat]) => {
                    points.push(latLonToVector3(lat, lon, radius));
                });
                if (points.length > 1) {
                    const geo = new THREE.BufferGeometry().setFromPoints(points);
                    globeGroup.add(new THREE.Line(geo, material));
                }
            };

            if (geometry.type === 'Polygon') {
                geometry.coordinates.forEach(ring => drawPolygon(ring));
            } else if (geometry.type === 'MultiPolygon') {
                geometry.coordinates.forEach(polygon => {
                    polygon.forEach(ring => drawPolygon(ring));
                });
            }
        }

        // Fallback: simplified continent outlines
        function drawSimplifiedContinents() {
            const material = new THREE.LineBasicMaterial({ color: 0x4a9c6d, opacity: 0.8, transparent: true });

            // Europe outline (simplified)
            const europe = [[-10, 36], [0, 36], [5, 43], [-5, 48], [10, 55], [30, 70], [30, 55], [40, 45], [30, 36], [-10, 36]];
            drawPath(europe, material);

            // Africa outline
            const africa = [[-17, 15], [10, 35], [35, 30], [50, 12], [40, -35], [20, -35], [-17, 5], [-17, 15]];
            drawPath(africa, material);

            // Asia outline
            const asia = [[30, 35], [60, 25], [75, 35], [90, 25], [105, 20], [120, 25], [140, 45], [170, 65], [180, 65], [140, 75], [60, 70], [30, 55], [30, 35]];
            drawPath(asia, material);

            // North America
            const northAmerica = [[-170, 65], [-140, 70], [-100, 70], [-80, 65], [-55, 50], [-80, 25], [-105, 20], [-120, 35], [-125, 50], [-170, 65]];
            drawPath(northAmerica, material);

            // South America
            const southAmerica = [[-80, 10], [-35, 5], [-35, -35], [-55, -55], [-75, -45], [-80, -5], [-80, 10]];
            drawPath(southAmerica, material);

            // Australia
            const australia = [[115, -35], [150, -35], [150, -15], [135, -10], [115, -20], [115, -35]];
            drawPath(australia, material);
        }

        function drawPath(coords, material) {
            const points = coords.map(([lon, lat]) => latLonToVector3(lat, lon, 1.005));
            const geo = new THREE.BufferGeometry().setFromPoints(points);
            globeGroup.add(new THREE.Line(geo, material));
        }

        // Arrays um Marker zu tracken f√ºr Zoom-Updates
        let countryMarkers = [];
        let cityMarkers = [];
        const CITY_ZOOM_THRESHOLD = 2.0; // St√§dte erscheinen wenn camera.z < 2.0

        function addMarkers() {
            countryMarkers = [];
            cityMarkers = [];

            // L√§nder-Marker (visited)
            destinations.visited.forEach(d => {
                const m = new THREE.Mesh(
                    new THREE.SphereGeometry(0.04, 16, 16),
                    new THREE.MeshBasicMaterial({ color: 0x8fbc8f })
                );
                m.position.copy(latLonToVector3(d.lat, d.lon, 1.02));
                m.userData = { destination: d, isVisited: true, isCity: false, baseSize: 0.04 };
                globeGroup.add(m);
                countryMarkers.push(m);
            });

            // L√§nder-Marker (wishlist)
            destinations.wishlist.forEach(d => {
                const m = new THREE.Mesh(
                    new THREE.SphereGeometry(0.05, 16, 16),
                    new THREE.MeshBasicMaterial({ color: 0xe8b4b8 })
                );
                m.position.copy(latLonToVector3(d.lat, d.lon, 1.02));
                m.userData = { destination: d, isVisited: false, isCity: false, baseSize: 0.05 };
                globeGroup.add(m);
                countryMarkers.push(m);
            });

            // Stadt-Marker (zun√§chst unsichtbar)
            if (destinations.visitedCities) {
                destinations.visitedCities.forEach(d => {
                    const m = new THREE.Mesh(
                        new THREE.SphereGeometry(0.02, 12, 12),
                        new THREE.MeshBasicMaterial({ color: 0x6b8e6b }) // Dunkleres Gr√ºn f√ºr St√§dte
                    );
                    m.position.copy(latLonToVector3(d.lat, d.lon, 1.025));
                    m.userData = { destination: d, isVisited: true, isCity: true, baseSize: 0.02 };
                    m.visible = false; // Zun√§chst versteckt
                    globeGroup.add(m);
                    cityMarkers.push(m);
                });
            }
        }

        // Aktualisiere Marker basierend auf Zoom-Level
        function updateMarkersForZoom() {
            if (!camera) return;

            const zoomLevel = camera.position.z;
            const isZoomedIn = zoomLevel < CITY_ZOOM_THRESHOLD;

            // Berechne Skalierungsfaktor - kleiner bei Zoom
            // Bei z=2.8 (default) -> scale=1, bei z=1.2 (max zoom) -> scale=0.4
            const scaleFactor = Math.max(0.3, Math.min(1.2, zoomLevel / 2.8));

            // Update L√§nder-Marker Gr√∂√üe
            countryMarkers.forEach(m => {
                const newSize = m.userData.baseSize * scaleFactor;
                m.geometry.dispose();
                m.geometry = new THREE.SphereGeometry(newSize, 16, 16);
            });

            // Stadt-Marker: sichtbar machen bei Zoom und Gr√∂√üe anpassen
            cityMarkers.forEach(m => {
                m.visible = isZoomedIn;
                if (isZoomedIn) {
                    const newSize = m.userData.baseSize * scaleFactor;
                    m.geometry.dispose();
                    m.geometry = new THREE.SphereGeometry(newSize, 12, 12);
                }
            });
        }

        // Zoom-Button Funktion
        function globeZoom(direction) {
            if (!camera) return;
            const step = 0.3; // Zoom-Schritt
            camera.position.z += direction * step;
            camera.position.z = Math.max(1.2, Math.min(5, camera.position.z));
            updateMarkersForZoom();
        }

        // Direkt zu St√§dte-Ansicht zoomen
        function showCities() {
            if (!camera) return;
            // Animiert zum St√§dte-Zoom-Level
            const targetZ = CITY_ZOOM_THRESHOLD - 0.3; // Etwas unter dem Threshold
            const startZ = camera.position.z;
            const duration = 500; // ms
            const startTime = Date.now();

            function animateZoom() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                // Easing
                const eased = 1 - Math.pow(1 - progress, 3);
                camera.position.z = startZ + (targetZ - startZ) * eased;
                updateMarkersForZoom();

                if (progress < 1) {
                    requestAnimationFrame(animateZoom);
                }
            }
            animateZoom();
        }
        
        window.addEventListener('resize', () => {
            if (renderer && camera) {
                const c = document.querySelector('.globe-container');
                if (c) { camera.aspect = c.clientWidth / c.clientHeight; camera.updateProjectionMatrix(); renderer.setSize(c.clientWidth, c.clientHeight); }
            }
        });

        // ============ DARK MODE ============
        function loadTheme() {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            if (saved.darkMode) {
                document.documentElement.setAttribute('data-theme', 'dark');
                document.querySelector('.theme-toggle').textContent = '‚òÄÔ∏è';
            }
        }

        function toggleTheme() {
            const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
            const btn = document.querySelector('.theme-toggle');

            if (isDark) {
                document.documentElement.removeAttribute('data-theme');
                btn.textContent = 'üåô';
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
                btn.textContent = '‚òÄÔ∏è';
            }

            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            saved.darkMode = !isDark;
            localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
            showToast(isDark ? '‚òÄÔ∏è Hell-Modus' : 'üåô Dunkel-Modus');
        }

        // ============ TOGGLE FUNKTIONEN ============
        function toggleMiniCalendar() {
            const cal = document.getElementById('miniCalendar');
            if (cal) {
                cal.classList.toggle('collapsed');
            }
        }

        function toggleAchievements() {
            const section = document.getElementById('achievementsSection');
            if (section) {
                section.classList.toggle('collapsed');
            }
        }

        function toggleAIInsights() {
            const panel = document.getElementById('aiInsightsPanel');
            if (panel) {
                const wasCollapsed = panel.classList.contains('collapsed');
                panel.classList.toggle('collapsed');
                if (wasCollapsed) {
                    generateAIInsights();
                }
            }
        }

        // ============ AI DATE ANALYSIS ============
        function generateAIInsights() {
            const content = document.getElementById('aiInsightsContent');
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const ratings = saved.ratings || {};
            const dateHistory = saved.dateHistory || [];

            // Analysiere gelikte Events
            const likedEvents = allEvents.filter(e => ratings[e.id]?.liked);
            const doneEvents = dateHistory.map(d => allEvents.find(e => e.id === d.id)).filter(Boolean);

            // Kategorie-Analyse
            const categoryCount = {};
            const districtCount = {};

            [...likedEvents, ...doneEvents].forEach(e => {
                // Kategorien z√§hlen
                categoryCount[e.category] = (categoryCount[e.category] || 0) + 1;

                // Stadtteile extrahieren
                const district = extractDistrict(e.address || e.location || '');
                if (district) {
                    districtCount[district] = (districtCount[district] || 0) + 1;
                }
            });

            // Sortieren
            const topCategories = Object.entries(categoryCount)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 5);

            const topDistricts = Object.entries(districtCount)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 5);

            // Empfehlungen generieren
            const recommendations = generateRecommendations(topCategories, topDistricts, likedEvents, ratings);

            // Render
            const totalDates = doneEvents.length;
            const totalLiked = likedEvents.length;
            const maxDistrictCount = topDistricts[0]?.[1] || 1;

            content.innerHTML = `
                <!-- Statistik-√úbersicht -->
                <div class="ai-section">
                    <div class="ai-section-title">üìä Eure Statistiken</div>
                    <div class="ai-stat-grid">
                        <div class="ai-stat">
                            <div class="ai-stat-value">${totalDates}</div>
                            <div class="ai-stat-label">Dates gemacht</div>
                        </div>
                        <div class="ai-stat">
                            <div class="ai-stat-value">${totalLiked}</div>
                            <div class="ai-stat-label">Events geliked</div>
                        </div>
                        <div class="ai-stat">
                            <div class="ai-stat-value">${topCategories[0]?.[0] ? getCategoryEmoji(topCategories[0][0]) : '‚ùì'}</div>
                            <div class="ai-stat-label">Lieblingskategorie</div>
                        </div>
                        <div class="ai-stat">
                            <div class="ai-stat-value">${topDistricts[0]?.[0] || '?'}</div>
                            <div class="ai-stat-label">Top-Stadtteil</div>
                        </div>
                    </div>
                </div>

                <!-- Lieblings-Kategorien -->
                <div class="ai-section">
                    <div class="ai-section-title">üíï Das m√∂gt ihr</div>
                    <div class="ai-tag-cloud">
                        ${topCategories.map((c, i) => `
                            <span class="ai-tag ${i === 0 ? 'highlight' : ''}">${getCategoryEmoji(c[0])} ${getCategoryName(c[0])} (${c[1]})</span>
                        `).join('')}
                        ${topCategories.length === 0 ? '<span class="ai-tag">Noch keine Daten - liked mehr Events!</span>' : ''}
                    </div>
                </div>

                <!-- Stadtteil-Heatmap -->
                <div class="ai-section">
                    <div class="ai-section-title">üìç Eure Lieblings-Stadtteile</div>
                    ${topDistricts.map(d => `
                        <div class="ai-district-bar">
                            <div class="ai-district-name">${d[0]}</div>
                            <div class="ai-district-progress">
                                <div class="ai-district-fill" style="width:${(d[1] / maxDistrictCount) * 100}%"></div>
                            </div>
                            <div class="ai-district-count">${d[1]}</div>
                        </div>
                    `).join('')}
                    ${topDistricts.length === 0 ? '<p style="opacity:0.8;font-size:0.9rem;">Noch keine Stadtteil-Daten</p>' : ''}
                </div>

                <!-- Personalisierte Empfehlungen -->
                <div class="ai-section">
                    <div class="ai-section-title">‚ú® F√ºr euch empfohlen</div>
                    ${recommendations.map(r => `
                        <div class="ai-recommendation" onclick="showEventDetails('${r.id}')">
                            <div class="ai-recommendation-title">${r.emoji} ${r.title}</div>
                            <div class="ai-recommendation-reason">${r.reason}</div>
                        </div>
                    `).join('')}
                    ${recommendations.length === 0 ? '<p style="opacity:0.8;font-size:0.9rem;">Liked mehr Events f√ºr Empfehlungen!</p>' : ''}
                </div>
            `;
        }

        function extractDistrict(address) {
            const districts = [
                'St. Pauli', 'Schanze', 'Sternschanze', 'Altona', 'Ottensen', 'Eimsb√ºttel',
                'Eppendorf', 'Winterhude', 'Uhlenhorst', 'Barmbek', 'Wandsbek',
                'HafenCity', 'Speicherstadt', 'Neustadt', 'Altstadt', 'St. Georg',
                'Rotherbaum', 'Harvestehude', 'Blankenese', 'Wilhelmsburg', 'Veddel',
                'Bahrenfeld', 'Karoviertel', 'Grindel', 'Hoheluft', 'Innenstadt',
                'Landungsbr√ºcken', 'Reeperbahn', 'Planten un Blomen'
            ];

            const addressLower = address.toLowerCase();
            for (const d of districts) {
                if (addressLower.includes(d.toLowerCase())) {
                    return d;
                }
            }
            return null;
        }

        function getCategoryEmoji(cat) {
            const emojis = {
                'wellness': 'üíÜ', 'aktiv': 'üèÉ‚Äç‚ôÄÔ∏è', 'handwerk': 'üî®', 'comedy': 'üòÇ',
                'essen': 'üçΩÔ∏è', 'shows': 'üé≠', 'musical': 'üé≠', 'theater': 'üé≠',
                'variete': 'üé™', 'musik': 'üéµ', 'travel': 'üåç', 'erlebnis': '‚ú®'
            };
            return emojis[cat] || 'üìå';
        }

        function getCategoryName(cat) {
            const names = {
                'wellness': 'Wellness', 'aktiv': 'Aktiv', 'handwerk': 'Handwerk', 'comedy': 'Comedy',
                'essen': 'Essen', 'shows': 'Shows', 'musical': 'Musical', 'theater': 'Theater',
                'variete': 'Variet√©', 'musik': 'Musik', 'travel': 'Reisen', 'erlebnis': 'Erlebnis'
            };
            return names[cat] || cat;
        }

        function generateRecommendations(topCategories, topDistricts, likedEvents, ratings) {
            const recommendations = [];
            const likedIds = new Set(likedEvents.map(e => e.id));

            // Finde Events in Lieblings-Kategorien die noch nicht geliked sind
            const topCats = topCategories.slice(0, 2).map(c => c[0]);
            const topDists = topDistricts.slice(0, 2).map(d => d[0].toLowerCase());

            allEvents.forEach(e => {
                if (likedIds.has(e.id) || ratings[e.id]?.disliked) return;

                let score = 0;
                let reasons = [];

                // Kategorie-Match
                if (topCats.includes(e.category)) {
                    score += 3;
                    reasons.push(`Ihr m√∂gt ${getCategoryName(e.category)}`);
                }

                // Stadtteil-Match
                const district = extractDistrict(e.address || e.location || '');
                if (district && topDists.some(d => district.toLowerCase().includes(d))) {
                    score += 2;
                    reasons.push(`In eurem Lieblingsviertel ${district}`);
                }

                // Vegetarisch/Vegan Bonus (ihr seid vegetarisch)
                if (e.restaurant?.type?.toLowerCase().includes('vegan') ||
                    e.restaurant?.type?.toLowerCase().includes('vegetar')) {
                    score += 1;
                    reasons.push('Vegetarisch/Vegan');
                }

                if (score > 0 && reasons.length > 0) {
                    recommendations.push({
                        id: e.id,
                        emoji: e.emoji,
                        title: e.title,
                        score,
                        reason: reasons[0]
                    });
                }
            });

            // Nach Score sortieren und Top 3 zur√ºckgeben
            return recommendations
                .sort((a, b) => b.score - a.score)
                .slice(0, 3);
        }

        function showEventDetails(eventId) {
            const event = allEvents.find(e => e.id === eventId);
            if (event) {
                // Zur passenden Kategorie navigieren
                const categoryBtn = document.querySelector(`[data-category="${event.category}"]`);
                if (categoryBtn) categoryBtn.click();

                // Event-Karte hervorheben
                setTimeout(() => {
                    const card = document.querySelector(`[data-event-id="${eventId}"]`);
                    if (card) {
                        card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        card.style.animation = 'pulse 0.5s ease 3';
                    }
                }, 300);

                toggleAIInsights();
            }
        }

        // ============ STICKY NAVIGATION ============
        function setupStickyNav() {
            const nav = document.getElementById('navTabs');
            const spacer = document.getElementById('navSpacer');
            if (!nav) return;

            const navTop = nav.offsetTop;

            window.addEventListener('scroll', () => {
                if (window.scrollY > navTop) {
                    nav.classList.add('sticky');
                    spacer.classList.add('active');
                } else {
                    nav.classList.remove('sticky');
                    spacer.classList.remove('active');
                }
            });
        }

        // ============ BACK TO TOP ============
        function setupBackToTop() {
            const btn = document.getElementById('backToTop');
            if (!btn) return;

            window.addEventListener('scroll', () => {
                if (window.scrollY > 500) {
                    btn.classList.add('visible');
                } else {
                    btn.classList.remove('visible');
                }
            });
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ============ GLOBAL SEARCH ============
        function handleSearch(query) {
            const results = document.getElementById('searchResults');
            if (query.length < 2) {
                results.classList.remove('active');
                return;
            }

            const q = query.toLowerCase();
            let matches = [];

            // Events durchsuchen
            allEvents.forEach(e => {
                if (e.title.toLowerCase().includes(q) ||
                    (e.description && e.description.toLowerCase().includes(q)) ||
                    (e.location && e.location.toLowerCase().includes(q))) {
                    matches.push({ type: 'Event', category: e.category, title: e.title, emoji: e.emoji, id: e.id });
                }
            });

            // Restaurants durchsuchen
            venueDatabase.restaurants.forEach(r => {
                if (r.name.toLowerCase().includes(q) || r.type.toLowerCase().includes(q)) {
                    matches.push({ type: 'Restaurant', category: 'essen', title: r.name, emoji: 'üçΩÔ∏è', sub: r.type });
                }
            });

            // Bars durchsuchen
            venueDatabase.bars.forEach(b => {
                if (b.name.toLowerCase().includes(q) || b.type.toLowerCase().includes(q)) {
                    matches.push({ type: 'Bar', category: 'drinks', title: b.name, emoji: 'üç∏', sub: b.type });
                }
            });

            if (matches.length === 0) {
                results.innerHTML = '<div class="search-result-item" style="color:var(--text-light)">Keine Ergebnisse gefunden</div>';
            } else {
                results.innerHTML = matches.slice(0, 10).map(m => `
                    <div class="search-result-item" onclick="goToSearchResult('${m.category}', '${m.id || ''}')">
                        <div><span>${m.emoji}</span> <strong>${m.title}</strong></div>
                        <div class="search-result-category">${m.type}${m.sub ? ' ‚Ä¢ ' + m.sub : ''}</div>
                    </div>
                `).join('');
            }

            results.classList.add('active');
        }

        function goToSearchResult(category, eventId) {
            document.getElementById('searchResults').classList.remove('active');
            document.getElementById('globalSearch').value = '';

            // Zur Kategorie navigieren
            const tab = document.querySelector(`[data-category="${category}"]`);
            if (tab) tab.click();

            // Zum Event scrollen wenn vorhanden
            if (eventId) {
                setTimeout(() => {
                    const card = document.querySelector(`[data-date-id="${eventId}"]`);
                    if (card) card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 300);
            }
        }

        // Suche schlie√üen bei Klick au√üerhalb
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-container')) {
                document.getElementById('searchResults')?.classList.remove('active');
            }
        });

        // ============ MINI CALENDAR ============
        let calendarMonth = new Date().getMonth();
        let calendarYear = new Date().getFullYear();

        function initMiniCalendar() {
            renderMiniCalendar();
        }

        function changeCalendarMonth(delta) {
            calendarMonth += delta;
            if (calendarMonth > 11) { calendarMonth = 0; calendarYear++; }
            if (calendarMonth < 0) { calendarMonth = 11; calendarYear--; }
            renderMiniCalendar();
        }

        function renderMiniCalendar() {
            const grid = document.getElementById('calendarGrid');
            const title = document.getElementById('calendarTitle');
            if (!grid) return;

            const months = ['Januar', 'Februar', 'M√§rz', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'];
            title.textContent = `${months[calendarMonth]} ${calendarYear}`;

            const firstDay = new Date(calendarYear, calendarMonth, 1);
            const lastDay = new Date(calendarYear, calendarMonth + 1, 0);
            const startDay = (firstDay.getDay() + 6) % 7; // Montag als erster Tag
            const today = new Date();

            // Event-Tage sammeln (vergangene Events ausblenden)
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const ratings = saved.ratings || {};
            const activeEvents = getActiveEvents(ratings);
            const eventDays = new Set();
            activeEvents.forEach(e => {
                const d = new Date(e.date);
                if (d.getMonth() === calendarMonth && d.getFullYear() === calendarYear) {
                    eventDays.add(d.getDate());
                }
                // Bei Dauerevents: auch alle Tage dazwischen markieren
                if (e.endDate) {
                    const endD = new Date(e.endDate);
                    let current = new Date(e.date);
                    while (current <= endD) {
                        if (current.getMonth() === calendarMonth && current.getFullYear() === calendarYear) {
                            eventDays.add(current.getDate());
                        }
                        current.setDate(current.getDate() + 1);
                    }
                }
            });

            let html = ['Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa', 'So'].map(d =>
                `<div class="mini-calendar-day header">${d}</div>`
            ).join('');

            // Leere Tage am Anfang
            for (let i = 0; i < startDay; i++) {
                html += '<div class="mini-calendar-day other-month"></div>';
            }

            // Tage des Monats
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const isToday = day === today.getDate() && calendarMonth === today.getMonth() && calendarYear === today.getFullYear();
                const hasEvent = eventDays.has(day);
                const classes = ['mini-calendar-day'];
                if (isToday) classes.push('today');
                if (hasEvent) classes.push('has-event');

                html += `<div class="${classes.join(' ')}" onclick="selectCalendarDay(${day})">${day}</div>`;
            }

            grid.innerHTML = html;
        }

        function selectCalendarDay(day) {
            const dateStr = `${calendarYear}-${String(calendarMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
            document.getElementById('globalDate').value = dateStr;
            showEventsForDate(dateStr);
        }

        // ============ DATE STATS ============
        function updateDateStats() {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const ratings = saved.ratings || {};
            const dateHistory = saved.dateHistory || [];

            // Date Counter
            const counter = document.getElementById('dateCounter');
            if (counter) {
                const count = dateHistory.length || 0;
                animateCounter(counter, count);
            }

            // Favoriten
            const favorites = Object.values(ratings).filter(r => r.liked).length;
            const favEl = document.getElementById('statFavorites');
            if (favEl) favEl.textContent = favorites;

            // Kategorien (einzigartige)
            const likedEvents = allEvents.filter(e => ratings[e.id]?.liked);
            const categories = new Set(likedEvents.map(e => e.category));
            const catEl = document.getElementById('statCategories');
            if (catEl) catEl.textContent = categories.size;

            // Erinnerungen
            const memEl = document.getElementById('statMemories');
            if (memEl) memEl.textContent = memoriesData.length;
        }

        function animateCounter(el, target) {
            let current = 0;
            const increment = Math.ceil(target / 30);
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                el.textContent = current;
            }, 30);
        }

        // ============ DATE HISTORY ============
        function addToDateHistory(eventId) {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            if (!saved.dateHistory) saved.dateHistory = [];

            const event = allEvents.find(e => e.id === eventId);
            if (!event) return;

            saved.dateHistory.unshift({
                id: eventId,
                title: event.title,
                emoji: event.emoji,
                date: new Date().toISOString()
            });

            // Max 50 Eintr√§ge behalten
            saved.dateHistory = saved.dateHistory.slice(0, 50);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));

            updateDateStats();
            updateStreak();
            checkAchievements();
        }

        // ============ STREAK TRACKER ============
        function updateStreak() {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const dateHistory = saved.dateHistory || [];
            const streakEl = document.getElementById('streakDisplay');
            const countEl = document.getElementById('streakCount');

            if (dateHistory.length === 0 || !streakEl) return;

            // Berechne Streak (Wochen mit mindestens einem Date)
            const weeks = new Set();
            dateHistory.forEach(d => {
                const date = new Date(d.date);
                const weekNum = getWeekNumber(date);
                weeks.add(`${date.getFullYear()}-${weekNum}`);
            });

            // Pr√ºfe konsekutive Wochen
            let streak = 0;
            const currentWeek = getWeekNumber(new Date());
            const currentYear = new Date().getFullYear();

            for (let i = 0; i < 52; i++) {
                let checkWeek = currentWeek - i;
                let checkYear = currentYear;
                if (checkWeek <= 0) { checkWeek += 52; checkYear--; }

                if (weeks.has(`${checkYear}-${checkWeek}`)) {
                    streak++;
                } else {
                    break;
                }
            }

            if (streak > 0) {
                streakEl.style.display = 'flex';
                countEl.textContent = streak;
            }
        }

        function getWeekNumber(date) {
            const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
            const dayNum = d.getUTCDay() || 7;
            d.setUTCDate(d.getUTCDate() + 4 - dayNum);
            const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
            return Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
        }

        // ============ ACHIEVEMENTS ============
        const achievementsList = [
            { id: 'first_date', emoji: 'üíï', name: 'Erstes Date', desc: 'Euer erstes gemeinsames Date', check: (s) => (s.dateHistory?.length || 0) >= 1 },
            { id: 'date_5', emoji: 'üéâ', name: '5 Dates', desc: '5 Dates zusammen', check: (s) => (s.dateHistory?.length || 0) >= 5 },
            { id: 'date_10', emoji: 'üèÜ', name: '10 Dates', desc: '10 Dates zusammen!', check: (s) => (s.dateHistory?.length || 0) >= 10 },
            { id: 'date_25', emoji: 'üëë', name: '25 Dates', desc: 'Silber-Jubli√§um!', check: (s) => (s.dateHistory?.length || 0) >= 25 },
            { id: 'wellness', emoji: 'üßñ', name: 'Wellness-Fans', desc: 'Erstes Wellness-Date', check: (s) => s.dateHistory?.some(d => allEvents.find(e => e.id === d.id)?.category === 'wellness') },
            { id: 'handwerk', emoji: 'üî®', name: 'DIY-Profis', desc: 'Erstes Handwerk-Date', check: (s) => s.dateHistory?.some(d => allEvents.find(e => e.id === d.id)?.category === 'handwerk') },
            { id: 'shows', emoji: 'üé≠', name: 'Kulturliebhaber', desc: 'Erstes Show-Date', check: (s) => s.dateHistory?.some(d => ['musical', 'theater', 'variete'].includes(allEvents.find(e => e.id === d.id)?.category)) },
            { id: 'streak_3', emoji: 'üî•', name: '3 Wochen Streak', desc: '3 Wochen in Folge', check: (s) => getStreakCount(s) >= 3 },
            { id: 'explorer', emoji: 'üó∫Ô∏è', name: 'Entdecker', desc: '5 verschiedene Kategorien', check: (s) => countUniqueCategories(s) >= 5 },
            { id: 'traveler', emoji: '‚úàÔ∏è', name: 'Weltenbummler', desc: '3 Reiseziele besucht', check: (s) => (s.visitedCountries?.length || 0) >= 3 },
        ];

        function getStreakCount(saved) {
            const dateHistory = saved.dateHistory || [];
            if (dateHistory.length === 0) return 0;
            const weeks = new Set();
            dateHistory.forEach(d => {
                const date = new Date(d.date);
                weeks.add(`${date.getFullYear()}-${getWeekNumber(date)}`);
            });
            let streak = 0;
            const currentWeek = getWeekNumber(new Date());
            const currentYear = new Date().getFullYear();
            for (let i = 0; i < 52; i++) {
                let checkWeek = currentWeek - i;
                let checkYear = currentYear;
                if (checkWeek <= 0) { checkWeek += 52; checkYear--; }
                if (weeks.has(`${checkYear}-${checkWeek}`)) streak++;
                else break;
            }
            return streak;
        }

        function countUniqueCategories(saved) {
            const dateHistory = saved.dateHistory || [];
            const categories = new Set();
            dateHistory.forEach(d => {
                const event = allEvents.find(e => e.id === d.id);
                if (event) categories.add(event.category);
            });
            return categories.size;
        }

        function initAchievements() {
            renderAchievements();
        }

        function renderAchievements() {
            const grid = document.getElementById('achievementsGrid');
            const countEl = document.getElementById('achievementCount');
            if (!grid) return;

            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            let unlockedCount = 0;

            grid.innerHTML = achievementsList.map(a => {
                const unlocked = a.check(saved);
                if (unlocked) unlockedCount++;
                return `
                    <div class="achievement ${unlocked ? 'unlocked' : 'locked'}">
                        ${a.emoji}
                        <div class="achievement-tooltip">${a.name}</div>
                    </div>
                `;
            }).join('');

            // Update counter in widget bar
            if (countEl) countEl.textContent = unlockedCount;
        }

        function checkAchievements() {
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            if (!saved.unlockedAchievements) saved.unlockedAchievements = [];

            achievementsList.forEach(a => {
                if (a.check(saved) && !saved.unlockedAchievements.includes(a.id)) {
                    saved.unlockedAchievements.push(a.id);
                    showToast(`üèÜ Achievement: ${a.name}!`);
                }
            });

            localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
            renderAchievements();
        }

        // ============ WEATHER ============
        let weatherData = null;

        async function loadWeather() {
            const iconEl = document.getElementById('weatherIcon');
            const tempEl = document.getElementById('weatherTemp');
            if (!iconEl || !tempEl) return;

            try {
                // Erweiterte API-Anfrage mit Stunden-Forecast
                const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=53.55&longitude=10.0&current=temperature_2m,apparent_temperature,weather_code,wind_speed_10m,relative_humidity_2m&hourly=temperature_2m,weather_code,precipitation_probability&timezone=Europe/Berlin&forecast_days=1');
                const data = await response.json();
                weatherData = data;

                const temp = Math.round(data.current.temperature_2m);
                const code = data.current.weather_code;
                const weatherInfo = getWeatherInfo(code);

                // Mini-Widget aktualisieren
                iconEl.textContent = weatherInfo.icon;
                tempEl.textContent = `${temp}¬∞`;

                // Details-Panel aktualisieren
                updateWeatherDetails(data, weatherInfo);
            } catch (e) {
                console.log('Wetter konnte nicht geladen werden');
            }
        }

        function updateWeatherDetails(data, weatherInfo) {
            const current = data.current;

            // Aktuelle Werte
            document.getElementById('weatherDetailsIcon').textContent = weatherInfo.icon;
            document.getElementById('weatherDetailsTemp').textContent = `${Math.round(current.temperature_2m)}¬∞C`;
            document.getElementById('weatherDetailsFeels').textContent = `${Math.round(current.apparent_temperature)}¬∞C`;
            document.getElementById('weatherDetailsWind').textContent = `${Math.round(current.wind_speed_10m)} km/h`;
            document.getElementById('weatherDetailsHumidity').textContent = `${current.relative_humidity_2m}%`;

            // Stunden-Forecast
            const hoursContainer = document.getElementById('weatherHours');
            const currentHour = new Date().getHours();
            let hoursHtml = '';

            for (let i = 0; i < 8; i++) {
                const hourIndex = currentHour + i;
                if (hourIndex >= 24) break;

                const temp = Math.round(data.hourly.temperature_2m[hourIndex]);
                const code = data.hourly.weather_code[hourIndex];
                const rain = data.hourly.precipitation_probability[hourIndex];
                const info = getWeatherInfo(code);

                hoursHtml += `
                    <div class="weather-hour">
                        <div class="weather-hour-time">${hourIndex}:00</div>
                        <div class="weather-hour-icon">${info.icon}</div>
                        <div class="weather-hour-temp">${temp}¬∞</div>
                        ${rain > 30 ? `<div style="font-size:0.65rem;opacity:0.8;">üíß${rain}%</div>` : ''}
                    </div>
                `;
            }
            hoursContainer.innerHTML = hoursHtml;

            // Date-Vorschlag basierend auf Wetter
            const suggestion = getWeatherSuggestion(current.weather_code, current.temperature_2m, current.wind_speed_10m);
            document.getElementById('weatherSuggestion').innerHTML = suggestion;
        }

        function getWeatherSuggestion(code, temp, wind) {
            if (code >= 51 || wind > 30) {
                return 'üè† <strong>Indoor-Date empfohlen!</strong> Wie w√§re es mit Wellness, Kino oder einem gem√ºtlichen Restaurant?';
            }
            if (temp < 5) {
                return '‚ùÑÔ∏è <strong>Kalt drau√üen!</strong> Perfekt f√ºr Hamam, Sauna oder ein warmes Caf√©.';
            }
            if (temp > 20 && code <= 3) {
                return '‚òÄÔ∏è <strong>Super Wetter!</strong> Ideal f√ºr einen Spaziergang, Fahrradtour oder Picknick.';
            }
            if (code <= 3) {
                return 'üëç <strong>Gutes Wetter!</strong> Drinnen und drau√üen m√∂glich.';
            }
            return '‚õÖ <strong>Wechselhaft.</strong> Plant am besten eine Indoor-Alternative ein!';
        }

        function toggleWeatherDetails() {
            const panel = document.getElementById('weatherDetails');
            if (panel) {
                panel.classList.toggle('visible');
            }
        }

        function getWeatherInfo(code) {
            if (code === 0) return { icon: '‚òÄÔ∏è', desc: 'Sonnig' };
            if (code <= 3) return { icon: '‚õÖ', desc: 'Teilweise bew√∂lkt' };
            if (code <= 48) return { icon: '‚òÅÔ∏è', desc: 'Bew√∂lkt' };
            if (code <= 67) return { icon: 'üåßÔ∏è', desc: 'Regen' };
            if (code <= 77) return { icon: 'üå®Ô∏è', desc: 'Schnee' };
            if (code <= 82) return { icon: 'üåßÔ∏è', desc: 'Starker Regen' };
            return { icon: '‚õàÔ∏è', desc: 'Gewitter' };
        }

        // ============ ESSEN SUCHE & KOCHEN ============
        const dateNightRecipes = [
            {
                id: 'pasta-aglio',
                title: 'Pasta Aglio e Olio',
                desc: 'Italienischer Klassiker - simpel aber unglaublich lecker! Knoblauch, Oliven√∂l, Chili, Petersilie.',
                time: '20 Min',
                tags: ['vegan', 'schnell', 'italienisch'],
                image: 'https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9?w=400',
                link: 'https://www.chefkoch.de/rezepte/1169381223132029/Spaghetti-aglio-olio-e-peperoncino.html',
                ingredients: ['400g Spaghetti', '6 Knoblauchzehen', '100ml Oliven√∂l', '1 Chilischote', 'Petersilie', 'Salz']
            },
            {
                id: 'thai-curry',
                title: 'Rotes Thai-Curry',
                desc: 'Cremiges Kokos-Curry mit Gem√ºse und Tofu. W√§rmt von innen!',
                time: '35 Min',
                tags: ['vegan', 'asiatisch', 'w√§rmend'],
                image: 'https://images.unsplash.com/photo-1455619452474-d2be8b1e70cd?w=400',
                link: 'https://www.chefkoch.de/rezepte/2713081421498566/Rotes-Thai-Curry-vegan.html',
                ingredients: ['400ml Kokosmilch', '2 EL rote Currypaste', '200g Tofu', 'Paprika', 'Zucchini', 'Reis']
            },
            {
                id: 'buddha-bowl',
                title: 'Buddha Bowl',
                desc: 'Bunte Bowl mit Quinoa, ger√∂stetem Gem√ºse und Tahini-Dressing. Gesund & lecker!',
                time: '40 Min',
                tags: ['vegan', 'gesund', 'bowl'],
                image: 'https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400',
                link: 'https://www.chefkoch.de/rezepte/2892731449747990/Buddha-Bowl.html',
                ingredients: ['200g Quinoa', 'S√º√ükartoffel', 'Kichererbsen', 'Avocado', 'Tahini', 'Zitrone']
            },
            {
                id: 'risotto',
                title: 'Pilzrisotto',
                desc: 'Cremiges Risotto mit Champignons und Parmesan. Perfekt f√ºr einen gem√ºtlichen Abend!',
                time: '45 Min',
                tags: ['vegetarisch', 'italienisch', 'gem√ºtlich'],
                image: 'https://images.unsplash.com/photo-1476124369491-e7addf5db371?w=400',
                link: 'https://www.chefkoch.de/rezepte/1041881212526568/Risotto-mit-Pilzen.html',
                ingredients: ['300g Risottoreis', '300g Champignons', 'Wei√üwein', 'Gem√ºsebr√ºhe', 'Parmesan', 'Butter']
            },
            {
                id: 'tacos',
                title: 'Vegane Tacos',
                desc: 'Knusprige Tacos mit Jackfruit-"Pulled Pork", Guacamole und Salsa. Fiesta!',
                time: '30 Min',
                tags: ['vegan', 'mexikanisch', 'party'],
                image: 'https://images.unsplash.com/photo-1551504734-5ee1c4a1479b?w=400',
                link: 'https://www.chefkoch.de/rezepte/3156921474147929/Vegane-Pulled-Jackfruit-Tacos.html',
                ingredients: ['1 Dose Jackfruit', 'Taco-Shells', 'Avocado', 'Tomaten', 'Limette', 'Koriander']
            },
            {
                id: 'ramen',
                title: 'Vegane Miso-Ramen',
                desc: 'Dampfende Nudelsuppe mit Miso, Pak Choi und Tofu. Seelenw√§rmer!',
                time: '40 Min',
                tags: ['vegan', 'japanisch', 'suppe'],
                image: 'https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=400',
                link: 'https://www.chefkoch.de/rezepte/3219301482814247/Vegane-Miso-Ramen.html',
                ingredients: ['Ramen-Nudeln', '2 EL Miso-Paste', 'Tofu', 'Pak Choi', 'Fr√ºhlingszwiebeln', 'Sesam']
            }
        ];

        function initRecipes() {
            const grid = document.getElementById('recipeGrid');
            if (!grid) return;

            grid.innerHTML = dateNightRecipes.map(r => `
                <div class="recipe-card">
                    <div class="recipe-image" style="background-image:url('${r.image}')">
                        <span class="recipe-time">‚è±Ô∏è ${r.time}</span>
                    </div>
                    <div class="recipe-content">
                        <div class="recipe-title">${r.title}</div>
                        <div class="recipe-desc">${r.desc}</div>
                        <div class="recipe-tags">
                            ${r.tags.map(t => `<span class="recipe-tag ${t === 'vegan' ? 'vegan' : ''}">${t}</span>`).join('')}
                        </div>
                        <a href="${r.link}" target="_blank" class="recipe-link">‚Üí Zum Rezept</a>
                    </div>
                </div>
            `).join('');
        }

        function showFoodMode(mode) {
            const restaurantMode = document.getElementById('food-restaurant-mode');
            const cookMode = document.getElementById('food-cook-mode');
            const btns = document.querySelectorAll('.food-toggle-btn');

            btns.forEach(b => b.classList.remove('active'));

            if (mode === 'cook') {
                restaurantMode.style.display = 'none';
                cookMode.style.display = 'block';
                btns[1].classList.add('active');
                initRecipes();
            } else {
                restaurantMode.style.display = 'block';
                cookMode.style.display = 'none';
                btns[0].classList.add('active');
            }
        }

        function searchFood() {
            const query = document.getElementById('foodSearchInput').value.toLowerCase().trim();
            if (!query) return;

            const resultsDiv = document.getElementById('food-search-results');

            // Suche in der Venue-Datenbank
            const matches = [];

            venueDatabase.restaurants.forEach(r => {
                const searchText = `${r.name} ${r.type} ${r.address}`.toLowerCase();
                if (searchText.includes(query)) {
                    matches.push(r);
                }
            });

            // Auch in Events suchen
            allEvents.filter(e => e.category === 'essen').forEach(e => {
                const searchText = `${e.title} ${e.description} ${e.restaurant?.name || ''}`.toLowerCase();
                if (searchText.includes(query)) {
                    matches.push({
                        name: e.restaurant?.name || e.title,
                        type: e.restaurant?.type || e.description,
                        address: e.restaurant?.address || e.location,
                        link: e.restaurant?.link || e.link,
                        empfehlung: e.restaurant?.empfehlung
                    });
                }
            });

            if (matches.length === 0) {
                resultsDiv.innerHTML = `
                    <div class="food-search-results">
                        <p style="text-align:center;color:var(--text-light);">
                            Nichts gefunden f√ºr "${query}".<br>
                            <strong>Tipp:</strong> Probier "vegan", "italienisch", "ramen" oder "burger"!
                        </p>
                    </div>
                `;
            } else {
                resultsDiv.innerHTML = `
                    <div class="food-search-results">
                        <h4 style="margin-bottom:12px;">üîç ${matches.length} Ergebnisse f√ºr "${query}":</h4>
                        ${matches.slice(0, 5).map(r => `
                            <div class="food-result-item">
                                <div class="food-result-info">
                                    <h4>üçΩÔ∏è ${r.name}</h4>
                                    <p>${r.type} ‚Ä¢ ${r.address}</p>
                                    ${r.empfehlung ? `<p style="color:var(--sage);margin-top:4px;">üí° ${r.empfehlung}</p>` : ''}
                                </div>
                                ${r.link ? `<a href="${r.link}" target="_blank" class="btn btn-secondary" style="flex-shrink:0;">‚Üí Website</a>` : ''}
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            resultsDiv.style.display = 'block';
        }

        // Enter-Taste f√ºr Suche
        document.addEventListener('DOMContentLoaded', () => {
            const foodInput = document.getElementById('foodSearchInput');
            if (foodInput) {
                foodInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') searchFood();
                });
            }
        });

        // ============ LIGHTBOX FOR MEMORIES ============
        let currentLightboxIndex = 0;

        function openLightbox(index) {
            currentLightboxIndex = index;
            const memory = memoriesData[index];
            const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
            const savedMem = saved.memories?.[memory.id] || {};

            document.getElementById('lightboxImg').src = memory.image || memory.src;
            document.getElementById('lightboxCaption').textContent = savedMem.caption || memory.caption || memory.title;
            document.getElementById('lightbox').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
            document.body.style.overflow = '';
        }

        function navigateLightbox(delta) {
            currentLightboxIndex += delta;
            if (currentLightboxIndex < 0) currentLightboxIndex = memoriesData.length - 1;
            if (currentLightboxIndex >= memoriesData.length) currentLightboxIndex = 0;
            openLightbox(currentLightboxIndex);
        }

        // Keyboard navigation f√ºr Lightbox
        document.addEventListener('keydown', (e) => {
            const lightbox = document.getElementById('lightbox');
            if (!lightbox?.classList.contains('active')) return;

            if (e.key === 'Escape') closeLightbox();
            if (e.key === 'ArrowLeft') navigateLightbox(-1);
            if (e.key === 'ArrowRight') navigateLightbox(1);
        });

        // ============ COUNTDOWN HELPER ============
        function getCountdownText(dateStr) {
            if (!dateStr) return null;
            const eventDate = new Date(dateStr);
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            eventDate.setHours(0, 0, 0, 0);

            const diffTime = eventDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

            if (diffDays < 0) return { text: 'Vorbei', class: 'past' };
            if (diffDays === 0) return { text: 'Heute!', class: 'today' };
            if (diffDays === 1) return { text: 'Morgen!', class: 'today' };
            if (diffDays <= 7) return { text: `Noch ${diffDays} Tage`, class: 'soon' };
            if (diffDays <= 14) return { text: `In ${diffDays} Tagen`, class: '' };
            return null;
        }

        // ============ UPDATE renderEventCard with Countdown ============
        const originalRenderEventCard = renderEventCard;
        renderEventCard = function(e, ratings, showDateBuilder = false) {
            let html = originalRenderEventCard(e, ratings, showDateBuilder);

            // Countdown Badge hinzuf√ºgen
            const countdown = getCountdownText(e.date);
            if (countdown && countdown.class !== 'past') {
                const badgeHtml = `<span class="countdown-badge ${countdown.class}">${countdown.text}</span>`;
                html = html.replace('</div>\n                </div>\n                <div class="date-card-body">',
                    `${badgeHtml}</div>\n                </div>\n                <div class="date-card-body">`);
            }

            // Past Event Klasse
            if (countdown?.class === 'past' && !e.endDate) {
                html = html.replace('class="date-card"', 'class="date-card past-event"');
            }

            return html;
        };

    </script>
</body>
</html>
